var h_=Object.defineProperty,m_=Object.defineProperties;var g_=Object.getOwnPropertyDescriptors;var Lh=Object.getOwnPropertySymbols;var y_=Object.prototype.hasOwnProperty,v_=Object.prototype.propertyIsEnumerable;var jh=(e,n,t)=>n in e?h_(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,_=(e,n)=>{for(var t in n||={})y_.call(n,t)&&jh(e,t,n[t]);if(Lh)for(var t of Lh(n))v_.call(n,t)&&jh(e,t,n[t]);return e},R=(e,n)=>m_(e,g_(n));var Ke=null,As=!1,au=1,C_=null,nt=Symbol("SIGNAL");function H(e){let n=Ke;return Ke=e,n}function Rs(){return Ke}var eo={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function to(e){if(As)throw new Error("");if(Ke===null)return;Ke.consumerOnSignalRead(e);let n=Ke.producersTail;if(n!==void 0&&n.producer===e)return;let t,r=Ke.recomputing;if(r&&(t=n!==void 0?n.nextProducer:Ke.producers,t!==void 0&&t.producer===e)){Ke.producersTail=t,t.lastReadVersion=e.version;return}let i=e.consumersTail;if(i!==void 0&&i.consumer===Ke&&(!r||b_(i,Ke)))return;let o=ai(Ke),s={producer:e,consumer:Ke,nextProducer:t,prevConsumer:i,lastReadVersion:e.version,nextConsumer:void 0};Ke.producersTail=s,n!==void 0?n.nextProducer=s:Ke.producers=s,o&&Hh(e,s)}function Vh(){au++}function cu(e){if(!(ai(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===au)){if(!e.producerMustRecompute(e)&&!ks(e)){su(e);return}e.producerRecomputeValue(e),su(e)}}function lu(e){if(e.consumers===void 0)return;let n=As;As=!0;try{for(let t=e.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||__(r)}}finally{As=n}}function uu(){return Ke?.consumerAllowSignalWrites!==!1}function __(e){e.dirty=!0,lu(e),e.consumerMarkedDirty?.(e)}function su(e){e.dirty=!1,e.lastCleanEpoch=au}function no(e){return e&&Bh(e),H(e)}function Bh(e){e.producersTail=void 0,e.recomputing=!0}function Ns(e,n){H(n),e&&Uh(e)}function Uh(e){e.recomputing=!1;let n=e.producersTail,t=n!==void 0?n.nextProducer:e.producers;if(t!==void 0){if(ai(e))do t=du(t);while(t!==void 0);n!==void 0?n.nextProducer=void 0:e.producers=void 0}}function ks(e){for(let n=e.producers;n!==void 0;n=n.nextProducer){let t=n.producer,r=n.lastReadVersion;if(r!==t.version||(cu(t),r!==t.version))return!0}return!1}function ro(e){if(ai(e)){let n=e.producers;for(;n!==void 0;)n=du(n)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function Hh(e,n){let t=e.consumersTail,r=ai(e);if(t!==void 0?(n.nextConsumer=t.nextConsumer,t.nextConsumer=n):(n.nextConsumer=void 0,e.consumers=n),n.prevConsumer=t,e.consumersTail=n,!r)for(let i=e.producers;i!==void 0;i=i.nextProducer)Hh(i.producer,i)}function du(e){let n=e.producer,t=e.nextProducer,r=e.nextConsumer,i=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:n.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(n.consumers=r,!ai(n)){let o=n.producers;for(;o!==void 0;)o=du(o)}return t}function ai(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function fu(e){C_?.(e)}function b_(e,n){let t=n.producersTail;if(t!==void 0){let r=n.producers;do{if(r===e)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function pu(e,n){return Object.is(e,n)}function Fs(e,n){let t=Object.create(D_);t.computation=e,n!==void 0&&(t.equal=n);let r=()=>{if(cu(t),to(t),t.value===Ps)throw t.error;return t.value};return r[nt]=t,fu(t),r}var iu=Symbol("UNSET"),ou=Symbol("COMPUTING"),Ps=Symbol("ERRORED"),D_=R(_({},eo),{value:iu,dirty:!0,error:null,equal:pu,kind:"computed",producerMustRecompute(e){return e.value===iu||e.value===ou},producerRecomputeValue(e){if(e.value===ou)throw new Error("");let n=e.value;e.value=ou;let t=no(e),r,i=!1;try{r=e.computation(),H(null),i=n!==iu&&n!==Ps&&r!==Ps&&e.equal(n,r)}catch(o){r=Ps,e.error=o}finally{Ns(e,t)}if(i){e.value=n;return}e.value=r,e.version++}});function E_(){throw new Error}var $h=E_;function zh(e){$h(e)}function hu(e){$h=e}var w_=null;function mu(e,n){let t=Object.create(Ls);t.value=e,n!==void 0&&(t.equal=n);let r=()=>Wh(t);return r[nt]=t,fu(t),[r,s=>io(t,s),s=>Gh(t,s)]}function Wh(e){return to(e),e.value}function io(e,n){uu()||zh(e),e.equal(e.value,n)||(e.value=n,M_(e))}function Gh(e,n){uu()||zh(e),io(e,n(e.value))}var Ls=R(_({},eo),{equal:pu,value:void 0,kind:"signal"});function M_(e){e.version++,Vh(),lu(e),w_?.(e)}function gu(e){let n=H(null);try{return e()}finally{H(n)}}function Z(e){return typeof e=="function"}function ci(e){let t=e(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var js=ci(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function oo(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var He=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Z(r))try{r()}catch(o){n=o instanceof js?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{qh(o)}catch(s){n=n??[],s instanceof js?n=[...n,...s.errors]:n.push(s)}}if(n)throw new js(n)}}add(n){var t;if(n&&n!==this)if(this.closed)qh(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&oo(t,n)}remove(n){let{_finalizers:t}=this;t&&oo(t,n),n instanceof e&&n._removeParent(this)}};He.EMPTY=(()=>{let e=new He;return e.closed=!0,e})();var yu=He.EMPTY;function Vs(e){return e instanceof He||e&&"closed"in e&&Z(e.remove)&&Z(e.add)&&Z(e.unsubscribe)}function qh(e){Z(e)?e():e.unsubscribe()}var zt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var li={setTimeout(e,n,...t){let{delegate:r}=li;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=li;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Bs(e){li.setTimeout(()=>{let{onUnhandledError:n}=zt;if(n)n(e);else throw e})}function so(){}var Zh=vu("C",void 0,void 0);function Yh(e){return vu("E",void 0,e)}function Kh(e){return vu("N",e,void 0)}function vu(e,n,t){return{kind:e,value:n,error:t}}var wr=null;function ui(e){if(zt.useDeprecatedSynchronousErrorHandling){let n=!wr;if(n&&(wr={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:r}=wr;if(wr=null,t)throw r}}else e()}function Qh(e){zt.useDeprecatedSynchronousErrorHandling&&wr&&(wr.errorThrown=!0,wr.error=e)}var Mr=class extends He{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Vs(n)&&n.add(this)):this.destination=x_}static create(n,t,r){return new Qn(n,t,r)}next(n){this.isStopped?_u(Kh(n),this):this._next(n)}error(n){this.isStopped?_u(Yh(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?_u(Zh,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},I_=Function.prototype.bind;function Cu(e,n){return I_.call(e,n)}var bu=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){Us(r)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){Us(r)}else Us(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Us(t)}}},Qn=class extends Mr{constructor(n,t,r){super();let i;if(Z(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&zt.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&Cu(n.next,o),error:n.error&&Cu(n.error,o),complete:n.complete&&Cu(n.complete,o)}):i=n}this.destination=new bu(i)}};function Us(e){zt.useDeprecatedSynchronousErrorHandling?Qh(e):Bs(e)}function S_(e){throw e}function _u(e,n){let{onStoppedNotification:t}=zt;t&&li.setTimeout(()=>t(e,n))}var x_={closed:!0,next:so,error:S_,complete:so};var di=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Wt(e){return e}function Du(...e){return Eu(e)}function Eu(e){return e.length===0?Wt:e.length===1?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}var te=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=O_(t)?t:new Qn(t,r,i);return ui(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Jh(r),new r((i,o)=>{let s=new Qn({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[di](){return this}pipe(...t){return Eu(t)(this)}toPromise(t){return t=Jh(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=n=>new e(n),e})();function Jh(e){var n;return(n=e??zt.Promise)!==null&&n!==void 0?n:Promise}function T_(e){return e&&Z(e.next)&&Z(e.error)&&Z(e.complete)}function O_(e){return e&&e instanceof Mr||T_(e)&&Vs(e)}function A_(e){return Z(e?.lift)}function ce(e){return n=>{if(A_(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function le(e,n,t,r,i){return new wu(e,n,t,r,i)}var wu=class extends Mr{constructor(n,t,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){n.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};var Xh=ci(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Te=(()=>{class e extends te{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Hs(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Xh}next(t){ui(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){ui(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ui(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?yu:(this.currentObservers=null,o.push(t),new He(()=>{this.currentObservers=null,oo(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new te;return t.source=this,t}}return e.create=(n,t)=>new Hs(n,t),e})(),Hs=class extends Te{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,n)}error(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&r!==void 0?r:yu}};var $e=class extends Te{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var ut=new te(e=>e.complete());function em(e){return e&&Z(e.schedule)}function tm(e){return e[e.length-1]}function $s(e){return Z(tm(e))?e.pop():void 0}function Jn(e){return em(tm(e))?e.pop():void 0}function rm(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(p){try{d(r.next(p))}catch(m){s(m)}}function c(p){try{d(r.throw(p))}catch(m){s(m)}}function d(p){p.done?o(p.value):i(p.value).then(a,c)}d((r=r.apply(e,n||[])).next())})}function nm(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ir(e){return this instanceof Ir?(this.v=e,this):new Ir(e)}function im(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(b){return Promise.resolve(b).then(g,m)}}function a(g,b){r[g]&&(i[g]=function(F){return new Promise(function(A,P){o.push([g,F,A,P])>1||c(g,F)})},b&&(i[g]=b(i[g])))}function c(g,b){try{d(r[g](b))}catch(F){y(o[0][3],F)}}function d(g){g.value instanceof Ir?Promise.resolve(g.value.v).then(p,m):y(o[0][2],g)}function p(g){c("next",g)}function m(g){c("throw",g)}function y(g,b){g(b),o.shift(),o.length&&c(o[0][0],o[0][1])}}function om(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof nm=="function"?nm(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(d){o({value:d,done:a})},s)}}var zs=e=>e&&typeof e.length=="number"&&typeof e!="function";function Ws(e){return Z(e?.then)}function Gs(e){return Z(e[di])}function qs(e){return Symbol.asyncIterator&&Z(e?.[Symbol.asyncIterator])}function Zs(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function P_(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ys=P_();function Ks(e){return Z(e?.[Ys])}function Qs(e){return im(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:r,done:i}=yield Ir(t.read());if(i)return yield Ir(void 0);yield yield Ir(r)}}finally{t.releaseLock()}})}function Js(e){return Z(e?.getReader)}function Oe(e){if(e instanceof te)return e;if(e!=null){if(Gs(e))return R_(e);if(zs(e))return N_(e);if(Ws(e))return k_(e);if(qs(e))return sm(e);if(Ks(e))return F_(e);if(Js(e))return L_(e)}throw Zs(e)}function R_(e){return new te(n=>{let t=e[di]();if(Z(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function N_(e){return new te(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function k_(e){return new te(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Bs)})}function F_(e){return new te(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function sm(e){return new te(n=>{j_(e,n).catch(t=>n.error(t))})}function L_(e){return sm(Qs(e))}function j_(e,n){var t,r,i,o;return rm(this,void 0,void 0,function*(){try{for(t=om(e);r=yield t.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}n.complete()})}function dt(e,n,t,r=0,i=!1){let o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Xs(e,n=0){return ce((t,r)=>{t.subscribe(le(r,i=>dt(r,e,()=>r.next(i),n),()=>dt(r,e,()=>r.complete(),n),i=>dt(r,e,()=>r.error(i),n)))})}function ea(e,n=0){return ce((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function am(e,n){return Oe(e).pipe(ea(n),Xs(n))}function cm(e,n){return Oe(e).pipe(ea(n),Xs(n))}function lm(e,n){return new te(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}function um(e,n){return new te(t=>{let r;return dt(t,n,()=>{r=e[Ys](),dt(t,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>Z(r?.return)&&r.return()})}function ta(e,n){if(!e)throw new Error("Iterable cannot be null");return new te(t=>{dt(t,n,()=>{let r=e[Symbol.asyncIterator]();dt(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function dm(e,n){return ta(Qs(e),n)}function fm(e,n){if(e!=null){if(Gs(e))return am(e,n);if(zs(e))return lm(e,n);if(Ws(e))return cm(e,n);if(qs(e))return ta(e,n);if(Ks(e))return um(e,n);if(Js(e))return dm(e,n)}throw Zs(e)}function fe(e,n){return n?fm(e,n):Oe(e)}function G(...e){let n=Jn(e);return fe(e,n)}function Pn(e,n){let t=Z(e)?e:()=>e,r=i=>i.error(t());return new te(n?i=>n.schedule(r,0,i):r)}function na(e){return!!e&&(e instanceof te||Z(e.lift)&&Z(e.subscribe))}var Rn=ci(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function he(e,n){let t=typeof n=="object";return new Promise((r,i)=>{let o=new Qn({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{t?r(n.defaultValue):i(new Rn)}});e.subscribe(o)})}function oe(e,n){return ce((t,r)=>{let i=0;t.subscribe(le(r,o=>{r.next(e.call(n,o,i++))}))})}var{isArray:V_}=Array;function B_(e,n){return V_(n)?e(...n):e(n)}function ra(e){return oe(n=>B_(e,n))}var{isArray:U_}=Array,{getPrototypeOf:H_,prototype:$_,keys:z_}=Object;function ia(e){if(e.length===1){let n=e[0];if(U_(n))return{args:n,keys:null};if(W_(n)){let t=z_(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}function W_(e){return e&&typeof e=="object"&&H_(e)===$_}function oa(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}function sa(...e){let n=Jn(e),t=$s(e),{args:r,keys:i}=ia(e);if(r.length===0)return fe([],n);let o=new te(G_(r,n,i?s=>oa(i,s):Wt));return t?o.pipe(ra(t)):o}function G_(e,n,t=Wt){return r=>{pm(n,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)pm(n,()=>{let d=fe(e[c],n),p=!1;d.subscribe(le(r,m=>{o[c]=m,p||(p=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function pm(e,n,t){e?dt(t,e,n):n()}function hm(e,n,t,r,i,o,s,a){let c=[],d=0,p=0,m=!1,y=()=>{m&&!c.length&&!d&&n.complete()},g=F=>d<r?b(F):c.push(F),b=F=>{o&&n.next(F),d++;let A=!1;Oe(t(F,p++)).subscribe(le(n,P=>{i?.(P),o?g(P):n.next(P)},()=>{A=!0},void 0,()=>{if(A)try{for(d--;c.length&&d<r;){let P=c.shift();s?dt(n,s,()=>b(P)):b(P)}y()}catch(P){n.error(P)}}))};return e.subscribe(le(n,g,()=>{m=!0,y()})),()=>{a?.()}}function ze(e,n,t=1/0){return Z(n)?ze((r,i)=>oe((o,s)=>n(r,o,i,s))(Oe(e(r,i))),t):(typeof n=="number"&&(t=n),ce((r,i)=>hm(r,i,e,t)))}function Xn(e=1/0){return ze(Wt,e)}function mm(){return Xn(1)}function fi(...e){return mm()(fe(e,Jn(e)))}function ao(e){return new te(n=>{Oe(e()).subscribe(n)})}function Mu(...e){let n=$s(e),{args:t,keys:r}=ia(e),i=new te(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,d=s;for(let p=0;p<s;p++){let m=!1;Oe(t[p]).subscribe(le(o,y=>{m||(m=!0,d--),a[p]=y},()=>c--,void 0,()=>{(!c||!m)&&(d||o.next(r?oa(r,a):a),o.complete())}))}});return n?i.pipe(ra(n)):i}function ft(e,n){return ce((t,r)=>{let i=0;t.subscribe(le(r,o=>e.call(n,o,i++)&&r.next(o)))})}function dn(e){return ce((n,t)=>{let r=null,i=!1,o;r=n.subscribe(le(t,void 0,void 0,s=>{o=Oe(e(s,dn(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function er(e,n){return Z(n)?ze(e,n,1):ze(e,1)}function Iu(e){return ce((n,t)=>{let r=!1;n.subscribe(le(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function Nn(e){return e<=0?()=>ut:ce((n,t)=>{let r=0;n.subscribe(le(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function gm(e=q_){return ce((n,t)=>{let r=!1;n.subscribe(le(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function q_(){return new Rn}function co(e){return ce((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function kn(e,n){let t=arguments.length>=2;return r=>r.pipe(e?ft((i,o)=>e(i,o,r)):Wt,Nn(1),t?Iu(n):gm(()=>new Rn))}function aa(e){return e<=0?()=>ut:ce((n,t)=>{let r=[];n.subscribe(le(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Su(...e){let n=Jn(e);return ce((t,r)=>{(n?fi(e,t,n):fi(e,t)).subscribe(r)})}function Qe(e,n){return ce((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(le(r,c=>{i?.unsubscribe();let d=0,p=o++;Oe(e(c,p)).subscribe(i=le(r,m=>r.next(n?n(c,m,p,d++):m),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function lo(e){return ce((n,t)=>{Oe(e).subscribe(le(t,()=>t.complete(),so)),!t.closed&&n.subscribe(t)})}function rt(e,n,t){let r=Z(e)||n||t?{next:e,error:n,complete:t}:e;return r?ce((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(le(o,c=>{var d;(d=r.next)===null||d===void 0||d.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,c),o.error(c)},()=>{var c,d;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):Wt}var xu;function ca(){return xu}function fn(e){let n=xu;return xu=e,n}var ym=Symbol("NotFound");function pi(e){return e===ym||e?.name==="\u0275NotFound"}var pa="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",M=class extends Error{code;constructor(n,t){super(hn(n,t)),this.code=n}};function K_(e){return`NG0${Math.abs(e)}`}function hn(e,n){return`${K_(e)}${n?": "+n:""}`}var Tt=globalThis;function ue(e){for(let n in e)if(e[n]===ue)return n;throw Error("")}function Dm(e,n){for(let t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Ln(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Ln).join(", ")}]`;if(e==null)return""+e;let n=e.overriddenName||e.name;if(n)return`${n}`;let t=e.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function ha(e,n){return e?n?`${e} ${n}`:e:n||""}var Q_=ue({__forward_ref__:ue});function pt(e){return e.__forward_ref__=pt,e.toString=function(){return Ln(this())},e}function We(e){return $u(e)?e():e}function $u(e){return typeof e=="function"&&e.hasOwnProperty(Q_)&&e.__forward_ref__===pt}function D(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ot(e){return{providers:e.providers||[],imports:e.imports||[]}}function go(e){return J_(e,ma)}function zu(e){return go(e)!==null}function J_(e,n){return e.hasOwnProperty(n)&&e[n]||null}function X_(e){let n=e?.[ma]??null;return n||null}function Ou(e){return e&&e.hasOwnProperty(ua)?e[ua]:null}var ma=ue({\u0275prov:ue}),ua=ue({\u0275inj:ue}),O=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=D({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Wu(e){return e&&!!e.\u0275providers}var Gu=ue({\u0275cmp:ue}),qu=ue({\u0275dir:ue}),Zu=ue({\u0275pipe:ue}),Yu=ue({\u0275mod:ue}),fo=ue({\u0275fac:ue}),Ar=ue({__NG_ELEMENT_ID__:ue}),vm=ue({__NG_ENV_ID__:ue});function Ku(e){return ga(e,"@NgModule"),e[Yu]||null}function jn(e){return ga(e,"@Component"),e[Gu]||null}function Qu(e){return ga(e,"@Directive"),e[qu]||null}function Em(e){return ga(e,"@Pipe"),e[Zu]||null}function ga(e,n){if(e==null)throw new M(-919,!1)}function mn(e){return typeof e=="string"?e:e==null?"":String(e)}function wm(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():mn(e)}var Mm=ue({ngErrorCode:ue}),eb=ue({ngErrorMessage:ue}),tb=ue({ngTokenPath:ue});function Ju(e,n){return Im("",-200,n)}function ya(e,n){throw new M(-201,!1)}function Im(e,n,t){let r=new M(n,e);return r[Mm]=n,r[eb]=e,t&&(r[tb]=t),r}function nb(e){return e[Mm]}var Au;function Sm(){return Au}function it(e){let n=Au;return Au=e,n}function Xu(e,n,t){let r=go(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(n!==void 0)return n;ya(e,"")}var rb={},Sr=rb,ib="__NG_DI_FLAG__",Pu=class{injector;constructor(n){this.injector=n}retrieve(n,t){let r=xr(t)||0;try{return this.injector.get(n,r&8?null:Sr,r)}catch(i){if(pi(i))return i;throw i}}};function ob(e,n=0){let t=ca();if(t===void 0)throw new M(-203,!1);if(t===null)return Xu(e,void 0,n);{let r=sb(n),i=t.retrieve(e,r);if(pi(i)){if(r.optional)return null;throw i}return i}}function T(e,n=0){return(Sm()||ob)(We(e),n)}function v(e,n){return T(e,xr(n))}function xr(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function sb(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function Ru(e){let n=[];for(let t=0;t<e.length;t++){let r=We(e[t]);if(Array.isArray(r)){if(r.length===0)throw new M(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=ab(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}n.push(T(i,o))}else n.push(T(r))}return n}function ab(e){return e[ib]}function tr(e,n){let t=e.hasOwnProperty(fo);return t?e[fo]:null}function xm(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=n[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function Tm(e){return e.flat(Number.POSITIVE_INFINITY)}function va(e,n){e.forEach(t=>Array.isArray(t)?va(t,n):n(t))}function ed(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function yo(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Om(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(i===1)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;){let o=i-2;e[i]=e[o],i--}e[n]=t,e[n+1]=r}}function Ca(e,n,t){let r=mi(e,n);return r>=0?e[r|1]=t:(r=~r,Om(e,r,n,t)),r}function _a(e,n){let t=mi(e,n);if(t>=0)return e[t|1]}function mi(e,n){return cb(e,n,1)}function cb(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<t];if(n===s)return o<<t;s>n?i=o:r=o+1}return~(i<<t)}var ir={},ot=[],or=new O(""),td=new O("",-1),nd=new O(""),po=class{get(n,t=Sr){if(t===Sr){let i=Im("",-201);throw i.name="\u0275NotFound",i}return t}};function Gt(e){return{\u0275providers:e}}function Am(e){return Gt([{provide:or,multi:!0,useValue:e}])}function Pm(...e){return{\u0275providers:rd(!0,e),\u0275fromNgModule:!0}}function rd(e,...n){let t=[],r=new Set,i,o=s=>{t.push(s)};return va(n,s=>{let a=s;da(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Rm(i,o),t}function Rm(e,n){for(let t=0;t<e.length;t++){let{ngModule:r,providers:i}=e[t];id(i,o=>{n(o,r)})}}function da(e,n,t,r){if(e=We(e),!e)return!1;let i=null,o=Ou(e),s=!o&&jn(e);if(!o&&!s){let c=e.ngModule;if(o=Ou(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of c)da(d,n,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let d;try{va(o.imports,p=>{da(p,n,t,r)&&(d||=[],d.push(p))})}finally{}d!==void 0&&Rm(d,n)}if(!a){let d=tr(i)||(()=>new i);n({provide:i,useFactory:d,deps:ot},i),n({provide:nd,useValue:i,multi:!0},i),n({provide:or,useValue:()=>T(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let d=e;id(c,p=>{n(p,d)})}}else return!1;return i!==e&&e.providers!==void 0}function id(e,n){for(let t of e)Wu(t)&&(t=t.\u0275providers),Array.isArray(t)?id(t,n):n(t)}var lb=ue({provide:String,useValue:ue});function Nm(e){return e!==null&&typeof e=="object"&&lb in e}function ub(e){return!!(e&&e.useExisting)}function db(e){return!!(e&&e.useFactory)}function Tr(e){return typeof e=="function"}function km(e){return!!e.useClass}var vo=new O(""),la={},Cm={},Tu;function Co(){return Tu===void 0&&(Tu=new po),Tu}var be=class{},Or=class extends be{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,ku(n,s=>this.processProvider(s)),this.records.set(td,hi(void 0,this)),i.has("environment")&&this.records.set(be,hi(void 0,this));let o=this.records.get(vo);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(nd,ot,{self:!0}))}retrieve(n,t){let r=xr(t)||0;try{return this.get(n,Sr,r)}catch(i){if(pi(i))return i;throw i}}destroy(){uo(this),this._destroyed=!0;let n=H(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),H(n)}}onDestroy(n){return uo(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){uo(this);let t=fn(this),r=it(void 0),i;try{return n()}finally{fn(t),it(r)}}get(n,t=Sr,r){if(uo(this),n.hasOwnProperty(vm))return n[vm](this);let i=xr(r),o,s=fn(this),a=it(void 0);try{if(!(i&4)){let d=this.records.get(n);if(d===void 0){let p=gb(n)&&go(n);p&&this.injectableDefInScope(p)?d=hi(Nu(n),la):d=null,this.records.set(n,d)}if(d!=null)return this.hydrate(n,d,i)}let c=i&2?Co():this.parent;return t=i&8&&t===Sr?null:t,c.get(n,t)}catch(c){let d=nb(c);throw d===-200||d===-201?new M(d,null):c}finally{it(a),fn(s)}}resolveInjectorInitializers(){let n=H(null),t=fn(this),r=it(void 0),i;try{let o=this.get(or,ot,{self:!0});for(let s of o)s()}finally{fn(t),it(r),H(n)}}toString(){let n=[],t=this.records;for(let r of t.keys())n.push(Ln(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=We(n);let t=Tr(n)?n:We(n&&n.provide),r=pb(n);if(!Tr(n)&&n.multi===!0){let i=this.records.get(t);i||(i=hi(void 0,la,!0),i.factory=()=>Ru(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t,r){let i=H(null);try{if(t.value===Cm)throw Ju(Ln(n));return t.value===la&&(t.value=Cm,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&mb(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{H(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=We(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Nu(e){let n=go(e),t=n!==null?n.factory:tr(e);if(t!==null)return t;if(e instanceof O)throw new M(204,!1);if(e instanceof Function)return fb(e);throw new M(204,!1)}function fb(e){if(e.length>0)throw new M(204,!1);let t=X_(e);return t!==null?()=>t.factory(e):()=>new e}function pb(e){if(Nm(e))return hi(void 0,e.useValue);{let n=od(e);return hi(n,la)}}function od(e,n,t){let r;if(Tr(e)){let i=We(e);return tr(i)||Nu(i)}else if(Nm(e))r=()=>We(e.useValue);else if(db(e))r=()=>e.useFactory(...Ru(e.deps||[]));else if(ub(e))r=(i,o)=>T(We(e.useExisting),o!==void 0&&o&8?8:void 0);else{let i=We(e&&(e.useClass||e.provide));if(hb(e))r=()=>new i(...Ru(e.deps));else return tr(i)||Nu(i)}return r}function uo(e){if(e.destroyed)throw new M(205,!1)}function hi(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function hb(e){return!!e.deps}function mb(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function gb(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function ku(e,n){for(let t of e)Array.isArray(t)?ku(t,n):t&&Wu(t)?ku(t.\u0275providers,n):n(t)}function Be(e,n){let t;e instanceof Or?(uo(e),t=e):t=new Pu(e);let r,i=fn(t),o=it(void 0);try{return n()}finally{fn(i),it(o)}}function Fm(){return Sm()!==void 0||ca()!=null}var qt=0,B=1,W=2,ke=3,At=4,Pt=5,gi=6,yi=7,De=8,Vn=9,gn=10,me=11,vi=12,sd=13,Pr=14,ht=15,sr=16,Rr=17,yn=18,_o=19,ad=20,Fn=21,ba=22,bo=23,_t=24,Nr=25,kr=26,Fe=27,Lm=1,cd=6,ar=7,Do=8,Fr=9,Ee=10;function vn(e){return Array.isArray(e)&&typeof e[Lm]=="object"}function Zt(e){return Array.isArray(e)&&e[Lm]===!0}function ld(e){return(e.flags&4)!==0}function cr(e){return e.componentOffset>-1}function Da(e){return(e.flags&1)===1}function Cn(e){return!!e.template}function Ci(e){return(e[W]&512)!==0}function Lr(e){return(e[W]&256)===256}var jm="svg",Vm="math";function Rt(e){for(;Array.isArray(e);)e=e[qt];return e}function ud(e,n){return Rt(n[e])}function Yt(e,n){return Rt(n[e.index])}function Eo(e,n){return e.data[n]}function Bm(e,n){return e[n]}function dd(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}function Nt(e,n){let t=n[e];return vn(t)?t:t[qt]}function Um(e){return(e[W]&4)===4}function Ea(e){return(e[W]&128)===128}function Hm(e){return Zt(e[ke])}function _n(e,n){return n==null?null:e[n]}function fd(e){e[Rr]=0}function pd(e){e[W]&1024||(e[W]|=1024,Ea(e)&&_i(e))}function $m(e,n){for(;e>0;)n=n[Pr],e--;return n}function wo(e){return!!(e[W]&9216||e[_t]?.dirty)}function wa(e){e[gn].changeDetectionScheduler?.notify(8),e[W]&64&&(e[W]|=1024),wo(e)&&_i(e)}function _i(e){e[gn].changeDetectionScheduler?.notify(0);let n=nr(e);for(;n!==null&&!(n[W]&8192||(n[W]|=8192,!Ea(n)));)n=nr(n)}function hd(e,n){if(Lr(e))throw new M(911,!1);e[Fn]===null&&(e[Fn]=[]),e[Fn].push(n)}function zm(e,n){if(e[Fn]===null)return;let t=e[Fn].indexOf(n);t!==-1&&e[Fn].splice(t,1)}function nr(e){let n=e[ke];return Zt(n)?n[ke]:n}function md(e){return e[yi]??=[]}function gd(e){return e.cleanup??=[]}function Wm(e,n,t,r){let i=md(n);i.push(t),e.firstCreatePass&&gd(e).push(r,i.length-1)}var X={lFrame:ig(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Fu=!1;function Gm(){return X.lFrame.elementDepthCount}function qm(){X.lFrame.elementDepthCount++}function yd(){X.lFrame.elementDepthCount--}function Zm(){return X.bindingsEnabled}function Ym(){return X.skipHydrationRootTNode!==null}function vd(e){return X.skipHydrationRootTNode===e}function Cd(){X.skipHydrationRootTNode=null}function z(){return X.lFrame.lView}function Ie(){return X.lFrame.tView}function N(e){return X.lFrame.contextLView=e,e[De]}function k(e){return X.lFrame.contextLView=null,e}function Ue(){let e=_d();for(;e!==null&&e.type===64;)e=e.parent;return e}function _d(){return X.lFrame.currentTNode}function Km(){let e=X.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function bi(e,n){let t=X.lFrame;t.currentTNode=e,t.isParent=n}function bd(){return X.lFrame.isParent}function Qm(){X.lFrame.isParent=!1}function Dd(){return Fu}function Ed(e){let n=Fu;return Fu=e,n}function Ma(){let e=X.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function wd(){return X.lFrame.bindingIndex}function Jm(e){return X.lFrame.bindingIndex=e}function lr(){return X.lFrame.bindingIndex++}function Mo(e){let n=X.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function Xm(){return X.lFrame.inI18n}function eg(e,n){let t=X.lFrame;t.bindingIndex=t.bindingRootIndex=e,Ia(n)}function tg(){return X.lFrame.currentDirectiveIndex}function Ia(e){X.lFrame.currentDirectiveIndex=e}function ng(e){let n=X.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function Md(){return X.lFrame.currentQueryIndex}function Sa(e){X.lFrame.currentQueryIndex=e}function yb(e){let n=e[B];return n.type===2?n.declTNode:n.type===1?e[Pt]:null}function Id(e,n,t){if(t&4){let i=n,o=e;for(;i=i.parent,i===null&&!(t&1);)if(i=yb(o),i===null||(o=o[Pr],i.type&10))break;if(i===null)return!1;n=i,e=o}let r=X.lFrame=rg();return r.currentTNode=n,r.lView=e,!0}function xa(e){let n=rg(),t=e[B];X.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function rg(){let e=X.lFrame,n=e===null?null:e.child;return n===null?ig(e):n}function ig(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function og(){let e=X.lFrame;return X.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Sd=og;function Ta(){let e=og();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function sg(e){return(X.lFrame.contextLView=$m(e,X.lFrame.contextLView))[De]}function Kt(){return X.lFrame.selectedIndex}function ur(e){X.lFrame.selectedIndex=e}function Io(){let e=X.lFrame;return Eo(e.tView,e.selectedIndex)}function ag(){return X.lFrame.currentNamespace}var cg=!0;function Oa(){return cg}function Aa(e){cg=e}function Lu(e,n=null,t=null,r){let i=xd(e,n,t,r);return i.resolveInjectorInitializers(),i}function xd(e,n=null,t=null,r,i=new Set){let o=[t||ot,Pm(e)];return r=r||(typeof e=="object"?void 0:Ln(e)),new Or(o,n||Co(),r||null,i)}var Je=class e{static THROW_IF_NOT_FOUND=Sr;static NULL=new po;static create(n,t){if(Array.isArray(n))return Lu({name:""},t,n,"");{let r=n.name??"";return Lu({name:r},n.parent,n.providers,r)}}static \u0275prov=D({token:e,providedIn:"any",factory:()=>T(td)});static __NG_ELEMENT_ID__=-1},ve=new O(""),kt=(()=>{class e{static __NG_ELEMENT_ID__=vb;static __NG_ENV_ID__=t=>t}return e})(),ju=class extends kt{_lView;constructor(n){super(),this._lView=n}get destroyed(){return Lr(this._lView)}onDestroy(n){let t=this._lView;return hd(t,n),()=>zm(t,n)}};function vb(){return new ju(z())}var lg=!1,Bn=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new $e(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new te(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})(),Vu=class extends Te{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,Fm()&&(this.destroyRef=v(kt,{optional:!0})??void 0,this.pendingTasks=v(Bn,{optional:!0})??void 0)}emit(n){let t=H(null);try{super.next(n)}finally{H(t)}}subscribe(n,t,r){let i=n,o=t||(()=>null),s=r;if(n&&typeof n=="object"){let c=n;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return n instanceof He&&n.add(a),a}wrapInTimeout(n){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Me=Vu;function fa(...e){}function Td(e){let n,t;function r(){e=fa;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Od(e){return queueMicrotask(()=>e()),()=>{e=fa}}var Ad="isAngularZone",ho=Ad+"_ID",Cb=0,Xe=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Me(!1);onMicrotaskEmpty=new Me(!1);onStable=new Me(!1);onError=new Me(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=lg}=n;if(typeof Zone>"u")throw new M(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Db(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ad)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new M(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new M(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,_b,fa,fa);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}},_b={};function Pd(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function bb(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){Td(()=>{e.callbackScheduled=!1,Bu(e),e.isCheckStableRunning=!0,Pd(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),Bu(e)}function Db(e){let n=()=>{bb(e)},t=Cb++;e._inner=e._inner.fork({name:"angular",properties:{[Ad]:!0,[ho]:t,[ho+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(Eb(c))return r.invokeTask(o,s,a,c);try{return _m(e),r.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),bm(e)}},onInvoke:(r,i,o,s,a,c,d)=>{try{return _m(e),r.invoke(o,s,a,c,d)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!wb(c)&&n(),bm(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Bu(e),Pd(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Bu(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function _m(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function bm(e){e._nesting--,Pd(e)}var mo=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Me;onMicrotaskEmpty=new Me;onStable=new Me;onError=new Me;run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}};function Eb(e){return ug(e,"__ignore_ng_zone__")}function wb(e){return ug(e,"__scheduler_tick__")}function ug(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var pn=class{_console=console;handleError(n){this._console.error("ERROR",n)}},bt=new O("",{factory:()=>{let e=v(Xe),n=v(be),t;return r=>{e.runOutsideAngular(()=>{n.destroyed&&!t?setTimeout(()=>{throw r}):(t??=n.get(pn),t.handleError(r))})}}}),dg={provide:or,useValue:()=>{let e=v(pn,{optional:!0})},multi:!0},Mb=new O("",{factory:()=>{let e=v(ve).defaultView;if(!e)return;let n=v(bt),t=o=>{n(o.reason),o.preventDefault()},r=o=>{o.error?n(o.error):n(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{e.addEventListener("unhandledrejection",t),e.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),v(kt).onDestroy(()=>{e.removeEventListener("error",r),e.removeEventListener("unhandledrejection",t)})}});function Rd(){return Gt([Am(()=>void v(Mb))])}function L(e,n){let[t,r,i]=mu(e,n?.equal),o=t,s=o[nt];return o.set=r,o.update=i,o.asReadonly=fg.bind(o),o}function fg(){let e=this[nt];if(e.readonlyFn===void 0){let n=()=>this();n[nt]=e,e.readonlyFn=n}return e.readonlyFn}var Pa=(()=>{class e{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=Ib}return e})();function Ib(){return new Pa(z(),Ue())}var rr=class{},So=new O("",{factory:()=>!0});var Nd=new O(""),Ra=(()=>{class e{internalPendingTasks=v(Bn);scheduler=v(rr);errorHandler=v(bt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})(),kd=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:()=>new Uu})}return e})(),Uu=class{dirtyEffectCount=0;queues=new Map;add(n){this.enqueue(n),this.schedule(n)}schedule(n){n.dirty&&this.dirtyEffectCount++}remove(n){let t=n.zone,r=this.queues.get(t);r.has(n)&&(r.delete(n),n.dirty&&this.dirtyEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(n)||r.add(n)}flush(){for(;this.dirtyEffectCount>0;){let n=!1;for(let[t,r]of this.queues)t===null?n||=this.flushQueue(r):n||=t.run(()=>this.flushQueue(r));n||(this.dirtyEffectCount=0)}}flushQueue(n){let t=!1;for(let r of n)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}},Hu=class{[nt];constructor(n){this[nt]=n}destroy(){this[nt].destroy()}};function Le(e){return gu(e)}function Lo(e){return{toString:e}.toString()}function Nb(e){return typeof e=="function"}function Wg(e,n,t,r){n!==null?n.applyValueToInputSignal(n,r):e[t]=r}var $a=class{previousValue;currentValue;firstChange;constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}},En=(()=>{let e=()=>Gg;return e.ngInherit=!0,e})();function Gg(e){return e.type.prototype.ngOnChanges&&(e.setInput=Fb),kb}function kb(){let e=Zg(this),n=e?.current;if(n){let t=e.previous;if(t===ir)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function Fb(e,n,t,r,i){let o=this.declaredInputs[r],s=Zg(e)||Lb(e,{previous:ir,current:null}),a=s.current||(s.current={}),c=s.previous,d=c[o];a[o]=new $a(d&&d.currentValue,t,c===ir),Wg(e,n,i,t)}var qg="__ngSimpleChanges__";function Zg(e){return e[qg]||null}function Lb(e,n){return e[qg]=n}var pg=[];var de=function(e,n=null,t){for(let r=0;r<pg.length;r++){let i=pg[r];i(e,n,t)}},ne=(function(e){return e[e.TemplateCreateStart=0]="TemplateCreateStart",e[e.TemplateCreateEnd=1]="TemplateCreateEnd",e[e.TemplateUpdateStart=2]="TemplateUpdateStart",e[e.TemplateUpdateEnd=3]="TemplateUpdateEnd",e[e.LifecycleHookStart=4]="LifecycleHookStart",e[e.LifecycleHookEnd=5]="LifecycleHookEnd",e[e.OutputStart=6]="OutputStart",e[e.OutputEnd=7]="OutputEnd",e[e.BootstrapApplicationStart=8]="BootstrapApplicationStart",e[e.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",e[e.BootstrapComponentStart=10]="BootstrapComponentStart",e[e.BootstrapComponentEnd=11]="BootstrapComponentEnd",e[e.ChangeDetectionStart=12]="ChangeDetectionStart",e[e.ChangeDetectionEnd=13]="ChangeDetectionEnd",e[e.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",e[e.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",e[e.AfterRenderHooksStart=16]="AfterRenderHooksStart",e[e.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",e[e.ComponentStart=18]="ComponentStart",e[e.ComponentEnd=19]="ComponentEnd",e[e.DeferBlockStateStart=20]="DeferBlockStateStart",e[e.DeferBlockStateEnd=21]="DeferBlockStateEnd",e[e.DynamicComponentStart=22]="DynamicComponentStart",e[e.DynamicComponentEnd=23]="DynamicComponentEnd",e[e.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",e[e.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",e})(ne||{});function jb(e,n,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){let s=Gg(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function Vb(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:d,ngOnDestroy:p}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),c&&(e.viewHooks??=[]).push(-t,c),d&&((e.viewHooks??=[]).push(t,d),(e.viewCheckHooks??=[]).push(t,d)),p!=null&&(e.destroyHooks??=[]).push(t,p)}}function ja(e,n,t){Yg(e,n,3,t)}function Va(e,n,t,r){(e[W]&3)===t&&Yg(e,n,t,r)}function Fd(e,n){let t=e[W];(t&3)===n&&(t&=16383,t+=1,e[W]=t)}function Yg(e,n,t,r){let i=r!==void 0?e[Rr]&65535:0,o=r??-1,s=n.length-1,a=0;for(let c=i;c<s;c++)if(typeof n[c+1]=="number"){if(a=n[c],r!=null&&a>=r)break}else n[c]<0&&(e[Rr]+=65536),(a<o||o==-1)&&(Bb(e,t,n,c),e[Rr]=(e[Rr]&4294901760)+c+2),c++}function hg(e,n){de(ne.LifecycleHookStart,e,n);let t=H(null);try{n.call(e)}finally{H(t),de(ne.LifecycleHookEnd,e,n)}}function Bb(e,n,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=e[s];i?e[W]>>14<e[Rr]>>16&&(e[W]&3)===n&&(e[W]+=16384,hg(a,o)):hg(a,o)}var Ei=-1,Vr=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,r,i){this.factory=n,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function Ub(e){return(e.flags&8)!==0}function Hb(e){return(e.flags&16)!==0}function $b(e,n,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,o)}else{let o=i,s=t[++r];zb(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),r++}}return r}function Kg(e){return e===3||e===4||e===6}function zb(e){return e.charCodeAt(0)===64}function wi(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){let i=n[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?mg(e,t,i,null,n[++r]):mg(e,t,i,null,null))}}return e}function mg(e,n,t,r,i){let o=0,s=e.length;if(n===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===t){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),i!==null&&e.splice(o++,0,i)}function Qg(e){return e!==Ei}function za(e){return e&32767}function Wb(e){return e>>16}function Wa(e,n){let t=Wb(e),r=n;for(;t>0;)r=r[Pr],t--;return r}var qd=!0;function Ga(e){let n=qd;return qd=e,n}var Gb=256,Jg=Gb-1,Xg=5,qb=0,bn={};function Zb(e,n,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ar)&&(r=t[Ar]),r==null&&(r=t[Ar]=qb++);let i=r&Jg,o=1<<i;n.data[e+(i>>Xg)]|=o}function qa(e,n){let t=ey(e,n);if(t!==-1)return t;let r=n[B];r.firstCreatePass&&(e.injectorIndex=n.length,Ld(r.data,e),Ld(n,null),Ld(r.blueprint,null));let i=Of(e,n),o=e.injectorIndex;if(Qg(i)){let s=za(i),a=Wa(i,n),c=a[B].data;for(let d=0;d<8;d++)n[o+d]=a[s+d]|c[s+d]}return n[o+8]=i,o}function Ld(e,n){e.push(0,0,0,0,0,0,0,0,n)}function ey(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function Of(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;i!==null;){if(r=oy(i),r===null)return Ei;if(t++,i=i[Pr],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ei}function Zd(e,n,t){Zb(e,n,t)}function Yb(e,n){if(n==="class")return e.classes;if(n==="style")return e.styles;let t=e.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(Kg(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===n)return t[i+1];i=i+2}}}return null}function ty(e,n,t){if(t&8||e!==void 0)return e;ya(n,"NodeInjector")}function ny(e,n,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=e[Vn],o=it(void 0);try{return i?i.get(n,r,t&8):Xu(n,r,t&8)}finally{it(o)}}return ty(r,n,t)}function ry(e,n,t,r=0,i){if(e!==null){if(n[W]&2048&&!(r&2)){let s=Xb(e,n,t,r,bn);if(s!==bn)return s}let o=iy(e,n,t,r,bn);if(o!==bn)return o}return ny(n,t,r,i)}function iy(e,n,t,r,i){let o=Qb(t);if(typeof o=="function"){if(!Id(n,e,r))return r&1?ty(i,t,r):ny(n,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))ya(t);else return s}finally{Sd()}}else if(typeof o=="number"){let s=null,a=ey(e,n),c=Ei,d=r&1?n[ht][Pt]:null;for((a===-1||r&4)&&(c=a===-1?Of(e,n):n[a+8],c===Ei||!yg(r,!1)?a=-1:(s=n[B],a=za(c),n=Wa(c,n)));a!==-1;){let p=n[B];if(gg(o,a,p.data)){let m=Kb(a,n,t,s,r,d);if(m!==bn)return m}c=n[a+8],c!==Ei&&yg(r,n[B].data[a+8]===d)&&gg(o,a,n)?(s=p,a=za(c),n=Wa(c,n)):a=-1}}return i}function Kb(e,n,t,r,i,o){let s=n[B],a=s.data[e+8],c=r==null?cr(a)&&qd:r!=s&&(a.type&3)!==0,d=i&1&&o===a,p=Ba(a,s,t,c,d);return p!==null?Ao(n,s,p,a,i):bn}function Ba(e,n,t,r,i){let o=e.providerIndexes,s=n.data,a=o&1048575,c=e.directiveStart,d=e.directiveEnd,p=o>>20,m=r?a:a+p,y=i?a+p:d;for(let g=m;g<y;g++){let b=s[g];if(g<c&&t===b||g>=c&&b.type===t)return g}if(i){let g=s[c];if(g&&Cn(g)&&g.type===t)return c}return null}function Ao(e,n,t,r,i){let o=e[t],s=n.data;if(o instanceof Vr){let a=o;if(a.resolving){let g=wm(s[t]);throw Ju(g)}let c=Ga(a.canSeeViewProviders);a.resolving=!0;let d=s[t].type||s[t],p,m=a.injectImpl?it(a.injectImpl):null,y=Id(e,r,0);try{o=e[t]=a.factory(void 0,i,s,e,r),n.firstCreatePass&&t>=r.directiveStart&&jb(t,s[t],n)}finally{m!==null&&it(m),Ga(c),a.resolving=!1,Sd()}}return o}function Qb(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(Ar)?e[Ar]:void 0;return typeof n=="number"?n>=0?n&Jg:Jb:n}function gg(e,n,t){let r=1<<e;return!!(t[n+(e>>Xg)]&r)}function yg(e,n){return!(e&2)&&!(e&1&&n)}var jr=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return ry(this._tNode,this._lView,n,xr(r),t)}};function Jb(){return new jr(Ue(),z())}function Ft(e){return Lo(()=>{let n=e.prototype.constructor,t=n[fo]||Yd(n),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[fo]||Yd(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Yd(e){return $u(e)?()=>{let n=Yd(We(e));return n&&n()}:tr(e)}function Xb(e,n,t,r,i){let o=e,s=n;for(;o!==null&&s!==null&&s[W]&2048&&!Ci(s);){let a=iy(o,s,t,r|2,bn);if(a!==bn)return a;let c=o.parent;if(!c){let d=s[ad];if(d){let p=d.get(t,bn,r);if(p!==bn)return p}c=oy(s),s=s[Pr]}o=c}return i}function oy(e){let n=e[B],t=n.type;return t===2?n.declTNode:t===1?e[Pt]:null}function jo(e){return Yb(Ue(),e)}function eD(){return xi(Ue(),z())}function xi(e,n){return new et(Yt(e,n))}var et=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=eD}return e})();function tD(e){return e instanceof et?e.nativeElement:e}function nD(){return this._results[Symbol.iterator]()}var Za=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Te}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){this.dirty=!1;let r=Tm(n);(this._changesDetected=!xm(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=nD};function sy(e){return(e.flags&128)===128}var Af=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(Af||{}),ay=new Map,rD=0;function iD(){return rD++}function oD(e){ay.set(e[_o],e)}function Kd(e){ay.delete(e[_o])}var vg="__ngContext__";function Mi(e,n){vn(n)?(e[vg]=n[_o],oD(n)):e[vg]=n}function cy(e){return uy(e[vi])}function ly(e){return uy(e[At])}function uy(e){for(;e!==null&&!Zt(e);)e=e[At];return e}var sD;function Pf(e){sD=e}var ac=new O("",{factory:()=>aD}),aD="ng";var cc=new O(""),Vo=new O("",{providedIn:"platform",factory:()=>"unknown"});var lc=new O("",{factory:()=>v(ve).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var dy="r";var fy="di";var py=!1,hy=new O("",{factory:()=>py});var uc=new O("");var cD=(e,n,t,r)=>{};function lD(e,n,t,r){cD(e,n,t,r)}function Rf(e){return(e.flags&32)===32}var uD=()=>null;function my(e,n,t=!1){return uD(e,n,t)}function gy(e,n){let t=e.contentQueries;if(t!==null){let r=H(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=e.data[s];Sa(o),a.contentQueries(2,n[s],s)}}}finally{H(r)}}}function Qd(e,n,t){Sa(0);let r=H(null);try{n(e,t)}finally{H(r)}}function yy(e,n,t){if(ld(n)){let r=H(null);try{let i=n.directiveStart,o=n.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{H(r)}}}var Xt=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e[e.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",e})(Xt||{});var Na;function dD(){if(Na===void 0&&(Na=null,Tt.trustedTypes))try{Na=Tt.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Na}function dc(e){return dD()?.createHTML(e)||e}var ka;function fD(){if(ka===void 0&&(ka=null,Tt.trustedTypes))try{ka=Tt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ka}function Cg(e){return fD()?.createScriptURL(e)||e}var Un=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pa})`}},Jd=class extends Un{getTypeName(){return"HTML"}},Xd=class extends Un{getTypeName(){return"Style"}},ef=class extends Un{getTypeName(){return"Script"}},tf=class extends Un{getTypeName(){return"URL"}},nf=class extends Un{getTypeName(){return"ResourceURL"}};function Lt(e){return e instanceof Un?e.changingThisBreaksApplicationSecurity:e}function Hn(e,n){let t=vy(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${pa})`)}return t===n}function vy(e){return e instanceof Un&&e.getTypeName()||null}function Nf(e){return new Jd(e)}function kf(e){return new Xd(e)}function Ff(e){return new ef(e)}function Lf(e){return new tf(e)}function jf(e){return new nf(e)}function pD(e){let n=new of(e);return hD()?new rf(n):n}var rf=class{inertDocumentHelper;constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{let t=new window.DOMParser().parseFromString(dc(n),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(n):(t.firstChild?.remove(),t)}catch{return null}}},of=class{defaultDoc;inertDocument;constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){let t=this.inertDocument.createElement("template");return t.innerHTML=dc(n),t}};function hD(){try{return!!new window.DOMParser().parseFromString(dc(""),"text/html")}catch{return!1}}var mD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Bo(e){return e=String(e),e.match(mD)?e:"unsafe:"+e}function $n(e){let n={};for(let t of e.split(","))n[t]=!0;return n}function Uo(...e){let n={};for(let t of e)for(let r in t)t.hasOwnProperty(r)&&(n[r]=!0);return n}var Cy=$n("area,br,col,hr,img,wbr"),_y=$n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),by=$n("rp,rt"),gD=Uo(by,_y),yD=Uo(_y,$n("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),vD=Uo(by,$n("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),_g=Uo(Cy,yD,vD,gD),Dy=$n("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),CD=$n("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_D=$n("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),bD=Uo(Dy,CD,_D),DD=$n("script,style,template"),sf=class{sanitizedSomething=!1;buf=[];sanitizeChildren(n){let t=n.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=MD(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=wD(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(n){let t=bg(n).toLowerCase();if(!_g.hasOwnProperty(t))return this.sanitizedSomething=!0,!DD.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=n.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!bD.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;Dy[a]&&(c=Bo(c)),this.buf.push(" ",s,'="',Dg(c),'"')}return this.buf.push(">"),!0}endElement(n){let t=bg(n).toLowerCase();_g.hasOwnProperty(t)&&!Cy.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(n){this.buf.push(Dg(n))}};function ED(e,n){return(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function wD(e){let n=e.nextSibling;if(n&&e!==n.previousSibling)throw Ey(n);return n}function MD(e){let n=e.firstChild;if(n&&ED(e,n))throw Ey(n);return n}function bg(e){let n=e.nodeName;return typeof n=="string"?n:"FORM"}function Ey(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var ID=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,SD=/([^\#-~ |!])/g;function Dg(e){return e.replace(/&/g,"&amp;").replace(ID,function(n){let t=n.charCodeAt(0),r=n.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(SD,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Fa;function Vf(e,n){let t=null;try{Fa=Fa||pD(e);let r=n?String(n):"";t=Fa.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=Fa.getInertBodyElement(r)}while(r!==o);let a=new sf().sanitizeChildren(Eg(t)||t);return dc(a)}finally{if(t){let r=Eg(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function Eg(e){return"content"in e&&xD(e)?e.content:null}function xD(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}function TD(e,n){return e.createText(n)}function OD(e,n,t){e.setValue(n,t)}function wy(e,n,t){return e.createElement(n,t)}function Ya(e,n,t,r,i){e.insertBefore(n,t,r,i)}function My(e,n,t){e.appendChild(n,t)}function wg(e,n,t,r,i){r!==null?Ya(e,n,t,r,i):My(e,n,t)}function Iy(e,n,t,r){e.removeChild(null,n,t,r)}function AD(e,n,t){e.setAttribute(n,"style",t)}function PD(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function Sy(e,n,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&$b(e,n,r),i!==null&&PD(e,n,i),o!==null&&AD(e,n,o)}var en=(function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e})(en||{});function jt(e){let n=xy();return n?n.sanitize(en.URL,e)||"":Hn(e,"URL")?Lt(e):Bo(mn(e))}function fc(e){let n=xy();if(n)return Cg(n.sanitize(en.RESOURCE_URL,e)||"");if(Hn(e,"ResourceURL"))return Cg(Lt(e));throw new M(904,!1)}function RD(e,n){return n==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||n==="href"&&(e==="base"||e==="link")?fc:jt}function Bf(e,n,t){return RD(n,t)(e)}function xy(){let e=z();return e&&e[gn].sanitizer}function Ty(e){return e instanceof Function?e():e}function ND(e,n,t){let r=e.length;for(;;){let i=e.indexOf(n,t);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}var Oy="ng-template";function kD(e,n,t,r){let i=0;if(r){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&ND(n[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Uf(e))return!1;if(i=n.indexOf(1,i),i>-1){let o;for(;++i<n.length&&typeof(o=n[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Uf(e){return e.type===4&&e.value!==Oy}function FD(e,n,t){let r=e.type===4&&!t?Oy:e.value;return n===r}function LD(e,n,t){let r=4,i=e.attrs,o=i!==null?BD(i):0,s=!1;for(let a=0;a<n.length;a++){let c=n[a];if(typeof c=="number"){if(!s&&!Qt(r)&&!Qt(c))return!1;if(s&&Qt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!FD(e,c,t)||c===""&&n.length===1){if(Qt(r))return!1;s=!0}}else if(r&8){if(i===null||!kD(e,i,c,t)){if(Qt(r))return!1;s=!0}}else{let d=n[++a],p=jD(c,i,Uf(e),t);if(p===-1){if(Qt(r))return!1;s=!0;continue}if(d!==""){let m;if(p>o?m="":m=i[p+1].toLowerCase(),r&2&&d!==m){if(Qt(r))return!1;s=!0}}}}return Qt(r)||s}function Qt(e){return(e&1)===0}function jD(e,n,t,r){if(n===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){let s=n[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++i];for(;typeof a=="string";)a=n[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return UD(n,e)}function VD(e,n,t=!1){for(let r=0;r<n.length;r++)if(LD(e,n[r],t))return!0;return!1}function BD(e){for(let n=0;n<e.length;n++){let t=e[n];if(Kg(t))return n}return e.length}function UD(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let r=e[t];if(typeof r=="number")return-1;if(r===n)return t;t++}return-1}function Mg(e,n){return e?":not("+n.trim()+")":n}function HD(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(r&2){let a=e[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Qt(s)&&(n+=Mg(o,i),i=""),r=s,o=o||!Qt(r);t++}return i!==""&&(n+=Mg(o,i)),n}function $D(e){return e.map(HD).join(",")}function zD(e){let n=[],t=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&n.push(o,e[++r]):i===8&&t.push(o);else{if(!Qt(i))break;i=o}r++}return t.length&&n.push(1,...t),n}var Ge={};function Hf(e,n,t,r,i,o,s,a,c,d,p){let m=Fe+r,y=m+i,g=WD(m,y),b=typeof d=="function"?d():d;return g[B]={type:e,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:n,data:g.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:b,incompleteFirstPass:!1,ssrId:p}}function WD(e,n){let t=[];for(let r=0;r<n;r++)t.push(r<e?null:Ge);return t}function GD(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=Hf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function $f(e,n,t,r,i,o,s,a,c,d,p){let m=n.blueprint.slice();return m[qt]=i,m[W]=r|4|128|8|64|1024,(d!==null||e&&e[W]&2048)&&(m[W]|=2048),fd(m),m[ke]=m[Pr]=e,m[De]=t,m[gn]=s||e&&e[gn],m[me]=a||e&&e[me],m[Vn]=c||e&&e[Vn]||null,m[Pt]=o,m[_o]=iD(),m[gi]=p,m[ad]=d,m[ht]=n.type==2?e[ht]:m,m}function qD(e,n,t){let r=Yt(n,e),i=GD(t),o=e[gn].rendererFactory,s=zf(e,$f(e,i,null,Ay(t),r,n,null,o.createRenderer(r,t),null,null,null));return e[n.index]=s}function Ay(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function Py(e,n,t,r){if(t===0)return-1;let i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function zf(e,n){return e[vi]?e[sd][At]=n:e[vi]=n,e[sd]=n,n}function h(e=1){Ry(Ie(),z(),Kt()+e,!1)}function Ry(e,n,t,r){if(!r)if((n[W]&3)===3){let o=e.preOrderCheckHooks;o!==null&&ja(n,o,t)}else{let o=e.preOrderHooks;o!==null&&Va(n,o,0,t)}ur(t)}var pc=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(pc||{});function af(e,n,t,r){let i=H(null);try{let[o,s,a]=e.inputs[t],c=null;(s&pc.SignalBased)!==0&&(c=n[o][nt]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(n,r)),e.setInput!==null?e.setInput(n,c,r,t,o):Wg(n,c,o,r)}finally{H(i)}}var Dn=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(Dn||{}),ZD;function Wf(e,n){return ZD(e,n)}var Br=new Set,hc=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(hc||{}),zn=new O(""),Ig=new Set;function wn(e){Ig.has(e)||(Ig.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Gf=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})(),Ny=[0,1,2,3],ky=(()=>{class e{ngZone=v(Xe);scheduler=v(rr);errorHandler=v(pn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){v(zn,{optional:!0})}execute(){let t=this.sequences.size>0;t&&de(ne.AfterRenderHooksStart),this.executing=!0;for(let r of Ny)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&de(ne.AfterRenderHooksEnd)}register(t){let{view:r}=t;r!==void 0?((r[Nr]??=[]).push(t),_i(r),r[W]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(hc.AFTER_NEXT_RENDER,t):t()}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})(),Ka=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,t,r,i,o,s=null){this.impl=n,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[Nr];n&&(this.view[Nr]=n.filter(t=>t!==this))}};function Ho(e,n){let t=n?.injector??v(Je);return wn("NgAfterNextRender"),KD(e,t,n,!0)}function YD(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function KD(e,n,t,r){let i=n.get(Gf);i.impl??=n.get(ky);let o=n.get(zn,null,{optional:!0}),s=t?.manualCleanup!==!0?n.get(kt):null,a=n.get(Pa,null,{optional:!0}),c=new Ka(i.impl,YD(e),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}var Fy=new O("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:v(be)})});function Ly(e,n,t){let r=e.get(Fy);if(Array.isArray(n))for(let i of n)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(n),t?.detachedLeaveAnimationFns?.push(n);r.scheduler&&r.scheduler(e)}function QD(e,n){let t=e.get(Fy);if(n.detachedLeaveAnimationFns){for(let r of n.detachedLeaveAnimationFns)t.queue.delete(r);n.detachedLeaveAnimationFns=void 0}}function JD(e,n){for(let[t,r]of n)Ly(e,r.animateFns)}function Sg(e,n,t,r){let i=e?.[kr]?.enter;n!==null&&i&&i.has(t.index)&&JD(r,i)}function Di(e,n,t,r,i,o,s,a){if(i!=null){let c,d=!1;Zt(i)?c=i:vn(i)&&(d=!0,i=i[qt]);let p=Rt(i);e===0&&r!==null?(Sg(a,r,o,t),s==null?My(n,r,p):Ya(n,r,p,s||null,!0)):e===1&&r!==null?(Sg(a,r,o,t),Ya(n,r,p,s||null,!0)):e===2?xg(a,o,t,m=>{Iy(n,p,d,m)}):e===3&&xg(a,o,t,()=>{n.destroyNode(p)}),c!=null&&dE(n,e,t,c,o,r,s)}}function XD(e,n){jy(e,n),n[qt]=null,n[Pt]=null}function eE(e,n,t,r,i,o){r[qt]=i,r[Pt]=n,gc(e,r,t,1,i,o)}function jy(e,n){n[gn].changeDetectionScheduler?.notify(9),gc(e,n,n[me],2,null,null)}function tE(e){let n=e[vi];if(!n)return jd(e[B],e);for(;n;){let t=null;if(vn(n))t=n[vi];else{let r=n[Ee];r&&(t=r)}if(!t){for(;n&&!n[At]&&n!==e;)vn(n)&&jd(n[B],n),n=n[ke];n===null&&(n=e),vn(n)&&jd(n[B],n),t=n&&n[At]}n=t}}function qf(e,n){let t=e[Fr],r=t.indexOf(n);t.splice(r,1)}function mc(e,n){if(Lr(n))return;let t=n[me];t.destroyNode&&gc(e,n,t,3,null,null),tE(n)}function jd(e,n){if(Lr(n))return;let t=H(null);try{n[W]&=-129,n[W]|=256,n[_t]&&ro(n[_t]),iE(e,n),rE(e,n),n[B].type===1&&n[me].destroy();let r=n[sr];if(r!==null&&Zt(n[ke])){r!==n[ke]&&qf(r,n);let i=n[yn];i!==null&&i.detachView(e)}Kd(n)}finally{H(t)}}function xg(e,n,t,r){let i=e?.[kr];if(i==null||i.leave==null||!i.leave.has(n.index))return r(!1);e&&Br.add(e),Ly(t,()=>{if(i.leave&&i.leave.has(n.index)){let s=i.leave.get(n.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let d=s.animateFns[c],{promise:p}=d();a.push(p)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),nE(e,r)}else e&&Br.delete(e),r(!1)},i)}function nE(e,n){let t=e[kr]?.running;if(t){t.then(()=>{e[kr].running=void 0,Br.delete(e),n(!0)});return}n(!1)}function rE(e,n){let t=e.cleanup,r=n[yi];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(n[yi]=null);let i=n[Fn];if(i!==null){n[Fn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=n[bo];if(o!==null){n[bo]=null;for(let s of o)s.destroy()}}function iE(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=n[t[r]];if(!(i instanceof Vr)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];de(ne.LifecycleHookStart,a,c);try{c.call(a)}finally{de(ne.LifecycleHookEnd,a,c)}}else{de(ne.LifecycleHookStart,i,o);try{o.call(i)}finally{de(ne.LifecycleHookEnd,i,o)}}}}}function oE(e,n,t){return sE(e,n.parent,t)}function sE(e,n,t){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return t[qt];if(cr(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===Xt.None||i===Xt.Emulated)return null}return Yt(r,t)}function aE(e,n,t){return lE(e,n,t)}function cE(e,n,t){return e.type&40?Yt(e,t):null}var lE=cE,Tg;function Zf(e,n,t,r){let i=oE(e,r,n),o=n[me],s=r.parent||n[Pt],a=aE(s,r,n);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)wg(o,i,t[c],a,!1);else wg(o,i,t,a,!1);Tg!==void 0&&Tg(o,r,n,t,i)}function To(e,n){if(n!==null){let t=n.type;if(t&3)return Yt(n,e);if(t&4)return cf(-1,e[n.index]);if(t&8){let r=n.child;if(r!==null)return To(e,r);{let i=e[n.index];return Zt(i)?cf(-1,i):Rt(i)}}else{if(t&128)return To(e,n.next);if(t&32)return Wf(n,e)()||Rt(e[n.index]);{let r=Vy(e,n);if(r!==null){if(Array.isArray(r))return r[0];let i=nr(e[ht]);return To(i,r)}else return To(e,n.next)}}}return null}function Vy(e,n){if(n!==null){let r=e[ht][Pt],i=n.projection;return r.projection[i]}return null}function cf(e,n){let t=Ee+e+1;if(t<n.length){let r=n[t],i=r[B].firstChild;if(i!==null)return To(r,i)}return n[ar]}function Yf(e,n,t,r,i,o,s){for(;t!=null;){let a=r[Vn];if(t.type===128){t=t.next;continue}let c=r[t.index],d=t.type;if(s&&n===0&&(c&&Mi(Rt(c),r),t.flags|=2),!Rf(t))if(d&8)Yf(e,n,t.child,r,i,o,!1),Di(n,e,a,i,c,t,o,r);else if(d&32){let p=Wf(t,r),m;for(;m=p();)Di(n,e,a,i,m,t,o,r);Di(n,e,a,i,c,t,o,r)}else d&16?uE(e,n,r,t,i,o):Di(n,e,a,i,c,t,o,r);t=s?t.projectionNext:t.next}}function gc(e,n,t,r,i,o){Yf(t,r,e.firstChild,n,i,o,!1)}function uE(e,n,t,r,i,o){let s=t[ht],c=s[Pt].projection[r.projection];if(Array.isArray(c))for(let d=0;d<c.length;d++){let p=c[d];Di(n,e,t[Vn],i,p,r,o,t)}else{let d=c,p=s[ke];sy(r)&&(d.flags|=128),Yf(e,n,d,p,i,o,!0)}}function dE(e,n,t,r,i,o,s){let a=r[ar],c=Rt(r);a!==c&&Di(n,e,t,o,a,i,s);for(let d=Ee;d<r.length;d++){let p=r[d];gc(p[B],p,e,n,o,a)}}function fE(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Dn.DashCase;i==null?e.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Dn.Important),e.setStyle(t,r,i,o))}}function By(e,n,t,r,i){let o=Kt(),s=r&2;try{ur(-1),s&&n.length>Fe&&Ry(e,n,Fe,!1);let a=s?ne.TemplateUpdateStart:ne.TemplateCreateStart;de(a,i,t),t(r,i)}finally{ur(o);let a=s?ne.TemplateUpdateEnd:ne.TemplateCreateEnd;de(a,i,t)}}function Uy(e,n,t){vE(e,n,t),(t.flags&64)===64&&CE(e,n,t)}function Kf(e,n,t=Yt){let r=n.localNames;if(r!==null){let i=n.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(n,e):e[s];e[i++]=a}}}function pE(e,n,t,r){let o=r.get(hy,py)||t===Xt.ShadowDom||t===Xt.ExperimentalIsolatedShadowDom,s=e.selectRootElement(n,o);return hE(s),s}function hE(e){mE(e)}var mE=()=>null;function gE(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Hy(e,n,t,r,i,o){let s=n[B];if(Qf(e,s,n,t,r)){cr(e)&&yE(n,e.index);return}e.type&3&&(t=gE(t)),$y(e,n,t,r,i,o)}function $y(e,n,t,r,i,o){if(e.type&3){let s=Yt(e,n);r=o!=null?o(r,e.value||"",t):r,i.setProperty(s,t,r)}else e.type&12}function yE(e,n){let t=Nt(n,e);t[W]&16||(t[W]|=64)}function vE(e,n,t){let r=t.directiveStart,i=t.directiveEnd;cr(t)&&qD(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||qa(t,n);let o=t.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],c=Ao(n,e,s,t);if(Mi(c,n),o!==null&&wE(n,s-r,c,a,t,o),Cn(a)){let d=Nt(t.index,n);d[De]=Ao(n,e,s,t)}}}function CE(e,n,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=tg();try{ur(o);for(let a=r;a<i;a++){let c=e.data[a],d=n[a];Ia(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&_E(c,d)}}finally{ur(-1),Ia(s)}}function _E(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function bE(e,n){let t=e.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];VD(n,o.selectors,!1)&&(r??=[],Cn(o)?r.unshift(o):r.push(o))}return r}function DE(e,n,t,r,i,o){let s=Yt(e,n);EE(n[me],s,o,e.value,t,r,i)}function EE(e,n,t,r,i,o,s){if(o==null)e.removeAttribute(n,i,t);else{let a=s==null?mn(o):s(o,r||"",i);e.setAttribute(n,i,a,t)}}function wE(e,n,t,r,i,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],d=s[a+1];af(r,t,c,d)}}function zy(e,n,t,r,i){let o=Fe+t,s=n[B],a=i(s,n,e,r,t);n[o]=a,bi(e,!0);let c=e.type===2;return c?(Sy(n[me],a,e),(Gm()===0||Da(e))&&Mi(a,n),qm()):Mi(a,n),Oa()&&(!c||!Rf(e))&&Zf(s,n,a,e),e}function Wy(e){let n=e;return bd()?Qm():(n=n.parent,bi(n,!1)),n}function ME(e,n){let t=e[Vn];if(!t)return;let r;try{r=t.get(bt,null)}catch{r=null}r?.(n)}function Qf(e,n,t,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let d=s[c],p=s[c+1],m=n.data[d];af(m,t[d],p,i),a=!0}if(o)for(let c of o){let d=t[c],p=n.data[c];af(p,d,r,i),a=!0}return a}function IE(e,n){let t=Nt(n,e),r=t[B];SE(r,t);let i=t[qt];i!==null&&t[gi]===null&&(t[gi]=my(i,t[Vn])),de(ne.ComponentStart);try{Jf(r,t,t[De])}finally{de(ne.ComponentEnd,t[De])}}function SE(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function Jf(e,n,t){xa(n);try{let r=e.viewQuery;r!==null&&Qd(1,r,t);let i=e.template;i!==null&&By(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[yn]?.finishViewCreation(e),e.staticContentQueries&&gy(e,n),e.staticViewQueries&&Qd(2,e.viewQuery,t);let o=e.components;o!==null&&xE(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[W]&=-5,Ta()}}function xE(e,n){for(let t=0;t<n.length;t++)IE(e,n[t])}function yc(e,n,t,r){let i=H(null);try{let o=n.tView,a=e[W]&4096?4096:16,c=$f(e,o,t,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=e[n.index];c[sr]=d;let p=e[yn];return p!==null&&(c[yn]=p.createEmbeddedView(o)),Jf(o,c,t),c}finally{H(i)}}function Po(e,n){return!n||n.firstChild===null||sy(e)}function Ro(e,n,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=n[t.index];o!==null&&r.push(Rt(o)),Zt(o)&&Gy(o,r);let s=t.type;if(s&8)Ro(e,n,t.child,r);else if(s&32){let a=Wf(t,n),c;for(;c=a();)r.push(c)}else if(s&16){let a=Vy(n,t);if(Array.isArray(a))r.push(...a);else{let c=nr(n[ht]);Ro(c[B],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Gy(e,n){for(let t=Ee;t<e.length;t++){let r=e[t],i=r[B].firstChild;i!==null&&Ro(r[B],r,i,n)}e[ar]!==e[qt]&&n.push(e[ar])}function qy(e){if(e[Nr]!==null){for(let n of e[Nr])n.impl.addSequence(n);e[Nr].length=0}}var Zy=[];function TE(e){return e[_t]??OE(e)}function OE(e){let n=Zy.pop()??Object.create(PE);return n.lView=e,n}function AE(e){e.lView[_t]!==e&&(e.lView=null,Zy.push(e))}var PE=R(_({},eo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{_i(e.lView)},consumerOnSignalRead(){this.lView[_t]=this}});function RE(e){let n=e[_t]??Object.create(NE);return n.lView=e,n}var NE=R(_({},eo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=nr(e.lView);for(;n&&!Yy(n[B]);)n=nr(n);n&&pd(n)},consumerOnSignalRead(){this.lView[_t]=this}});function Yy(e){return e.type!==2}function Ky(e){if(e[bo]===null)return;let n=!0;for(;n;){let t=!1;for(let r of e[bo])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=t&&!!(e[W]&8192)}}var kE=100;function Qy(e,n=0){let r=e[gn].rendererFactory,i=!1;i||r.begin?.();try{FE(e,n)}finally{i||r.end?.()}}function FE(e,n){let t=Dd();try{Ed(!0),lf(e,n);let r=0;for(;wo(e);){if(r===kE)throw new M(103,!1);r++,lf(e,1)}}finally{Ed(t)}}function LE(e,n,t,r){if(Lr(n))return;let i=n[W],o=!1,s=!1;xa(n);let a=!0,c=null,d=null;o||(Yy(e)?(d=TE(n),c=no(d)):Rs()===null?(a=!1,d=RE(n),c=no(d)):n[_t]&&(ro(n[_t]),n[_t]=null));try{fd(n),Jm(e.bindingStartIndex),t!==null&&By(e,n,t,2,r);let p=(i&3)===3;if(!o)if(p){let g=e.preOrderCheckHooks;g!==null&&ja(n,g,null)}else{let g=e.preOrderHooks;g!==null&&Va(n,g,0,null),Fd(n,0)}if(s||jE(n),Ky(n),Jy(n,0),e.contentQueries!==null&&gy(e,n),!o)if(p){let g=e.contentCheckHooks;g!==null&&ja(n,g)}else{let g=e.contentHooks;g!==null&&Va(n,g,1),Fd(n,1)}BE(e,n);let m=e.components;m!==null&&ev(n,m,0);let y=e.viewQuery;if(y!==null&&Qd(2,y,r),!o)if(p){let g=e.viewCheckHooks;g!==null&&ja(n,g)}else{let g=e.viewHooks;g!==null&&Va(n,g,2),Fd(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[ba]){for(let g of n[ba])g();n[ba]=null}o||(qy(n),n[W]&=-73)}catch(p){throw o||_i(n),p}finally{d!==null&&(Ns(d,c),a&&AE(d)),Ta()}}function Jy(e,n){for(let t=cy(e);t!==null;t=ly(t))for(let r=Ee;r<t.length;r++){let i=t[r];Xy(i,n)}}function jE(e){for(let n=cy(e);n!==null;n=ly(n)){if(!(n[W]&2))continue;let t=n[Fr];for(let r=0;r<t.length;r++){let i=t[r];pd(i)}}}function VE(e,n,t){de(ne.ComponentStart);let r=Nt(n,e);try{Xy(r,t)}finally{de(ne.ComponentEnd,r[De])}}function Xy(e,n){Ea(e)&&lf(e,n)}function lf(e,n){let r=e[B],i=e[W],o=e[_t],s=!!(n===0&&i&16);if(s||=!!(i&64&&n===0),s||=!!(i&1024),s||=!!(o?.dirty&&ks(o)),s||=!1,o&&(o.dirty=!1),e[W]&=-9217,s)LE(r,e,r.template,e[De]);else if(i&8192){let a=H(null);try{Ky(e),Jy(e,1);let c=r.components;c!==null&&ev(e,c,1),qy(e)}finally{H(a)}}}function ev(e,n,t){for(let r=0;r<n.length;r++)VE(e,n[r],t)}function BE(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)ur(~i);else{let o=i,s=t[++r],a=t[++r];eg(s,o);let c=n[o];de(ne.HostBindingsUpdateStart,c);try{a(2,c)}finally{de(ne.HostBindingsUpdateEnd,c)}}}}finally{ur(-1)}}function Xf(e,n){let t=Dd()?64:1088;for(e[gn].changeDetectionScheduler?.notify(n);e;){e[W]|=t;let r=nr(e);if(Ci(e)&&!r)return e;e=r}return null}function tv(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function nv(e,n){let t=Ee+n;if(t<e.length)return e[t]}function vc(e,n,t,r=!0){let i=n[B];if(UE(i,n,e,t),r){let s=cf(t,e),a=n[me],c=a.parentNode(e[ar]);c!==null&&eE(i,e[Pt],a,n,c,s)}let o=n[gi];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function rv(e,n){let t=No(e,n);return t!==void 0&&mc(t[B],t),t}function No(e,n){if(e.length<=Ee)return;let t=Ee+n,r=e[t];if(r){let i=r[sr];i!==null&&i!==e&&qf(i,r),n>0&&(e[t-1][At]=r[At]);let o=yo(e,Ee+n);XD(r[B],r);let s=o[yn];s!==null&&s.detachView(o[B]),r[ke]=null,r[At]=null,r[W]&=-129}return r}function UE(e,n,t,r){let i=Ee+r,o=t.length;r>0&&(t[i-1][At]=n),r<o-Ee?(n[At]=t[i],ed(t,Ee+r,n)):(t.push(n),n[At]=null),n[ke]=t;let s=n[sr];s!==null&&t!==s&&iv(s,n);let a=n[yn];a!==null&&a.insertView(e),wa(n),n[W]|=128}function iv(e,n){let t=e[Fr],r=n[ke];if(vn(r))e[W]|=2;else{let i=r[ke][ht];n[ht]!==i&&(e[W]|=2)}t===null?e[Fr]=[n]:t.push(n)}var dr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let n=this._lView,t=n[B];return Ro(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t}get context(){return this._lView[De]}set context(n){this._lView[De]=n}get destroyed(){return Lr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[ke];if(Zt(n)){let t=n[Do],r=t?t.indexOf(this):-1;r>-1&&(No(n,r),yo(t,r))}this._attachedToViewContainer=!1}mc(this._lView[B],this._lView)}onDestroy(n){hd(this._lView,n)}markForCheck(){Xf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[W]&=-129}reattach(){wa(this._lView),this._lView[W]|=128}detectChanges(){this._lView[W]|=1024,Qy(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new M(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=Ci(this._lView),t=this._lView[sr];t!==null&&!n&&qf(t,this._lView),jy(this._lView[B],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new M(902,!1);this._appRef=n;let t=Ci(this._lView),r=this._lView[sr];r!==null&&!t&&iv(r,this._lView),wa(this._lView)}};var Ii=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=HE;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=yc(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new dr(o)}}return e})();function HE(){return ep(Ue(),z())}function ep(e,n){return e.type&4?new Ii(n,e,xi(e,n)):null}function Cc(e,n,t,r,i){let o=e.data[n];if(o===null)o=$E(e,n,t,r,i),Xm()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=Km();o.injectorIndex=s===null?-1:s.injectorIndex}return bi(o,!0),o}function $E(e,n,t,r,i){let o=_d(),s=bd(),a=s?o:o&&o.parent,c=e.data[n]=WE(e,a,t,n,r,i);return zE(e,c,o,s),c}function zE(e,n,t,r){e.firstChild===null&&(e.firstChild=n),t!==null&&(r?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function WE(e,n,t,r,i,o){let s=n?n.injectorIndex:-1,a=0;return Ym()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function GE(e){let n=e[cd]??[],r=e[ke][me],i=[];for(let o of n)o.data[fy]!==void 0?i.push(o):qE(o,r);e[cd]=i}function qE(e,n){let t=0,r=e.firstChild;if(r){let i=e.data[dy];for(;t<i;){let o=r.nextSibling;Iy(n,r,!1),r=o,t++}}}var ZE=()=>null,YE=()=>null;function uf(e,n){return ZE(e,n)}function ov(e,n,t){return YE(e,n,t)}var sv=class{},_c=class{},df=class{resolveComponentFactory(n){throw new M(917,!1)}},$o=class{static NULL=new df},Ur=class{},Vt=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>KE()}return e})();function KE(){let e=z(),n=Ue(),t=Nt(n.index,e);return(vn(t)?t:e)[me]}var av=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:()=>null})}return e})();var Ua={},ff=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){let i=this.injector.get(n,Ua,r);return i!==Ua||t===Ua?i:this.parentInjector.get(n,t,r)}};function Qa(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)i=ha(i,a);else if(o==2){let c=a,d=n[++s];r=ha(r,c+": "+d+";")}}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function w(e,n=0){let t=z();if(t===null)return T(e,n);let r=Ue();return ry(r,t,We(e),n)}function tp(){let e="invalid";throw new Error(e)}function QE(e,n,t,r,i){let o=r===null?null:{"":-1},s=i(e,t);if(s!==null){let a=s,c=null,d=null;for(let p of s)if(p.resolveHostDirectives!==null){[a,c,d]=p.resolveHostDirectives(s);break}ew(e,n,t,a,o,c,d)}o!==null&&r!==null&&JE(t,r,o)}function JE(e,n,t){let r=e.localNames=[];for(let i=0;i<n.length;i+=2){let o=t[n[i+1]];if(o==null)throw new M(-301,!1);r.push(n[i],o)}}function XE(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function ew(e,n,t,r,i,o,s){let a=r.length,c=null;for(let y=0;y<a;y++){let g=r[y];c===null&&Cn(g)&&(c=g,XE(e,t,y)),Zd(qa(t,n),e,g.type)}sw(t,e.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let y=0;y<a;y++){let g=r[y];g.providersResolver&&g.providersResolver(g)}let d=!1,p=!1,m=Py(e,n,a,null);a>0&&(t.directiveToIndex=new Map);for(let y=0;y<a;y++){let g=r[y];if(t.mergedAttrs=wi(t.mergedAttrs,g.hostAttrs),nw(e,t,n,m,g),ow(m,g,i),s!==null&&s.has(g)){let[F,A]=s.get(g);t.directiveToIndex.set(g.type,[m,F+t.directiveStart,A+t.directiveStart])}else(o===null||!o.has(g))&&t.directiveToIndex.set(g.type,m);g.contentQueries!==null&&(t.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(t.flags|=64);let b=g.type.prototype;!d&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),d=!0),!p&&(b.ngOnChanges||b.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),p=!0),m++}tw(e,t,o)}function tw(e,n,t){for(let r=n.directiveStart;r<n.directiveEnd;r++){let i=e.data[r];if(t===null||!t.has(i))Og(0,n,i,r),Og(1,n,i,r),Pg(n,r,!1);else{let o=t.get(i);Ag(0,n,o,r),Ag(1,n,o,r),Pg(n,r,!0)}}}function Og(e,n,t,r){let i=e===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=n.inputs??={}:s=n.outputs??={},s[o]??=[],s[o].push(r),cv(n,o)}}function Ag(e,n,t,r){let i=e===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=n.hostDirectiveInputs??={}:a=n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),cv(n,s)}}function cv(e,n){n==="class"?e.flags|=8:n==="style"&&(e.flags|=16)}function Pg(e,n,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!t&&i===null||t&&o===null||Uf(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let d=i[c];for(let p of d)if(p===n){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let d=o[c];for(let p=0;p<d.length;p+=2)if(d[p]===n){s??=[],s.push(d[p+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function nw(e,n,t,r,i){e.data[r]=i;let o=i.factory||(i.factory=tr(i.type,!0)),s=new Vr(o,Cn(i),w,null);e.blueprint[r]=s,t[r]=s,rw(e,n,r,Py(e,t,i.hostVars,Ge),i)}function rw(e,n,t,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~n.index;iw(s)!=a&&s.push(a),s.push(t,r,o)}}function iw(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function ow(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;Cn(n)&&(t[""]=e)}}function sw(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function lv(e,n,t,r,i,o,s,a){let c=n[B],d=c.consts,p=_n(d,s),m=Cc(c,e,t,r,p);return o&&QE(c,n,m,_n(d,a),i),m.mergedAttrs=wi(m.mergedAttrs,m.attrs),m.attrs!==null&&Qa(m,m.attrs,!1),m.mergedAttrs!==null&&Qa(m,m.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,m),m}function uv(e,n){Vb(e,n),ld(n)&&e.queries.elementEnd(n)}function aw(e,n,t,r,i,o){let s=n.consts,a=_n(s,i),c=Cc(n,e,t,r,a);if(c.mergedAttrs=wi(c.mergedAttrs,c.attrs),o!=null){let d=_n(s,o);c.localNames=[];for(let p=0;p<d.length;p+=2)c.localNames.push(d[p],-1)}return c.attrs!==null&&Qa(c,c.attrs,!1),c.mergedAttrs!==null&&Qa(c,c.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,c),c}function np(e,n,t){return e[n]=t}function cw(e,n){return e[n]}function Dt(e,n,t){if(t===Ge)return!1;let r=e[n];return Object.is(r,t)?!1:(e[n]=t,!0)}function rp(e,n,t,r){let i=Dt(e,n,t);return Dt(e,n+1,r)||i}function lw(e,n,t,r,i){let o=rp(e,n,t,r);return Dt(e,n+2,i)||o}function Ha(e,n,t){return function r(i){let o=cr(e)?Nt(e.index,n):n;Xf(o,5);let s=n[De],a=Rg(n,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=Rg(n,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function Rg(e,n,t,r){let i=H(null);try{return de(ne.OutputStart,n,t),t(r)!==!1}catch(o){return ME(e,o),!1}finally{de(ne.OutputEnd,n,t),H(i)}}function dv(e,n,t,r,i,o,s,a){let c=Da(e),d=!1,p=null;if(!r&&c&&(p=dw(n,t,o,e.index)),p!==null){let m=p.__ngLastListenerFn__||p;m.__ngNextListenerFn__=s,p.__ngLastListenerFn__=s,d=!0}else{let m=Yt(e,t),y=r?r(m):m;lD(t,y,o,a);let g=i.listen(y,o,a);if(!uw(o)){let b=r?F=>r(Rt(F[e.index])):e.index;fv(b,n,t,o,a,g,!1)}}return d}function uw(e){return e.startsWith("animation")||e.startsWith("transition")}function dw(e,n,t,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=n[yi],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function fv(e,n,t,r,i,o,s){let a=n.firstCreatePass?gd(n):null,c=md(t),d=c.length;c.push(i,o),a&&a.push(r,e,d,(d+1)*(s?-1:1))}function Ng(e,n,t,r,i,o){let s=n[t],a=n[B],d=a.data[t].outputs[r],m=s[d].subscribe(o);fv(e.index,a,n,i,o,m,!0)}var pf=Symbol("BINDING");var Ja=class extends $o{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=jn(n);return new Hr(t,this.ngModule)}};function fw(e){return Object.keys(e).map(n=>{let[t,r,i]=e[n],o={propName:t,templateName:n,isSignal:(r&pc.SignalBased)!==0};return i&&(o.transform=i),o})}function pw(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}function hw(e,n,t){let r=n instanceof be?n:n?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new ff(t,r):t}function mw(e){let n=e.get(Ur,null);if(n===null)throw new M(407,!1);let t=e.get(av,null),r=e.get(rr,null);return{rendererFactory:n,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function gw(e,n){let t=pv(e);return wy(n,t,t==="svg"?jm:t==="math"?Vm:null)}function pv(e){return(e.selectors[0][0]||"div").toLowerCase()}var Hr=class extends _c{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=fw(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=pw(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=$D(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,r,i,o,s){de(ne.DynamicComponentStart);let a=H(null);try{let c=this.componentDef,d=yw(r,c,s,o),p=hw(c,i||this.ngModule,n),m=mw(p),y=m.rendererFactory.createRenderer(null,c),g=r?pE(y,r,c.encapsulation,p):gw(c,y),b=s?.some(kg)||o?.some(P=>typeof P!="function"&&P.bindings.some(kg)),F=$f(null,d,null,512|Ay(c),null,null,m,y,p,null,my(g,p,!0));F[Fe]=g,xa(F);let A=null;try{let P=lv(Fe,F,2,"#host",()=>d.directiveRegistry,!0,0);Sy(y,g,P),Mi(g,F),Uy(d,F,P),yy(d,P,F),uv(d,P),t!==void 0&&Cw(P,this.ngContentSelectors,t),A=Nt(P.index,F),F[De]=A[De],Jf(d,F,null)}catch(P){throw A!==null&&Kd(A),Kd(F),P}finally{de(ne.DynamicComponentEnd),Ta()}return new Xa(this.componentType,F,!!b)}finally{H(a)}}};function yw(e,n,t,r){let i=e?["ng-version","21.0.6"]:zD(n.selectors[0]),o=null,s=null,a=0;if(t)for(let p of t)a+=p[pf].requiredVars,p.create&&(p.targetIdx=0,(o??=[]).push(p)),p.update&&(p.targetIdx=0,(s??=[]).push(p));if(r)for(let p=0;p<r.length;p++){let m=r[p];if(typeof m!="function")for(let y of m.bindings){a+=y[pf].requiredVars;let g=p+1;y.create&&(y.targetIdx=g,(o??=[]).push(y)),y.update&&(y.targetIdx=g,(s??=[]).push(y))}}let c=[n];if(r)for(let p of r){let m=typeof p=="function"?p:p.type,y=Qu(m);c.push(y)}return Hf(0,null,vw(o,s),1,a,c,null,null,null,[i],null)}function vw(e,n){return!e&&!n?null:t=>{if(t&1&&e)for(let r of e)r.create();if(t&2&&n)for(let r of n)r.update()}}function kg(e){let n=e[pf].kind;return n==="input"||n==="twoWay"}var Xa=class extends sv{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Eo(t[B],Fe),this.location=xi(this._tNode,t),this.instance=Nt(this._tNode.index,t)[De],this.hostView=this.changeDetectorRef=new dr(t,void 0),this.componentType=n}setInput(n,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let i=this._rootLView,o=Qf(r,i[B],i,n,t);this.previousInputValues.set(n,t);let s=Nt(r.index,i);Xf(s,1)}get injector(){return new jr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function Cw(e,n,t){let r=e.projection=[];for(let i=0;i<n.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Wr=(()=>{class e{static __NG_ELEMENT_ID__=_w}return e})();function _w(){let e=Ue();return mv(e,z())}var bw=Wr,hv=class extends bw{_lContainer;_hostTNode;_hostLView;constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return xi(this._hostTNode,this._hostLView)}get injector(){return new jr(this._hostTNode,this._hostLView)}get parentInjector(){let n=Of(this._hostTNode,this._hostLView);if(Qg(n)){let t=Wa(n,this._hostLView),r=za(n),i=t[B].data[r+8];return new jr(i,t)}else return new jr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=Fg(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-Ee}createEmbeddedView(n,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=uf(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Po(this._hostTNode,s)),a}createComponent(n,t,r,i,o,s,a){let c=n&&!Nb(n),d;if(c)d=t;else{let A=t||{};d=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef,s=A.directives,a=A.bindings}let p=c?n:new Hr(jn(n)),m=r||this.parentInjector;if(!o&&p.ngModule==null){let P=(c?m:this.parentInjector).get(be,null);P&&(o=P)}let y=jn(p.componentType??{}),g=uf(this._lContainer,y?.id??null),b=g?.firstChild??null,F=p.create(m,i,b,o,s,a);return this.insertImpl(F.hostView,d,Po(this._hostTNode,g)),F}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){let i=n._lView;if(Hm(i)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let c=i[ke],d=new hv(c,c[Pt],c[ke]);d.detach(d.indexOf(n))}}let o=this._adjustIndex(t),s=this._lContainer;return vc(s,i,o,r),n.attachToViewContainerRef(),ed(Vd(s),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=Fg(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),r=No(this._lContainer,t);r&&(yo(Vd(this._lContainer),t),mc(r[B],r))}detach(n){let t=this._adjustIndex(n,-1),r=No(this._lContainer,t);return r&&yo(Vd(this._lContainer),t)!=null?new dr(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function Fg(e){return e[Do]}function Vd(e){return e[Do]||(e[Do]=[])}function mv(e,n){let t,r=n[e.index];return Zt(r)?t=r:(t=tv(r,n,null,e),n[e.index]=t,zf(n,t)),Ew(t,n,e,r),new hv(t,e,n)}function Dw(e,n){let t=e[me],r=t.createComment(""),i=Yt(n,e),o=t.parentNode(i);return Ya(t,o,r,t.nextSibling(i),!1),r}var Ew=Iw,ww=()=>!1;function Mw(e,n,t){return ww(e,n,t)}function Iw(e,n,t,r){if(e[ar])return;let i;t.type&8?i=Rt(r):i=Dw(n,t),e[ar]=i}var hf=class e{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},mf=class e{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){let t=n.queries;if(t!==null){let r=n.contentQueries!==null?n.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new e(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)ip(n,t).matches!==null&&this.queries[t].setDirty()}},gf=class{flags;read;predicate;constructor(n,t,r=null){this.flags=t,this.read=r,typeof n=="string"?this.predicate=Nw(n):this.predicate=n}},yf=class e{queries;constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(n,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new e(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},vf=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,t=-1){this.metadata=n,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new e(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=n.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(n,t,Sw(t,o)),this.matchTNodeWithReadOption(n,t,Ba(t,n,o,!1,!1))}else r===Ii?t.type&4&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,Ba(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===et||i===Wr||i===Ii&&t.type&4)this.addMatch(t.index,-2);else{let o=Ba(t,n,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(n,t){this.matches===null?this.matches=[n,t]:this.matches.push(n,t)}};function Sw(e,n){let t=e.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1]}return null}function xw(e,n){return e.type&11?xi(e,n):e.type&4?ep(e,n):null}function Tw(e,n,t,r){return t===-1?xw(n,e):t===-2?Ow(e,n,r):Ao(e,e[B],t,n)}function Ow(e,n,t){if(t===et)return xi(n,e);if(t===Ii)return ep(n,e);if(t===Wr)return mv(n,e)}function gv(e,n,t,r){let i=n[yn].queries[r];if(i.matches===null){let o=e.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let d=s[c];if(d<0)a.push(null);else{let p=o[d];a.push(Tw(n,p,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function Cf(e,n,t,r){let i=e.queries.getByIndex(t),o=i.matches;if(o!==null){let s=gv(e,n,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let d=o[a+1],p=n[-c];for(let m=Ee;m<p.length;m++){let y=p[m];y[sr]===y[ke]&&Cf(y[B],y,d,r)}if(p[Fr]!==null){let m=p[Fr];for(let y=0;y<m.length;y++){let g=m[y];Cf(g[B],g,d,r)}}}}}return r}function Aw(e,n){return e[yn].queries[n].queryList}function Pw(e,n,t){let r=new Za((t&4)===4);return Wm(e,n,r,r.destroy),(n[yn]??=new mf).queries.push(new hf(r))-1}function Rw(e,n,t,r){let i=Ie();if(i.firstCreatePass){let o=Ue();kw(i,new gf(n,t,r),o.index),Fw(i,e),(t&2)===2&&(i.staticContentQueries=!0)}return Pw(i,z(),t)}function Nw(e){return e.split(",").map(n=>n.trim())}function kw(e,n,t){e.queries===null&&(e.queries=new yf),e.queries.track(new vf(n,t))}function Fw(e,n){let t=e.contentQueries||(e.contentQueries=[]),r=t.length?t[t.length-1]:-1;n!==r&&t.push(e.queries.length-1,n)}function ip(e,n){return e.queries.getByIndex(n)}function Lw(e,n){let t=e[B],r=ip(t,n);return r.crossesNgTemplate?Cf(t,e,n,[]):gv(t,e,r,n)}var $r=class{},bc=class{};var ec=class extends $r{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ja(this);constructor(n,t,r,i=!0){super(),this.ngModuleType=n,this._parent=t;let o=Ku(n);this._bootstrapComponents=Ty(o.bootstrap),this._r3Injector=xd(n,t,[{provide:$r,useValue:this},{provide:$o,useValue:this.componentFactoryResolver},...r],Ln(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},tc=class extends bc{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new ec(this.moduleType,n,[])}};var ko=class extends $r{injector;componentFactoryResolver=new Ja(this);instance=null;constructor(n){super();let t=new Or([...n.providers,{provide:$r,useValue:this},{provide:$o,useValue:this.componentFactoryResolver}],n.parent||Co(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function Ti(e,n,t=null){return new ko({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var jw=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=rd(!1,t.type),i=r.length>0?Ti([r],this._injector,""):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=D({token:e,providedIn:"environment",factory:()=>new e(T(be))})}return e})();function re(e){return Lo(()=>{let n=yv(e),t=R(_({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Af.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?i=>i.get(jw).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Xt.Emulated,styles:e.styles||ot,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&wn("NgStandalone"),vv(t);let r=e.dependencies;return t.directiveDefs=Lg(r,Vw),t.pipeDefs=Lg(r,Em),t.id=Hw(t),t})}function Vw(e){return jn(e)||Qu(e)}function tn(e){return Lo(()=>({type:e.type,bootstrap:e.bootstrap||ot,declarations:e.declarations||ot,imports:e.imports||ot,exports:e.exports||ot,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Bw(e,n){if(e==null)return ir;let t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=pc.None,c=null),t[o]=[r,a,c],n[o]=s}return t}function Uw(e){if(e==null)return ir;let n={};for(let t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function Ce(e){return Lo(()=>{let n=yv(e);return vv(n),n})}function op(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function yv(e){let n={};return{type:e.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||ir,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||ot,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Bw(e.inputs,n),outputs:Uw(e.outputs),debugInfo:null}}function vv(e){e.features?.forEach(n=>n(e))}function Lg(e,n){return e?()=>{let t=typeof e=="function"?e():e,r=[];for(let i of t){let o=n(i);o!==null&&r.push(o)}return r}:null}function Hw(e){let n=0,t=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function $w(e){return Object.getPrototypeOf(e.prototype).constructor}function st(e){let n=$w(e.type),t=!0,r=[e];for(;n;){let i;if(Cn(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new M(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);let s=e;s.inputs=Bd(e.inputs),s.declaredInputs=Bd(e.declaredInputs),s.outputs=Bd(e.outputs);let a=i.hostBindings;a&&Zw(e,a);let c=i.viewQuery,d=i.contentQueries;if(c&&Gw(e,c),d&&qw(e,d),zw(e,i),Dm(e.outputs,i.outputs),Cn(i)&&i.data.animation){let p=e.data;p.animation=(p.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===st&&(t=!1)}}n=Object.getPrototypeOf(n)}Ww(r)}function zw(e,n){for(let t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let r=n.inputs[t];r!==void 0&&(e.inputs[t]=r,e.declaredInputs[t]=n.declaredInputs[t])}}function Ww(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=wi(i.hostAttrs,t=wi(t,i.hostAttrs))}}function Bd(e){return e===ir?{}:e===ot?[]:e}function Gw(e,n){let t=e.viewQuery;t?e.viewQuery=(r,i)=>{n(r,i),t(r,i)}:e.viewQuery=n}function qw(e,n){let t=e.contentQueries;t?e.contentQueries=(r,i,o)=>{n(r,i,o),t(r,i,o)}:e.contentQueries=n}function Zw(e,n){let t=e.hostBindings;t?e.hostBindings=(r,i)=>{n(r,i),t(r,i)}:e.hostBindings=n}function Yw(e,n,t,r,i,o,s,a){if(t.firstCreatePass){e.mergedAttrs=wi(e.mergedAttrs,e.attrs);let p=e.tView=Hf(2,e,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,e),p.queries=t.queries.embeddedTView(e))}a&&(e.flags|=a),bi(e,!1);let c=Kw(t,n,e,r);Oa()&&Zf(t,n,c,e),Mi(c,n);let d=tv(c,n,c,e);n[r+Fe]=d,zf(n,d),Mw(d,e,n)}function nc(e,n,t,r,i,o,s,a,c,d,p){let m=t+Fe,y;if(n.firstCreatePass){if(y=Cc(n,m,4,s||null,a||null),d!=null){let g=_n(n.consts,d);y.localNames=[];for(let b=0;b<g.length;b+=2)y.localNames.push(g[b],-1)}}else y=n.data[m];return Yw(y,e,n,t,r,i,o,c),d!=null&&Kf(e,y,p),y}var Kw=Qw;function Qw(e,n,t,r){return Aa(!0),n[me].createComment("")}var Dc=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function Cv(e){return typeof e=="function"&&e[nt]!==void 0}function sp(e){return Cv(e)&&typeof e.set=="function"}var ap=new O("");function fr(e){return!!e&&typeof e.then=="function"}function cp(e){return!!e&&typeof e.subscribe=="function"}var lp=new O("");function Ec(e){return Gt([{provide:lp,multi:!0,useValue:e}])}var up=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=v(lp,{optional:!0})??[];injector=v(Je);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Be(this.injector,i);if(fr(o))t.push(o);else if(cp(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),zo=new O("");function _v(){hu(()=>{let e="";throw new M(600,e)})}function bv(e){return e.isBoundToModule}var Jw=10;var Wn=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=v(bt);afterRenderManager=v(Gf);zonelessEnabled=v(So);rootEffectScheduler=v(kd);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Te;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=v(Bn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(oe(t=>!t))}constructor(){v(zn,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=v(be);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Je.NULL){return this._injector.get(Xe).run(()=>{de(ne.BootstrapComponentStart);let s=t instanceof _c;if(!this._injector.get(up).done){let b="";throw new M(405,b)}let c;s?c=t:c=this._injector.get($o).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let d=bv(c)?void 0:this._injector.get($r),p=r||c.selector,m=c.create(i,[],p,d),y=m.location.nativeElement,g=m.injector.get(ap,null);return g?.registerApplication(y),m.onDestroy(()=>{this.detachView(m.hostView),Oo(this.components,m),g?.unregisterApplication(y)}),this._loadComponent(m),de(ne.BootstrapComponentEnd,m),m})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){de(ne.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(hc.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw de(ne.ChangeDetectionEnd),new M(101,!1);let t=H(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,H(t),this.afterTick.next(),de(ne.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ur,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<Jw;){de(ne.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{de(ne.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!wo(i))continue;let o=r&&!this.zonelessEnabled?0:1;Qy(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>wo(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Oo(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(zo,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Oo(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new M(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Oo(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function pr(e,n,t,r){let i=z(),o=lr();if(Dt(i,o,n)){let s=Ie(),a=Io();DE(a,i,e,n,t,r)}return pr}var z2=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function dp(){return z()[ht][De]}var _f=class{destroy(n){}updateValue(n,t){}swap(n,t){let r=Math.min(n,t),i=Math.max(n,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(n,t){this.attach(t,this.detach(n))}};function Ud(e,n,t,r,i){return e===t&&Object.is(n,r)?1:Object.is(i(e,n),i(t,r))?-1:0}function Xw(e,n,t,r){let i,o,s=0,a=e.length-1,c=void 0;if(Array.isArray(n)){H(r);let d=n.length-1;for(H(null);s<=a&&s<=d;){let p=e.at(s),m=n[s],y=Ud(s,p,s,m,t);if(y!==0){y<0&&e.updateValue(s,m),s++;continue}let g=e.at(a),b=n[d],F=Ud(a,g,d,b,t);if(F!==0){F<0&&e.updateValue(a,b),a--,d--;continue}let A=t(s,p),P=t(a,g),Ne=t(s,m);if(Object.is(Ne,P)){let xt=t(d,b);Object.is(xt,A)?(e.swap(s,a),e.updateValue(a,b),d--,a--):e.move(a,s),e.updateValue(s,m),s++;continue}if(i??=new rc,o??=Vg(e,s,a,t),bf(e,i,s,Ne))e.updateValue(s,m),s++,a++;else if(o.has(Ne))i.set(A,e.detach(s)),a--;else{let xt=e.create(s,n[s]);e.attach(s,xt),s++,a++}}for(;s<=d;)jg(e,i,t,s,n[s]),s++}else if(n!=null){H(r);let d=n[Symbol.iterator]();H(null);let p=d.next();for(;!p.done&&s<=a;){let m=e.at(s),y=p.value,g=Ud(s,m,s,y,t);if(g!==0)g<0&&e.updateValue(s,y),s++,p=d.next();else{i??=new rc,o??=Vg(e,s,a,t);let b=t(s,y);if(bf(e,i,s,b))e.updateValue(s,y),s++,a++,p=d.next();else if(!o.has(b))e.attach(s,e.create(s,y)),s++,a++,p=d.next();else{let F=t(s,m);i.set(F,e.detach(s)),a--}}}for(;!p.done;)jg(e,i,t,e.length,p.value),p=d.next()}for(;s<=a;)e.destroy(e.detach(a--));i?.forEach(d=>{e.destroy(d)})}function bf(e,n,t,r){return n!==void 0&&n.has(r)?(e.attach(t,n.get(r)),n.delete(r),!0):!1}function jg(e,n,t,r,i){if(bf(e,n,r,t(r,i)))e.updateValue(r,i);else{let o=e.create(r,i);e.attach(r,o)}}function Vg(e,n,t,r){let i=new Set;for(let o=n;o<=t;o++)i.add(r(o,e.at(o)));return i}var rc=class{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;let t=this.kvMap.get(n);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(n,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,t){if(this.kvMap.has(n)){let r=this.kvMap.get(n);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(n,t)}forEach(n){for(let[t,r]of this.kvMap)if(n(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),n(r,t)}}};function j(e,n,t,r,i,o,s,a){wn("NgControlFlow");let c=z(),d=Ie(),p=_n(d.consts,o);return nc(c,d,e,n,t,r,i,p,256,s,a),fp}function fp(e,n,t,r,i,o,s,a){wn("NgControlFlow");let c=z(),d=Ie(),p=_n(d.consts,o);return nc(c,d,e,n,t,r,i,p,512,s,a),fp}function V(e,n){wn("NgControlFlow");let t=z(),r=lr(),i=t[r]!==Ge?t[r]:-1,o=i!==-1?ic(t,Fe+i):void 0,s=0;if(Dt(t,r,e)){let a=H(null);try{if(o!==void 0&&rv(o,s),e!==-1){let c=Fe+e,d=ic(t,c),p=Mf(t[B],c),m=ov(d,p,t),y=yc(t,p,n,{dehydratedView:m});vc(d,y,s,Po(p,m))}}finally{H(a)}}else if(o!==void 0){let a=nv(o,s);a!==void 0&&(a[De]=n)}}var Df=class{lContainer;$implicit;$index;constructor(n,t,r){this.lContainer=n,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Ee}};function at(e,n){return n}var Ef=class{hasEmptyBlock;trackByFn;liveCollection;constructor(n,t,r){this.hasEmptyBlock=n,this.trackByFn=t,this.liveCollection=r}};function Y(e,n,t,r,i,o,s,a,c,d,p,m,y){wn("NgControlFlow");let g=z(),b=Ie(),F=c!==void 0,A=z(),P=a?s.bind(A[ht][De]):s,Ne=new Ef(F,P);A[Fe+e]=Ne,nc(g,b,e+1,n,t,r,i,_n(b.consts,o),256),F&&nc(g,b,e+2,c,d,p,m,_n(b.consts,y),512)}var wf=class extends _f{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,t,r){super(),this.lContainer=n,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-Ee}at(n){return this.getLView(n)[De].$implicit}attach(n,t){let r=t[gi];this.needsIndexUpdate||=n!==this.length,vc(this.lContainer,t,n,Po(this.templateTNode,r)),eM(this.lContainer,n)}detach(n){return this.needsIndexUpdate||=n!==this.length-1,tM(this.lContainer,n),nM(this.lContainer,n)}create(n,t){let r=uf(this.lContainer,this.templateTNode.tView.ssrId);return yc(this.hostLView,this.templateTNode,new Df(this.lContainer,t,n),{dehydratedView:r})}destroy(n){mc(n[B],n)}updateValue(n,t){this.getLView(n)[De].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[De].$index=n}getLView(n){return rM(this.lContainer,n)}};function K(e){let n=H(null),t=Kt();try{let r=z(),i=r[B],o=r[t],s=t+1,a=ic(r,s);if(o.liveCollection===void 0){let d=Mf(i,s);o.liveCollection=new wf(a,r,d)}else o.liveCollection.reset();let c=o.liveCollection;if(Xw(c,e,o.trackByFn,n),c.updateIndexes(),o.hasEmptyBlock){let d=lr(),p=c.length===0;if(Dt(r,d,p)){let m=t+2,y=ic(r,m);if(p){let g=Mf(i,m),b=ov(y,g,r),F=yc(r,g,void 0,{dehydratedView:b});vc(y,F,0,Po(g,b))}else i.firstUpdatePass&&GE(y),rv(y,0)}}}finally{H(n)}}function ic(e,n){return e[n]}function eM(e,n){if(e.length<=Ee)return;let t=Ee+n,r=e[t],i=r?r[kr]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[Vn];QD(o,i),Br.delete(r),i.detachedLeaveAnimationFns=void 0}}function tM(e,n){if(e.length<=Ee)return;let t=Ee+n,r=e[t],i=r?r[kr]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function nM(e,n){return No(e,n)}function rM(e,n){return nv(e,n)}function Mf(e,n){return Eo(e,n)}function $(e,n,t){let r=z(),i=lr();if(Dt(r,i,n)){let o=Ie(),s=Io();Hy(s,r,e,n,r[me],t)}return $}function If(e,n,t,r,i){Qf(n,e,t,i?"class":"style",r)}function f(e,n,t,r){let i=z(),o=i[B],s=e+Fe,a=o.firstCreatePass?lv(s,i,2,n,bE,Zm(),t,r):o.data[s];if(zy(a,i,e,n,Dv),Da(a)){let c=i[B];Uy(c,i,a),yy(c,a,i)}return r!=null&&Kf(i,a),f}function u(){let e=Ie(),n=Ue(),t=Wy(n);return e.firstCreatePass&&uv(e,t),vd(t)&&Cd(),yd(),t.classesWithoutHost!=null&&Ub(t)&&If(e,t,z(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&Hb(t)&&If(e,t,z(),t.stylesWithoutHost,!1),u}function ge(e,n,t,r){return f(e,n,t,r),u(),ge}function x(e,n,t,r){let i=z(),o=i[B],s=e+Fe,a=o.firstCreatePass?aw(s,o,2,n,t,r):o.data[s];return zy(a,i,e,n,Dv),r!=null&&Kf(i,a),x}function E(){let e=Ue(),n=Wy(e);return vd(n)&&Cd(),yd(),E}function mt(e,n,t,r){return x(e,n,t,r),E(),mt}var Dv=(e,n,t,r,i)=>(Aa(!0),wy(n[me],r,ag()));function se(){return z()}function Wo(e,n,t){let r=z(),i=lr();if(Dt(r,i,n)){let o=Ie(),s=Io();$y(s,r,e,n,r[me],t)}return Wo}var xo=void 0;function iM(e){let n=Math.floor(Math.abs(e)),t=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&t===0?1:5}var oM=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",xo,xo,xo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",iM],Hd={};function Et(e){let n=sM(e),t=Bg(n);if(t)return t;let r=n.split("-")[0];if(t=Bg(r),t)return t;if(r==="en")return oM;throw new M(701,!1)}function Bg(e){return e in Hd||(Hd[e]=Tt.ng&&Tt.ng.common&&Tt.ng.common.locales&&Tt.ng.common.locales[e]),Hd[e]}var Se=(function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e})(Se||{});function sM(e){return e.toLowerCase().replace(/_/g,"-")}var Go="en-US";var aM=Go;function Ev(e){typeof e=="string"&&(aM=e.toLowerCase().replace(/_/g,"-"))}function U(e,n,t){let r=z(),i=Ie(),o=Ue();return wv(i,r,r[me],o,e,n,t),U}function Oi(e,n,t){let r=z(),i=Ie(),o=Ue();return(o.type&3||t)&&dv(o,i,r,t,r[me],e,n,Ha(o,r,n)),Oi}function wv(e,n,t,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Ha(r,n,o),dv(r,e,n,s,t,i,o,c)&&(a=!1)),a){let d=r.outputs?.[i],p=r.hostDirectiveOutputs?.[i];if(p&&p.length)for(let m=0;m<p.length;m+=2){let y=p[m],g=p[m+1];c??=Ha(r,n,o),Ng(r,n,y,g,i,c)}if(d&&d.length)for(let m of d)c??=Ha(r,n,o),Ng(r,n,m,i,i,c)}}function C(e=1){return sg(e)}function wc(e,n,t,r){return Rw(e,n,t,r),wc}function pp(e){let n=z(),t=Ie(),r=Md();Sa(r+1);let i=ip(t,r);if(e.dirty&&Um(n)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=Lw(n,r);e.reset(o,tD),e.notifyOnChanges()}return!0}return!1}function hp(){return Aw(z(),Md())}function La(e,n){return e<<17|n<<2}function zr(e){return e>>17&32767}function cM(e){return(e&2)==2}function lM(e,n){return e&131071|n<<17}function Sf(e){return e|2}function Si(e){return(e&131068)>>2}function $d(e,n){return e&-131069|n<<2}function uM(e){return(e&1)===1}function xf(e){return e|1}function dM(e,n,t,r,i,o){let s=o?n.classBindings:n.styleBindings,a=zr(s),c=Si(s);e[r]=t;let d=!1,p;if(Array.isArray(t)){let m=t;p=m[1],(p===null||mi(m,p)>0)&&(d=!0)}else p=t;if(i)if(c!==0){let y=zr(e[a+1]);e[r+1]=La(y,a),y!==0&&(e[y+1]=$d(e[y+1],r)),e[a+1]=lM(e[a+1],r)}else e[r+1]=La(a,0),a!==0&&(e[a+1]=$d(e[a+1],r)),a=r;else e[r+1]=La(c,0),a===0?a=r:e[c+1]=$d(e[c+1],r),c=r;d&&(e[r+1]=Sf(e[r+1])),Ug(e,p,r,!0),Ug(e,p,r,!1),fM(n,p,e,r,o),s=La(a,c),o?n.classBindings=s:n.styleBindings=s}function fM(e,n,t,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof n=="string"&&mi(o,n)>=0&&(t[r+1]=xf(t[r+1]))}function Ug(e,n,t,r){let i=e[t+1],o=n===null,s=r?zr(i):Si(i),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],d=e[s+1];pM(c,n)&&(a=!0,e[s+1]=r?xf(d):Sf(d)),s=r?zr(d):Si(d)}a&&(e[t+1]=r?Sf(i):xf(i))}function pM(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?mi(e,n)>=0:!1}var Jt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hM(e){return e.substring(Jt.key,Jt.keyEnd)}function mM(e){return gM(e),Mv(e,Iv(e,0,Jt.textEnd))}function Mv(e,n){let t=Jt.textEnd;return t===n?-1:(n=Jt.keyEnd=yM(e,Jt.key=n,t),Iv(e,n,t))}function gM(e){Jt.key=0,Jt.keyEnd=0,Jt.value=0,Jt.valueEnd=0,Jt.textEnd=e.length}function Iv(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function yM(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}function Mc(e,n,t){return Sv(e,n,t,!1),Mc}function Gr(e,n){return Sv(e,n,null,!0),Gr}function mp(e){CM(MM,vM,e,!0)}function vM(e,n){for(let t=mM(n);t>=0;t=Mv(n,t))Ca(e,hM(n),!0)}function Sv(e,n,t,r){let i=z(),o=Ie(),s=Mo(2);if(o.firstUpdatePass&&Tv(o,e,s,r),n!==Ge&&Dt(i,s,n)){let a=o.data[Kt()];Ov(o,a,i,i[me],e,i[s+1]=SM(n,t),r,s)}}function CM(e,n,t,r){let i=Ie(),o=Mo(2);i.firstUpdatePass&&Tv(i,null,o,r);let s=z();if(t!==Ge&&Dt(s,o,t)){let a=i.data[Kt()];if(Av(a,r)&&!xv(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=ha(c,t||"")),If(i,a,s,t,r)}else IM(i,a,s,s[me],s[o+1],s[o+1]=wM(e,n,t),r,o)}}function xv(e,n){return n>=e.expandoStartIndex}function Tv(e,n,t,r){let i=e.data;if(i[t+1]===null){let o=i[Kt()],s=xv(e,t);Av(o,r)&&n===null&&!s&&(n=!1),n=_M(i,o,n,r),dM(i,o,n,t,s,r)}}function _M(e,n,t,r){let i=ng(e),o=r?n.residualClasses:n.residualStyles;if(i===null)(r?n.classBindings:n.styleBindings)===0&&(t=zd(null,e,n,t,r),t=Fo(t,n.attrs,r),o=null);else{let s=n.directiveStylingLast;if(s===-1||e[s]!==i)if(t=zd(i,e,n,t,r),o===null){let c=bM(e,n,r);c!==void 0&&Array.isArray(c)&&(c=zd(null,e,n,c[1],r),c=Fo(c,n.attrs,r),DM(e,n,r,c))}else o=EM(e,n,r)}return o!==void 0&&(r?n.residualClasses=o:n.residualStyles=o),t}function bM(e,n,t){let r=t?n.classBindings:n.styleBindings;if(Si(r)!==0)return e[zr(r)]}function DM(e,n,t,r){let i=t?n.classBindings:n.styleBindings;e[zr(i)]=r}function EM(e,n,t){let r,i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=Fo(r,s,t)}return Fo(r,n.attrs,t)}function zd(e,n,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=n[a],r=Fo(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(t.directiveStylingLast=a),r}function Fo(e,n,t){let r=t?1:2,i=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Ca(e,s,t?!0:n[++o]))}return e===void 0?null:e}function wM(e,n,t){if(t==null||t==="")return ot;let r=[],i=Lt(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else typeof i=="string"&&n(r,i);return r}function MM(e,n,t){let r=String(n);r!==""&&!r.includes(" ")&&Ca(e,r,t)}function IM(e,n,t,r,i,o,s,a){i===Ge&&(i=ot);let c=0,d=0,p=0<i.length?i[0]:null,m=0<o.length?o[0]:null;for(;p!==null||m!==null;){let y=c<i.length?i[c+1]:void 0,g=d<o.length?o[d+1]:void 0,b=null,F;p===m?(c+=2,d+=2,y!==g&&(b=m,F=g)):m===null||p!==null&&p<m?(c+=2,b=p):(d+=2,b=m,F=g),b!==null&&Ov(e,n,t,r,b,F,s,a),p=c<i.length?i[c]:null,m=d<o.length?o[d]:null}}function Ov(e,n,t,r,i,o,s,a){if(!(n.type&3))return;let c=e.data,d=c[a+1],p=uM(d)?Hg(c,n,t,i,Si(d),s):void 0;if(!oc(p)){oc(o)||cM(d)&&(o=Hg(c,null,t,i,a,s));let m=ud(Kt(),t);fE(r,s,m,i,o)}}function Hg(e,n,t,r,i,o){let s=n===null,a;for(;i>0;){let c=e[i],d=Array.isArray(c),p=d?c[1]:c,m=p===null,y=t[i+1];y===Ge&&(y=m?ot:void 0);let g=m?_a(y,r):p===r?y:void 0;if(d&&!oc(g)&&(g=_a(c,r)),oc(g)&&(a=g,s))return a;let b=e[i+1];i=s?zr(b):Si(b)}if(n!==null){let c=o?n.residualClasses:n.residualStyles;c!=null&&(a=_a(c,r))}return a}function oc(e){return e!==void 0}function SM(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=Ln(Lt(e)))),e}function Av(e,n){return(e.flags&(n?8:16))!==0}function l(e,n=""){let t=z(),r=Ie(),i=e+Fe,o=r.firstCreatePass?Cc(r,i,1,n,null):r.data[i],s=xM(r,t,o,n,e);t[i]=s,Oa()&&Zf(r,t,s,o),bi(o,!1)}var xM=(e,n,t,r,i)=>(Aa(!0),TD(n[me],r));function TM(e,n,t,r=""){return Dt(e,lr(),t)?n+mn(t)+r:Ge}function OM(e,n,t,r,i,o=""){let s=wd(),a=rp(e,s,t,i);return Mo(2),a?n+mn(t)+r+mn(i)+o:Ge}function AM(e,n,t,r,i,o,s,a=""){let c=wd(),d=lw(e,c,t,i,s);return Mo(3),d?n+mn(t)+r+mn(i)+o+mn(s)+a:Ge}function I(e){return S("",e),I}function S(e,n,t){let r=z(),i=TM(r,e,n,t);return i!==Ge&&gp(r,Kt(),i),S}function qe(e,n,t,r,i){let o=z(),s=OM(o,e,n,t,r,i);return s!==Ge&&gp(o,Kt(),s),qe}function Ic(e,n,t,r,i,o,s){let a=z(),c=AM(a,e,n,t,r,i,o,s);return c!==Ge&&gp(a,Kt(),c),Ic}function gp(e,n,t){let r=ud(n,e);OD(e[me],r,t)}function Q(e,n,t){sp(n)&&(n=n());let r=z(),i=lr();if(Dt(r,i,n)){let o=Ie(),s=Io();Hy(s,r,e,n,r[me],t)}return Q}function ee(e,n){let t=sp(e);return t&&e.set(n),t}function J(e,n){let t=z(),r=Ie(),i=Ue();return wv(r,t,t[me],i,e,n),J}function $g(e,n,t){let r=Ie();r.firstCreatePass&&Pv(n,r.data,r.blueprint,Cn(e),t)}function Pv(e,n,t,r,i){if(e=We(e),Array.isArray(e))for(let o=0;o<e.length;o++)Pv(e[o],n,t,r,i);else{let o=Ie(),s=z(),a=Ue(),c=Tr(e)?e:We(e.provide),d=od(e),p=a.providerIndexes&1048575,m=a.directiveStart,y=a.providerIndexes>>20;if(Tr(e)||!e.multi){let g=new Vr(d,i,w,null),b=Gd(c,n,i?p:p+y,m);b===-1?(Zd(qa(a,s),o,c),Wd(o,e,n.length),n.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(g),s.push(g)):(t[b]=g,s[b]=g)}else{let g=Gd(c,n,p+y,m),b=Gd(c,n,p,p+y),F=g>=0&&t[g],A=b>=0&&t[b];if(i&&!A||!i&&!F){Zd(qa(a,s),o,c);let P=NM(i?RM:PM,t.length,i,r,d,e);!i&&A&&(t[b].providerFactory=P),Wd(o,e,n.length,0),n.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(P),s.push(P)}else{let P=Rv(t[i?b:g],d,!i&&r);Wd(o,e,g>-1?g:b,P)}!i&&r&&A&&t[b].componentProviders++}}}function Wd(e,n,t,r){let i=Tr(n),o=km(n);if(i||o){let c=(o?We(n.useClass):n).prototype.ngOnDestroy;if(c){let d=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){let p=d.indexOf(t);p===-1?d.push(t,[r,c]):d[p+1].push(r,c)}else d.push(t,c)}}}function Rv(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function Gd(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function PM(e,n,t,r,i){return Tf(this.multi,[])}function RM(e,n,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Ao(r,r[B],this.providerFactory.index,i);s=c.slice(0,a),Tf(o,s);for(let d=a;d<c.length;d++)s.push(c[d])}else s=[],Tf(o,s);return s}function Tf(e,n){for(let t=0;t<e.length;t++){let r=e[t];n.push(r())}return n}function NM(e,n,t,r,i,o){let s=new Vr(e,t,w,null);return s.multi=[],s.index=n,s.componentProviders=0,Rv(s,i,r&&!t),s}function nn(e,n){return t=>{t.providersResolver=(r,i)=>$g(r,i?i(e):e,!1),n&&(t.viewProvidersResolver=(r,i)=>$g(r,i?i(n):n,!0))}}function yp(e,n,t){let r=Ma()+e,i=z();return i[r]===Ge?np(i,r,t?n.call(t):n()):cw(i,r)}function qr(e,n,t,r){return kM(z(),Ma(),e,n,t,r)}function Nv(e,n){let t=e[n];return t===Ge?void 0:t}function kM(e,n,t,r,i,o){let s=n+t;return Dt(e,s,i)?np(e,s+1,o?r.call(o,i):r(i)):Nv(e,s+1)}function FM(e,n,t,r,i,o,s){let a=n+t;return rp(e,a,i,o)?np(e,a+2,s?r.call(s,i,o):r(i,o)):Nv(e,a+2)}function Ze(e,n){let t=Ie(),r,i=e+Fe;t.firstCreatePass?(r=LM(n,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=tr(r.type,!0)),s,a=it(w);try{let c=Ga(!1),d=o();return Ga(c),dd(t,z(),i,d),d}finally{it(a)}}function LM(e,n){if(n)for(let t=n.length-1;t>=0;t--){let r=n[t];if(e===r.name)return r}}function Ye(e,n,t,r){let i=e+Fe,o=z(),s=Bm(o,i);return jM(o,i)?FM(o,Ma(),n,s.transform,t,r,s):s.transform(t,r)}function jM(e,n){return e[B].data[n].pure}var sc=class{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},vp=(()=>{class e{compileModuleSync(t){return new tc(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Ku(t),o=Ty(i.declarations).reduce((s,a)=>{let c=jn(a);return c&&s.push(new Hr(c)),s},[]);return new sc(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var kv=(()=>{class e{applicationErrorHandler=v(bt);appRef=v(Wn);taskService=v(Bn);ngZone=v(Xe);zonelessEnabled=v(So);tracing=v(zn,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new He;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ho):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(v(Nd,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Od:Td;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ho+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Od(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Fv(){return[{provide:rr,useExisting:kv},{provide:Xe,useClass:mo},{provide:So,useValue:!0}]}function VM(){return typeof $localize<"u"&&$localize.locale||Go}var qo=new O("",{factory:()=>v(qo,{optional:!0,skipSelf:!0})||VM()});function gt(e,n){return Fs(e,n?.equal)}var Vv=Symbol("InputSignalNode#UNSET"),QM=R(_({},Ls),{transformFn:void 0,applyValueToInputSignal(e,n){io(e,n)}});function Bv(e,n){let t=Object.create(QM);t.value=e,t.transformFn=n?.transform;function r(){if(to(t),t.value===Vv){let i=null;throw new M(-950,i)}return t.value}return r[nt]=t,r}var xc=class{attributeName;constructor(n){this.attributeName=n}__NG_ELEMENT_ID__=()=>jo(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function Lv(e,n){return Bv(e,n)}function JM(e){return Bv(Vv,e)}var Uv=(Lv.required=JM,Lv);var Cp=new O(""),XM=new O("");function Zo(e){return!e.moduleRef}function eI(e){let n=Zo(e)?e.r3Injector:e.moduleRef.injector,t=n.get(Xe);return t.run(()=>{Zo(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=n.get(bt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Zo(e)){let o=()=>n.destroy(),s=e.platformInjector.get(Cp);s.add(o),n.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Cp);s.add(o),e.moduleRef.onDestroy(()=>{Oo(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return nI(r,t,()=>{let o=n.get(Bn),s=o.add(),a=n.get(up);return a.runInitializers(),a.donePromise.then(()=>{let c=n.get(qo,Go);if(Ev(c||Go),!n.get(XM,!0))return Zo(e)?n.get(Wn):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Zo(e)){let p=n.get(Wn);return e.rootComponent!==void 0&&p.bootstrap(e.rootComponent),p}else return tI?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void o.remove(s))})})}var tI;function nI(e,n,t){try{let r=t();return fr(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e(r)),r}}var Sc=null;function rI(e=[],n){return Je.create({name:n,providers:[{provide:vo,useValue:"platform"},{provide:Cp,useValue:new Set([()=>Sc=null])},...e]})}function iI(e=[]){if(Sc)return Sc;let n=rI(e);return Sc=n,_v(),oI(n),n}function oI(e){let n=e.get(cc,null);Be(e,()=>{n?.forEach(t=>t())})}var Gn=(()=>{class e{static __NG_ELEMENT_ID__=sI}return e})();function sI(e){return aI(Ue(),z(),(e&16)===16)}function aI(e,n,t){if(cr(e)&&!t){let r=Nt(e.index,n);return new dr(r,r)}else if(e.type&175){let r=n[ht];return new dr(r,n)}return null}function Hv(e){let{rootComponent:n,appProviders:t,platformProviders:r,platformRef:i}=e;de(ne.BootstrapApplicationStart);try{let o=i?.injector??iI(r),s=[Fv(),dg,...t||[]],a=new ko({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return eI({r3Injector:a.injector,platformInjector:o,rootComponent:n})}catch(o){return Promise.reject(o)}finally{de(ne.BootstrapApplicationEnd)}}function Zr(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function $v(e){let n=jn(e);if(!n)return null;let t=new Hr(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var zv=null;function Bt(){return zv}function bp(e){zv??=e}var Yo=class{},hr=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>v(Wv),providedIn:"platform"})}return e})(),Dp=new O(""),Wv=(()=>{class e extends hr{_location;_history;_doc=v(ve);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Bt().getBaseHref(this._doc)}onPopState(t){let r=Bt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Bt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Tc(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function Gv(e){let n=e.search(/#|\?|$/);return e[n-1]==="/"?e.slice(0,n-1)+e.slice(n):e}function rn(e){return e&&e[0]!=="?"?`?${e}`:e}var on=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>v(Ac),providedIn:"root"})}return e})(),Oc=new O(""),Ac=(()=>{class e extends on{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??v(ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Tc(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+rn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+rn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+rn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(T(hr),T(Oc,8))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),mr=(()=>{class e{_subject=new Te;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=uI(Gv(qv(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+rn(r))}normalize(t){return e.stripTrailingSlash(lI(this._basePath,qv(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+rn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+rn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=rn;static joinWithSlash=Tc;static stripTrailingSlash=Gv;static \u0275fac=function(r){return new(r||e)(T(on))};static \u0275prov=D({token:e,factory:()=>cI(),providedIn:"root"})}return e})();function cI(){return new mr(T(on))}function lI(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function qv(e){return e.replace(/\/index.html$/,"")}function uI(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var Ip=(()=>{class e extends on{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Tc(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+rn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+rn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(T(hr),T(Oc,8))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();var tt=(function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e})(tt||{}),pe=(function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e})(pe||{}),yt=(function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e})(yt||{}),Zn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Yv(e){return Et(e)[Se.LocaleId]}function Kv(e,n,t){let r=Et(e),i=[r[Se.DayPeriodsFormat],r[Se.DayPeriodsStandalone]],o=Ut(i,n);return Ut(o,t)}function Qv(e,n,t){let r=Et(e),i=[r[Se.DaysFormat],r[Se.DaysStandalone]],o=Ut(i,n);return Ut(o,t)}function Jv(e,n,t){let r=Et(e),i=[r[Se.MonthsFormat],r[Se.MonthsStandalone]],o=Ut(i,n);return Ut(o,t)}function Xv(e,n){let r=Et(e)[Se.Eras];return Ut(r,n)}function Ko(e,n){let t=Et(e);return Ut(t[Se.DateFormat],n)}function Qo(e,n){let t=Et(e);return Ut(t[Se.TimeFormat],n)}function Jo(e,n){let r=Et(e)[Se.DateTimeFormat];return Ut(r,n)}function Xo(e,n){let t=Et(e),r=t[Se.NumberSymbols][n];if(typeof r>"u"){if(n===Zn.CurrencyDecimal)return t[Se.NumberSymbols][Zn.Decimal];if(n===Zn.CurrencyGroup)return t[Se.NumberSymbols][Zn.Group]}return r}function e0(e){if(!e[Se.ExtraData])throw new M(2303,!1)}function t0(e){let n=Et(e);return e0(n),(n[Se.ExtraData][2]||[]).map(r=>typeof r=="string"?Ep(r):[Ep(r[0]),Ep(r[1])])}function n0(e,n,t){let r=Et(e);e0(r);let i=[r[Se.ExtraData][0],r[Se.ExtraData][1]],o=Ut(i,n)||[];return Ut(o,t)||[]}function Ut(e,n){for(let t=n;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new M(2304,!1)}function Ep(e){let[n,t]=e.split(":");return{hours:+n,minutes:+t}}var dI=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Pc={},fI=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function r0(e,n,t,r){let i=bI(e);n=qn(t,n)||n;let s=[],a;for(;n;)if(a=fI.exec(n),a){s=s.concat(a.slice(1));let p=s.pop();if(!p)break;n=p}else{s.push(n);break}let c=i.getTimezoneOffset();r&&(c=o0(r,c),i=_I(i,r));let d="";return s.forEach(p=>{let m=vI(p);d+=m?m(i,t,c):p==="''"?"'":p.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function Lc(e,n,t){let r=new Date(0);return r.setFullYear(e,n,t),r.setHours(0,0,0),r}function qn(e,n){let t=Yv(e);if(Pc[t]??={},Pc[t][n])return Pc[t][n];let r="";switch(n){case"shortDate":r=Ko(e,yt.Short);break;case"mediumDate":r=Ko(e,yt.Medium);break;case"longDate":r=Ko(e,yt.Long);break;case"fullDate":r=Ko(e,yt.Full);break;case"shortTime":r=Qo(e,yt.Short);break;case"mediumTime":r=Qo(e,yt.Medium);break;case"longTime":r=Qo(e,yt.Long);break;case"fullTime":r=Qo(e,yt.Full);break;case"short":let i=qn(e,"shortTime"),o=qn(e,"shortDate");r=Rc(Jo(e,yt.Short),[i,o]);break;case"medium":let s=qn(e,"mediumTime"),a=qn(e,"mediumDate");r=Rc(Jo(e,yt.Medium),[s,a]);break;case"long":let c=qn(e,"longTime"),d=qn(e,"longDate");r=Rc(Jo(e,yt.Long),[c,d]);break;case"full":let p=qn(e,"fullTime"),m=qn(e,"fullDate");r=Rc(Jo(e,yt.Full),[p,m]);break}return r&&(Pc[t][n]=r),r}function Rc(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,r){return n!=null&&r in n?n[r]:t})),e}function sn(e,n,t="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=-e+1:(e=-e,o=t));let s=String(e);for(;s.length<n;)s="0"+s;return r&&(s=s.slice(s.length-n)),o+s}function pI(e,n){return sn(e,3).substring(0,n)}function Ae(e,n,t=0,r=!1,i=!1){return function(o,s){let a=hI(e,o);if((t>0||a>-t)&&(a+=t),e===3)a===0&&t===-12&&(a=12);else if(e===6)return pI(a,n);let c=Xo(s,Zn.MinusSign);return sn(a,n,c,r,i)}}function hI(e,n){switch(e){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate();case 3:return n.getHours();case 4:return n.getMinutes();case 5:return n.getSeconds();case 6:return n.getMilliseconds();case 7:return n.getDay();default:throw new M(2301,!1)}}function ye(e,n,t=tt.Format,r=!1){return function(i,o){return mI(i,o,e,n,t,r)}}function mI(e,n,t,r,i,o){switch(t){case 2:return Jv(n,i,r)[e.getMonth()];case 1:return Qv(n,i,r)[e.getDay()];case 0:let s=e.getHours(),a=e.getMinutes();if(o){let d=t0(n),p=n0(n,i,r),m=d.findIndex(y=>{if(Array.isArray(y)){let[g,b]=y,F=s>=g.hours&&a>=g.minutes,A=s<b.hours||s===b.hours&&a<b.minutes;if(g.hours<b.hours){if(F&&A)return!0}else if(F||A)return!0}else if(y.hours===s&&y.minutes===a)return!0;return!1});if(m!==-1)return p[m]}return Kv(n,i,r)[s<12?0:1];case 3:return Xv(n,r)[e.getFullYear()<=0?0:1];default:let c=t;throw new M(2302,!1)}}function Nc(e){return function(n,t,r){let i=-1*r,o=Xo(t,Zn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case 0:return(i>=0?"+":"")+sn(s,2,o)+sn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+sn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+sn(s,2,o)+":"+sn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+sn(s,2,o)+":"+sn(Math.abs(i%60),2,o);default:throw new M(2310,!1)}}}var gI=0,Fc=4;function yI(e){let n=Lc(e,gI,1).getDay();return Lc(e,0,1+(n<=Fc?Fc:Fc+7)-n)}function i0(e){let n=e.getDay(),t=n===0?-3:Fc-n;return Lc(e.getFullYear(),e.getMonth(),e.getDate()+t)}function wp(e,n=!1){return function(t,r){let i;if(n){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=i0(t),s=yI(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return sn(i,e,Xo(r,Zn.MinusSign))}}function kc(e,n=!1){return function(t,r){let o=i0(t).getFullYear();return sn(o,e,Xo(r,Zn.MinusSign),n)}}var Mp={};function vI(e){if(Mp[e])return Mp[e];let n;switch(e){case"G":case"GG":case"GGG":n=ye(3,pe.Abbreviated);break;case"GGGG":n=ye(3,pe.Wide);break;case"GGGGG":n=ye(3,pe.Narrow);break;case"y":n=Ae(0,1,0,!1,!0);break;case"yy":n=Ae(0,2,0,!0,!0);break;case"yyy":n=Ae(0,3,0,!1,!0);break;case"yyyy":n=Ae(0,4,0,!1,!0);break;case"Y":n=kc(1);break;case"YY":n=kc(2,!0);break;case"YYY":n=kc(3);break;case"YYYY":n=kc(4);break;case"M":case"L":n=Ae(1,1,1);break;case"MM":case"LL":n=Ae(1,2,1);break;case"MMM":n=ye(2,pe.Abbreviated);break;case"MMMM":n=ye(2,pe.Wide);break;case"MMMMM":n=ye(2,pe.Narrow);break;case"LLL":n=ye(2,pe.Abbreviated,tt.Standalone);break;case"LLLL":n=ye(2,pe.Wide,tt.Standalone);break;case"LLLLL":n=ye(2,pe.Narrow,tt.Standalone);break;case"w":n=wp(1);break;case"ww":n=wp(2);break;case"W":n=wp(1,!0);break;case"d":n=Ae(2,1);break;case"dd":n=Ae(2,2);break;case"c":case"cc":n=Ae(7,1);break;case"ccc":n=ye(1,pe.Abbreviated,tt.Standalone);break;case"cccc":n=ye(1,pe.Wide,tt.Standalone);break;case"ccccc":n=ye(1,pe.Narrow,tt.Standalone);break;case"cccccc":n=ye(1,pe.Short,tt.Standalone);break;case"E":case"EE":case"EEE":n=ye(1,pe.Abbreviated);break;case"EEEE":n=ye(1,pe.Wide);break;case"EEEEE":n=ye(1,pe.Narrow);break;case"EEEEEE":n=ye(1,pe.Short);break;case"a":case"aa":case"aaa":n=ye(0,pe.Abbreviated);break;case"aaaa":n=ye(0,pe.Wide);break;case"aaaaa":n=ye(0,pe.Narrow);break;case"b":case"bb":case"bbb":n=ye(0,pe.Abbreviated,tt.Standalone,!0);break;case"bbbb":n=ye(0,pe.Wide,tt.Standalone,!0);break;case"bbbbb":n=ye(0,pe.Narrow,tt.Standalone,!0);break;case"B":case"BB":case"BBB":n=ye(0,pe.Abbreviated,tt.Format,!0);break;case"BBBB":n=ye(0,pe.Wide,tt.Format,!0);break;case"BBBBB":n=ye(0,pe.Narrow,tt.Format,!0);break;case"h":n=Ae(3,1,-12);break;case"hh":n=Ae(3,2,-12);break;case"H":n=Ae(3,1);break;case"HH":n=Ae(3,2);break;case"m":n=Ae(4,1);break;case"mm":n=Ae(4,2);break;case"s":n=Ae(5,1);break;case"ss":n=Ae(5,2);break;case"S":n=Ae(6,1);break;case"SS":n=Ae(6,2);break;case"SSS":n=Ae(6,3);break;case"Z":case"ZZ":case"ZZZ":n=Nc(0);break;case"ZZZZZ":n=Nc(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=Nc(1);break;case"OOOO":case"ZZZZ":case"zzzz":n=Nc(2);break;default:return null}return Mp[e]=n,n}function o0(e,n){e=e.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function CI(e,n){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+n),e}function _I(e,n,t){let i=e.getTimezoneOffset(),o=o0(n,i);return CI(e,-1*(o-i))}function bI(e){if(Zv(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[i,o=1,s=1]=e.split("-").map(a=>+a);return Lc(i,o-1,s)}let t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let r;if(r=e.match(dI))return DI(r)}let n=new Date(e);if(!Zv(n))throw new M(2311,!1);return n}function DI(e){let n=new Date(0),t=0,r=0,i=e[8]?n.setUTCFullYear:n.setFullYear,o=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-t,a=Number(e[5]||0)-r,c=Number(e[6]||0),d=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(n,s,a,c,d),n}function Zv(e){return e instanceof Date&&!isNaN(e.valueOf())}function EI(e,n){return new M(2100,!1)}var wI="mediumDate",s0=new O(""),a0=new O(""),wt=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??wI,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return r0(t,s,o||this.locale,a)}catch(s){throw EI(e,s.message)}}static \u0275fac=function(r){return new(r||e)(w(qo,16),w(s0,24),w(a0,24))};static \u0275pipe=op({name:"date",type:e,pure:!0})}return e})();var Pe=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=tn({type:e});static \u0275inj=Ot({})}return e})();function es(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}var Yr=class{};var c0="browser";var l0=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:()=>new Sp(v(ve),window)})}return e})(),Sp=class{document;window;offset=()=>[0,0];constructor(n,t){this.document=n,this.window=t}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n,t){this.window.scrollTo(R(_({},t),{left:n[0],top:n[1]}))}scrollToAnchor(n,t){let r=II(this.document,n);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(n){try{this.window.history.scrollRestoration=n}catch{console.warn(hn(2400,!1))}}scrollToElement(n,t){let r=n.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(R(_({},t),{left:i-s[0],top:o-s[1]}))}};function II(e,n){let t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}var ts=class{_doc;constructor(n){this._doc=n}manager},jc=(()=>{class e extends ts{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(T(ve))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),Uc=new O(""),Ap=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof jc));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof jc);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new M(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||e)(T(Uc),T(Xe))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),xp="ng-app-id";function u0(e){for(let n of e)n.remove()}function d0(e,n){let t=n.createElement("style");return t.textContent=e,t}function SI(e,n,t,r){let i=e.head?.querySelectorAll(`style[${xp}="${n}"],link[${xp}="${n}"]`);if(i)for(let o of i)o.removeAttribute(xp),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Op(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var Pp=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,SI(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,d0);r?.forEach(i=>this.addUsage(i,this.external,Op))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(u0(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])u0(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,d0(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Op(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||e)(T(ve),T(ac),T(lc,8),T(Vo))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),Tp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Rp=/%COMP%/g;var p0="%COMP%",xI=`_nghost-${p0}`,TI=`_ngcontent-${p0}`,OI=!0,AI=new O("",{factory:()=>OI});function PI(e){return TI.replace(Rp,e)}function RI(e){return xI.replace(Rp,e)}function h0(e,n){return n.map(t=>t.replace(Rp,e))}var Np=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(t,r,i,o,s,a,c=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=d,this.defaultRenderer=new ns(t,s,a,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Bc?i.applyToHost(t):i instanceof rs&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.tracingService;switch(r.encapsulation){case Xt.Emulated:o=new Bc(c,d,r,this.appId,p,s,a,m);break;case Xt.ShadowDom:return new Vc(c,t,r,s,a,this.nonce,m,d);case Xt.ExperimentalIsolatedShadowDom:return new Vc(c,t,r,s,a,this.nonce,m);default:o=new rs(c,d,r,p,s,a,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||e)(T(Ap),T(Pp),T(ac),T(AI),T(ve),T(Xe),T(lc),T(zn,8))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),ns=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,r,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(Tp[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(f0(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(f0(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new M(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;let o=Tp[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){let i=Tp[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(Dn.DashCase|Dn.Important)?n.style.setProperty(t,r,i&Dn.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&Dn.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n!=null&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r,i){if(typeof n=="string"&&(n=Bt().getGlobalEventTarget(this.doc,n),!n))throw new M(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,t,o)),this.eventManager.addEventListener(n,t,o,i)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;n(t)===!1&&t.preventDefault()}}};function f0(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Vc=class extends ns{hostEl;sharedStylesHost;shadowRoot;constructor(n,t,r,i,o,s,a,c){super(n,i,o,a),this.hostEl=t,this.sharedStylesHost=c,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let d=r.styles;d=h0(r.id,d);for(let m of d){let y=document.createElement("style");s&&y.setAttribute("nonce",s),y.textContent=m,this.shadowRoot.appendChild(y)}let p=r.getExternalStyles?.();if(p)for(let m of p){let y=Op(m,i);s&&y.setAttribute("nonce",s),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},rs=class extends ns{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,r,i,o,s,a,c){super(n,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=c?h0(c,d):d,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Br.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Bc=class extends rs{contentAttr;hostAttr;constructor(n,t,r,i,o,s,a,c){let d=i+"-"+r.id;super(n,t,r,o,s,a,c,d),this.contentAttr=PI(d),this.hostAttr=RI(d)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}};var Hc=class e extends Yo{supportsDOMEvents=!0;static makeCurrent(){bp(new e)}onAndCancel(n,t,r,i){return n.addEventListener(t,r,i),()=>{n.removeEventListener(t,r,i)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=NI();return t==null?null:kI(t)}resetBaseElement(){is=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return es(document.cookie,n)}},is=null;function NI(){return is=is||document.head.querySelector("base"),is?is.getAttribute("href"):null}function kI(e){return new URL(e,document.baseURI).pathname}var FI=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),m0=["alt","control","meta","shift"],LI={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jI={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},g0=(()=>{class e extends ts{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Bt().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),m0.forEach(d=>{let p=r.indexOf(d);p>-1&&(r.splice(p,1),s+=d+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=LI[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),m0.forEach(s=>{if(s!==i){let a=jI[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||e)(T(ve))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();function kp(e,n,t){let r=_({rootComponent:e,platformRef:t?.platformRef},VI(n));return Hv(r)}function VI(e){return{appProviders:[...zI,...e?.providers??[]],platformProviders:$I}}function BI(){Hc.makeCurrent()}function UI(){return new pn}function HI(){return Pf(document),document}var $I=[{provide:Vo,useValue:c0},{provide:cc,useValue:BI,multi:!0},{provide:ve,useFactory:HI}];var zI=[{provide:vo,useValue:"root"},{provide:pn,useFactory:UI},{provide:Uc,useClass:jc,multi:!0},{provide:Uc,useClass:g0,multi:!0},Np,Pp,Ap,{provide:Ur,useExisting:Np},{provide:Yr,useClass:FI},[]];var gr=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){let t=new e;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){let t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(n.name,t);let i=(n.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=n.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(n,t){let r=n.toLowerCase();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(n,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}};var os=class{defaultValue;constructor(n){this.defaultValue=n}},zc=class{map=new Map;set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}},Wc=class{encodeKey(n){return y0(n)}encodeValue(n){return y0(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function WI(e,n){let t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,o)),n.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var GI=/%(\d[a-f0-9])/gi,qI={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function y0(e){return encodeURIComponent(e).replace(GI,(n,t)=>qI[t]??n)}function $c(e){return`${e}`}var Yn=class e{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new Wc,n.fromString){if(n.fromObject)throw new M(2805,!1);this.map=WI(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{let r=n.fromObject[t],i=Array.isArray(r)?r.map($c):[$c(r)];this.map.set(t,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){let t=[];return Object.keys(n).forEach(r=>{let i=n[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let t=new e({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let t=(n.op==="a"?this.map.get(n.param):void 0)||[];t.push($c(n.value)),this.map.set(n.param,t);break;case"d":if(n.value!==void 0){let r=this.map.get(n.param)||[],i=r.indexOf($c(n.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};function ZI(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function v0(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function C0(e){return typeof Blob<"u"&&e instanceof Blob}function _0(e){return typeof FormData<"u"&&e instanceof FormData}function YI(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var b0="Content-Type",D0="Accept",E0="text/plain",w0="application/json",KI=`${w0}, ${E0}, */*`,Ai=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(n,t,r,i){this.url=t,this.method=n.toUpperCase();let o;if(ZI(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new M(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),o.referrerPolicy&&(this.referrerPolicy=o.referrerPolicy),this.transferCache=o.transferCache}if(this.headers??=new gr,this.context??=new zc,!this.params)this.params=new Yn,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||v0(this.body)||C0(this.body)||_0(this.body)||YI(this.body)?this.body:this.body instanceof Yn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||_0(this.body)?null:C0(this.body)?this.body.type||null:v0(this.body)?null:typeof this.body=="string"?E0:this.body instanceof Yn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?w0:null}clone(n={}){let t=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,o=n.keepalive??this.keepalive,s=n.priority||this.priority,a=n.cache||this.cache,c=n.mode||this.mode,d=n.redirect||this.redirect,p=n.credentials||this.credentials,m=n.referrer||this.referrer,y=n.integrity||this.integrity,g=n.referrerPolicy||this.referrerPolicy,b=n.transferCache??this.transferCache,F=n.timeout??this.timeout,A=n.body!==void 0?n.body:this.body,P=n.withCredentials??this.withCredentials,Ne=n.reportProgress??this.reportProgress,xt=n.headers||this.headers,Ve=n.params||this.params,Ji=n.context??this.context;return n.setHeaders!==void 0&&(xt=Object.keys(n.setHeaders).reduce((Xi,Er)=>Xi.set(Er,n.setHeaders[Er]),xt)),n.setParams&&(Ve=Object.keys(n.setParams).reduce((Xi,Er)=>Xi.set(Er,n.setParams[Er]),Ve)),new e(t,r,A,{params:Ve,headers:xt,context:Ji,reportProgress:Ne,responseType:i,withCredentials:P,transferCache:b,keepalive:o,cache:a,priority:s,timeout:F,mode:c,redirect:d,credentials:p,referrer:m,integrity:y,referrerPolicy:g})}},Qr=(function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e})(Qr||{}),Pi=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(n,t=200,r="OK"){this.headers=n.headers||new gr,this.status=n.status!==void 0?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.redirected=n.redirected,this.responseType=n.responseType,this.ok=this.status>=200&&this.status<300}},Gc=class e extends Pi{constructor(n={}){super(n)}type=Qr.ResponseHeader;clone(n={}){return new e({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},ss=class e extends Pi{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=Qr.Response;clone(n={}){return new e({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0,redirected:n.redirected??this.redirected,responseType:n.responseType??this.responseType})}},_e=class extends Pi{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},QI=200,JI=204;var XI=new O("");var eS=/^\)\]\}',?\n/;var Lp=(()=>{class e{xhrFactory;tracingService=v(zn,{optional:!0});constructor(t){this.xhrFactory=t}maybePropagateTrace(t){return this.tracingService?.propagate?this.tracingService.propagate(t):t}handle(t){if(t.method==="JSONP")throw new M(-2800,!1);let r=this.xhrFactory;return G(null).pipe(Qe(()=>new te(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((A,P)=>s.setRequestHeader(A,P.join(","))),t.headers.has(D0)||s.setRequestHeader(D0,KI),!t.headers.has(b0)){let A=t.detectContentTypeHeader();A!==null&&s.setRequestHeader(b0,A)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let A=t.responseType.toLowerCase();s.responseType=A!=="json"?A:"text"}let a=t.serializeBody(),c=null,d=()=>{if(c!==null)return c;let A=s.statusText||"OK",P=new gr(s.getAllResponseHeaders()),Ne=s.responseURL||t.url;return c=new Gc({headers:P,status:s.status,statusText:A,url:Ne}),c},p=this.maybePropagateTrace(()=>{let{headers:A,status:P,statusText:Ne,url:xt}=d(),Ve=null;P!==JI&&(Ve=typeof s.response>"u"?s.responseText:s.response),P===0&&(P=Ve?QI:0);let Ji=P>=200&&P<300;if(t.responseType==="json"&&typeof Ve=="string"){let Xi=Ve;Ve=Ve.replace(eS,"");try{Ve=Ve!==""?JSON.parse(Ve):null}catch(Er){Ve=Xi,Ji&&(Ji=!1,Ve={error:Er,text:Ve})}}Ji?(o.next(new ss({body:Ve,headers:A,status:P,statusText:Ne,url:xt||void 0})),o.complete()):o.error(new _e({error:Ve,headers:A,status:P,statusText:Ne,url:xt||void 0}))}),m=this.maybePropagateTrace(A=>{let{url:P}=d(),Ne=new _e({error:A,status:s.status||0,statusText:s.statusText||"Unknown Error",url:P||void 0});o.error(Ne)}),y=m;t.timeout&&(y=this.maybePropagateTrace(A=>{let{url:P}=d(),Ne=new _e({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:P||void 0});o.error(Ne)}));let g=!1,b=this.maybePropagateTrace(A=>{g||(o.next(d()),g=!0);let P={type:Qr.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(P.total=A.total),t.responseType==="text"&&s.responseText&&(P.partialText=s.responseText),o.next(P)}),F=this.maybePropagateTrace(A=>{let P={type:Qr.UploadProgress,loaded:A.loaded};A.lengthComputable&&(P.total=A.total),o.next(P)});return s.addEventListener("load",p),s.addEventListener("error",m),s.addEventListener("timeout",y),s.addEventListener("abort",m),t.reportProgress&&(s.addEventListener("progress",b),a!==null&&s.upload&&s.upload.addEventListener("progress",F)),s.send(a),o.next({type:Qr.Sent}),()=>{s.removeEventListener("error",m),s.removeEventListener("abort",m),s.removeEventListener("load",p),s.removeEventListener("timeout",y),t.reportProgress&&(s.removeEventListener("progress",b),a!==null&&s.upload&&s.upload.removeEventListener("progress",F)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(T(Yr))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function tS(e,n){return n(e)}function nS(e,n,t){return(r,i)=>Be(t,()=>n(r,o=>e(o,i)))}var jp=new O("",{factory:()=>[]}),M0=new O(""),I0=new O("",{factory:()=>!0});var as=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=T(Lp),i},providedIn:"root"})}return e})();var qc=(()=>{class e{backend;injector;chain=null;pendingTasks=v(Ra);contributeToStability=v(I0);constructor(t,r){this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(jp),...this.injector.get(M0,[])]));this.chain=r.reduceRight((i,o)=>nS(i,o,this.injector),tS)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(co(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(T(as),T(be))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Vp=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=T(qc),i},providedIn:"root"})}return e})();function Fp(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,credentials:e.credentials,transferCache:e.transferCache,timeout:e.timeout,keepalive:e.keepalive,priority:e.priority,cache:e.cache,mode:e.mode,redirect:e.redirect,integrity:e.integrity,referrer:e.referrer,referrerPolicy:e.referrerPolicy}}var Mn=(()=>{class e{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Ai)o=t;else{let c;i.headers instanceof gr?c=i.headers:c=new gr(i.headers);let d;i.params&&(i.params instanceof Yn?d=i.params:d=new Yn({fromObject:i.params})),o=new Ai(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:d,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,referrerPolicy:i.referrerPolicy,integrity:i.integrity,timeout:i.timeout})}let s=G(o).pipe(er(c=>this.handler.handle(c)));if(t instanceof Ai||i.observe==="events")return s;let a=s.pipe(ft(c=>c instanceof ss));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(oe(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new M(2806,!1);return c.body}));case"blob":return a.pipe(oe(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new M(2807,!1);return c.body}));case"text":return a.pipe(oe(c=>{if(c.body!==null&&typeof c.body!="string")throw new M(2808,!1);return c.body}));case"json":default:return a.pipe(oe(c=>c.body))}case"response":return a;default:throw new M(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Yn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Fp(i,r))}post(t,r,i={}){return this.request("POST",t,Fp(i,r))}put(t,r,i={}){return this.request("PUT",t,Fp(i,r))}static \u0275fac=function(r){return new(r||e)(T(Vp))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var rS=new O("",{factory:()=>!0}),iS="XSRF-TOKEN",oS=new O("",{factory:()=>iS}),sS="X-XSRF-TOKEN",aS=new O("",{providedIn:"root",factory:()=>sS}),cS=(()=>{class e{cookieName=v(oS);doc=v(ve);lastCookieString="";lastToken=null;parseCount=0;getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=es(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),S0=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=T(cS),i},providedIn:"root"})}return e})();function lS(e,n){if(!v(rS)||e.method==="GET"||e.method==="HEAD")return n(e);try{let i=v(hr).href,{origin:o}=new URL(i),{origin:s}=new URL(e.url,o);if(o!==s)return n(e)}catch{return n(e)}let t=v(S0).getToken(),r=v(aS);return t!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,t)})),n(e)}var Bp=(function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e})(Bp||{});function uS(e,n){return{\u0275kind:e,\u0275providers:n}}function Up(...e){let n=[Mn,qc,{provide:Vp,useExisting:qc},{provide:as,useFactory:()=>v(XI,{optional:!0})??v(Lp)},{provide:jp,useValue:lS,multi:!0}];for(let t of e)n.push(...t.\u0275providers);return Gt(n)}function Hp(e){return uS(Bp.Interceptors,e.map(n=>({provide:jp,useValue:n,multi:!0})))}var x0=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||e)(T(ve))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var $p=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=T(dS),i},providedIn:"root"})}return e})(),dS=(()=>{class e extends $p{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case en.NONE:return r;case en.HTML:return Hn(r,"HTML")?Lt(r):Vf(this._doc,String(r)).toString();case en.STYLE:return Hn(r,"Style")?Lt(r):r;case en.SCRIPT:if(Hn(r,"Script"))return Lt(r);throw new M(5200,!1);case en.URL:return Hn(r,"URL")?Lt(r):Bo(String(r));case en.RESOURCE_URL:if(Hn(r,"ResourceURL"))return Lt(r);throw new M(5201,!1);default:throw new M(5202,!1)}}bypassSecurityTrustHtml(t){return Nf(t)}bypassSecurityTrustStyle(t){return kf(t)}bypassSecurityTrustScript(t){return Ff(t)}bypassSecurityTrustUrl(t){return Lf(t)}bypassSecurityTrustResourceUrl(t){return jf(t)}static \u0275fac=function(r){return new(r||e)(T(ve))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var q="primary",vs=Symbol("RouteTitle"),Zp=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ti(e){return new Zp(e)}function j0(e,n,t){let r=t.path.split("/");if(r.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function el(e){return new Promise((n,t)=>{e.pipe(kn()).subscribe({next:r=>n(r),error:r=>t(r)})})}function fS(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!In(e[t],n[t]))return!1;return!0}function In(e,n){let t=e?Yp(e):void 0,r=n?Yp(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!V0(e[i],n[i]))return!1;return!0}function Yp(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function V0(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),r=[...n].sort();return t.every((i,o)=>r[o]===i)}else return e===n}function B0(e){return e.length>0?e[e.length-1]:null}function ni(e){return na(e)?e:fr(e)?fe(Promise.resolve(e)):G(e)}function U0(e){return na(e)?el(e):Promise.resolve(e)}var pS={exact:$0,subset:z0},H0={exact:hS,subset:mS,ignored:()=>!0};function O0(e,n,t){return pS[t.paths](e.root,n.root,t.matrixParams)&&H0[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function hS(e,n){return In(e,n)}function $0(e,n,t){if(!Xr(e.segments,n.segments)||!Qc(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!e.children[r]||!$0(e.children[r],n.children[r],t))return!1;return!0}function mS(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>V0(e[t],n[t]))}function z0(e,n,t){return W0(e,n,n.segments,t)}function W0(e,n,t,r){if(e.segments.length>t.length){let i=e.segments.slice(0,t.length);return!(!Xr(i,t)||n.hasChildren()||!Qc(i,t,r))}else if(e.segments.length===t.length){if(!Xr(e.segments,t)||!Qc(e.segments,t,r))return!1;for(let i in n.children)if(!e.children[i]||!z0(e.children[i],n.children[i],r))return!1;return!0}else{let i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!Xr(e.segments,i)||!Qc(e.segments,i,r)||!e.children[q]?!1:W0(e.children[q],n,o,r)}}function Qc(e,n,t){return n.every((r,i)=>H0[t](e[i].parameters,r.parameters))}var cn=class{root;queryParams;fragment;_queryParamMap;constructor(n=new ae([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ti(this.queryParams),this._queryParamMap}toString(){return vS.serialize(this)}},ae=class{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jc(this)}},yr=class{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=ti(this.parameters),this._parameterMap}toString(){return q0(this)}};function gS(e,n){return Xr(e,n)&&e.every((t,r)=>In(t.parameters,n[r].parameters))}function Xr(e,n){return e.length!==n.length?!1:e.every((t,r)=>t.path===n[r].path)}function yS(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===q&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==q&&(t=t.concat(n(i,r)))}),t}var ri=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>new Kn,providedIn:"root"})}return e})(),Kn=class{parse(n){let t=new Qp(n);return new cn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${cs(n.root,!0)}`,r=bS(n.queryParams),i=typeof n.fragment=="string"?`#${CS(n.fragment)}`:"";return`${t}${r}${i}`}},vS=new Kn;function Jc(e){return e.segments.map(n=>q0(n)).join("/")}function cs(e,n){if(!e.hasChildren())return Jc(e);if(n){let t=e.children[q]?cs(e.children[q],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==q&&r.push(`${i}:${cs(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=yS(e,(r,i)=>i===q?[cs(e.children[q],!1)]:[`${i}:${cs(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[q]!=null?`${Jc(e)}/${t[0]}`:`${Jc(e)}/(${t.join("//")})`}}function G0(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yc(e){return G0(e).replace(/%3B/gi,";")}function CS(e){return encodeURI(e)}function Kp(e){return G0(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xc(e){return decodeURIComponent(e)}function A0(e){return Xc(e.replace(/\+/g,"%20"))}function q0(e){return`${Kp(e.path)}${_S(e.parameters)}`}function _S(e){return Object.entries(e).map(([n,t])=>`;${Kp(n)}=${Kp(t)}`).join("")}function bS(e){let n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Yc(t)}=${Yc(i)}`).join("&"):`${Yc(t)}=${Yc(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var DS=/^[^\/()?;#]+/;function zp(e){let n=e.match(DS);return n?n[0]:""}var ES=/^[^\/()?;=#]+/;function wS(e){let n=e.match(ES);return n?n[0]:""}var MS=/^[^=?&#]+/;function IS(e){let n=e.match(MS);return n?n[0]:""}var SS=/^[^&#]+/;function xS(e){let n=e.match(SS);return n?n[0]:""}var Qp=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ae([],{}):new ae([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[q]=new ae(n,t)),r}parseSegment(){let n=zp(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new M(4009,!1);return this.capture(n),new yr(Xc(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=wS(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=zp(this.remaining);i&&(r=i,this.capture(r))}n[Xc(t)]=Xc(r)}parseQueryParam(n){let t=IS(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=xS(this.remaining);s&&(r=s,this.capture(r))}let i=A0(t),o=A0(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=zp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new M(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=q);let s=this.parseChildren();t[o??q]=Object.keys(s).length===1&&s[q]?s[q]:new ae([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new M(4011,!1)}};function Z0(e){return e.segments.length>0?new ae([],{[q]:e}):e}function Y0(e){let n={};for(let[r,i]of Object.entries(e.children)){let o=Y0(i);if(r===q&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let t=new ae(e.segments,n);return TS(t)}function TS(e){if(e.numberOfChildren===1&&e.children[q]){let n=e.children[q];return new ae(e.segments.concat(n.segments),n.children)}return e}function vr(e){return e instanceof cn}function K0(e,n,t=null,r=null,i=new Kn){let o=Q0(e);return J0(o,n,t,r,i)}function Q0(e){let n;function t(o){let s={};for(let c of o.children){let d=t(c);s[c.outlet]=d}let a=new ae(o.url,s);return o===e&&(n=a),a}let r=t(e.root),i=Z0(r);return n??i}function J0(e,n,t,r,i){let o=e;for(;o.parent;)o=o.parent;if(n.length===0)return Wp(o,o,o,t,r,i);let s=OS(n);if(s.toRoot())return Wp(o,o,new ae([],{}),t,r,i);let a=AS(s,o,e),c=a.processChildren?us(a.segmentGroup,a.index,s.commands):eC(a.segmentGroup,a.index,s.commands);return Wp(o,a.segmentGroup,c,t,r,i)}function tl(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function fs(e){return typeof e=="object"&&e!=null&&e.outlets}function P0(e,n,t){e||="\u0275";let r=new cn;return r.queryParams={[e]:n},t.parse(t.serialize(r)).queryParams[e]}function Wp(e,n,t,r,i,o){let s={};for(let[d,p]of Object.entries(r??{}))s[d]=Array.isArray(p)?p.map(m=>P0(d,m,o)):P0(d,p,o);let a;e===n?a=t:a=X0(e,n,t);let c=Z0(Y0(a));return new cn(c,s,i)}function X0(e,n,t){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===n?r[i]=t:r[i]=X0(o,n,t)}),new ae(e.segments,r)}var nl=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&tl(r[0]))throw new M(4003,!1);let i=r.find(fs);if(i&&i!==B0(r))throw new M(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function OS(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new nl(!0,0,e);let n=0,t=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,d])=>{a[c]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?n++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new nl(t,n,r)}var Ni=class{segmentGroup;processChildren;index;constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}};function AS(e,n,t){if(e.isAbsolute)return new Ni(n,!0,0);if(!t)return new Ni(n,!1,NaN);if(t.parent===null)return new Ni(t,!0,0);let r=tl(e.commands[0])?0:1,i=t.segments.length-1+r;return PS(t,i,e.numberOfDoubleDots)}function PS(e,n,t){let r=e,i=n,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new M(4005,!1);i=r.segments.length}return new Ni(r,!1,i-o)}function RS(e){return fs(e[0])?e[0].outlets:{[q]:e}}function eC(e,n,t){if(e??=new ae([],{}),e.segments.length===0&&e.hasChildren())return us(e,n,t);let r=NS(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new ae(e.segments.slice(0,r.pathIndex),{});return o.children[q]=new ae(e.segments.slice(r.pathIndex),e.children),us(o,0,i)}else return r.match&&i.length===0?new ae(e.segments,{}):r.match&&!e.hasChildren()?Jp(e,n,t):r.match?us(e,0,i):Jp(e,n,t)}function us(e,n,t){if(t.length===0)return new ae(e.segments,{});{let r=RS(t),i={};if(Object.keys(r).some(o=>o!==q)&&e.children[q]&&e.numberOfChildren===1&&e.children[q].segments.length===0){let o=us(e.children[q],n,t);return new ae(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=eC(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ae(e.segments,i)}}function NS(e,n,t){let r=0,i=n,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return o;let s=e.segments[i],a=t[r];if(fs(a))break;let c=`${a}`,d=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&d&&typeof d=="object"&&d.outlets===void 0){if(!N0(c,d,s))return o;r+=2}else{if(!N0(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Jp(e,n,t){let r=e.segments.slice(0,n),i=0;for(;i<t.length;){let o=t[i];if(fs(o)){let c=kS(o.outlets);return new ae(r,c)}if(i===0&&tl(t[0])){let c=e.segments[n];r.push(new yr(c.path,R0(t[0]))),i++;continue}let s=fs(o)?o.outlets[q]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&tl(a)?(r.push(new yr(s,R0(a))),i+=2):(r.push(new yr(s,{})),i++)}return new ae(r,{})}function kS(e){let n={};return Object.entries(e).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[t]=Jp(new ae([],{}),0,r))}),n}function R0(e){let n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function N0(e,n,t){return e==t.path&&In(n,t.parameters)}var ki="imperative",je=(function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e})(je||{}),It=class{id;url;constructor(n,t){this.id=n,this.url=t}},Cr=class extends It{type=je.NavigationStart;navigationTrigger;restoredState;constructor(n,t,r="imperative",i=null){super(n,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},St=class extends It{urlAfterRedirects;type=je.NavigationEnd;constructor(n,t,r){super(n,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},lt=(function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e})(lt||{}),Li=(function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e})(Li||{}),Sn=class extends It{reason;code;type=je.NavigationCancel;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},xn=class extends It{reason;code;type=je.NavigationSkipped;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}},ji=class extends It{error;target;type=je.NavigationError;constructor(n,t,r,i){super(n,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ps=class extends It{urlAfterRedirects;state;type=je.RoutesRecognized;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rl=class extends It{urlAfterRedirects;state;type=je.GuardsCheckStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},il=class extends It{urlAfterRedirects;state;shouldActivate;type=je.GuardsCheckEnd;constructor(n,t,r,i,o){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ol=class extends It{urlAfterRedirects;state;type=je.ResolveStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sl=class extends It{urlAfterRedirects;state;type=je.ResolveEnd;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},al=class{route;type=je.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},cl=class{route;type=je.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ll=class{snapshot;type=je.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ul=class{snapshot;type=je.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dl=class{snapshot;type=je.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fl=class{snapshot;type=je.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vi=class{routerEvent;position;anchor;type=je.Scroll;constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},hs=class{},Bi=class{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function FS(e){return!(e instanceof hs)&&!(e instanceof Bi)}function LS(e,n){return e.providers&&!e._injector&&(e._injector=Ti(e.providers,n,`Route: ${e.path}`)),e._injector??n}function an(e){return e.outlet||q}function jS(e,n){let t=e.filter(r=>an(r)===n);return t.push(...e.filter(r=>an(r)!==n)),t}function $i(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var pl=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return $i(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new ii(this.rootInjector)}},ii=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new pl(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||e)(T(be))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),hl=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=Xp(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){let t=Xp(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=eh(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return eh(n,this._root).map(t=>t.value)}};function Xp(e,n){if(e===n.value)return n;for(let t of n.children){let r=Xp(e,t);if(r)return r}return null}function eh(e,n){if(e===n.value)return[n];for(let t of n.children){let r=eh(e,t);if(r.length)return r.unshift(n),r}return[]}var Mt=class{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ri(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var ms=class extends hl{snapshot;constructor(n,t){super(n),this.snapshot=t,sh(this,n)}toString(){return this.snapshot.toString()}};function tC(e){let n=VS(e),t=new $e([new yr("",{})]),r=new $e({}),i=new $e({}),o=new $e({}),s=new $e(""),a=new vt(t,r,o,s,i,q,e,n.root);return a.snapshot=n.root,new ms(new Mt(a,[]),n)}function VS(e){let n={},t={},r={},o=new ei([],n,r,"",t,q,e,null,{});return new gs("",new Mt(o,[]))}var vt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,r,i,o,s,a,c){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(oe(d=>d[vs]))??G(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(oe(n=>ti(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(oe(n=>ti(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ml(e,n,t="emptyOnly"){let r,{routeConfig:i}=e;return n!==null&&(t==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:_(_({},n.params),e.params),data:_(_({},n.data),e.data),resolve:_(_(_(_({},e.data),n.data),i?.data),e._resolvedData)}:r={params:_({},e.params),data:_({},e.data),resolve:_(_({},e.data),e._resolvedData??{})},i&&rC(i)&&(r.resolve[vs]=i.title),r}var ei=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[vs]}constructor(n,t,r,i,o,s,a,c,d){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ti(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ti(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},gs=class extends hl{url;constructor(n,t){super(t),this.url=n,sh(this,t)}toString(){return nC(this._root)}};function sh(e,n){n.value._routerState=e,n.children.forEach(t=>sh(e,t))}function nC(e){let n=e.children.length>0?` { ${e.children.map(nC).join(", ")} } `:"";return`${e.value}${n}`}function Gp(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,In(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),In(n.params,t.params)||e.paramsSubject.next(t.params),fS(n.url,t.url)||e.urlSubject.next(t.url),In(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function th(e,n){let t=In(e.params,n.params)&&gS(e.url,n.url),r=!e.parent!=!n.parent;return t&&!r&&(!e.parent||th(e.parent,n.parent))}function rC(e){return typeof e.title=="string"||e.title===null}var iC=new O(""),Cs=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=q;activateEvents=new Me;deactivateEvents=new Me;attachEvents=new Me;detachEvents=new Me;routerOutletData=Uv();parentContexts=v(ii);location=v(Wr);changeDetector=v(Gn);inputBinder=v(_s,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new M(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new nh(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ce({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[En]})}return e})(),nh=class{route;childContexts;parent;outletData;constructor(n,t,r,i){this.route=n,this.childContexts=t,this.parent=r,this.outletData=i}get(n,t){return n===vt?this.route:n===ii?this.childContexts:n===iC?this.outletData:this.parent.get(n,t)}},_s=new O(""),ah=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=sa([r.queryParams,r.params,r.data]).pipe(Qe(([o,s,a],c)=>(a=_(_(_({},o),s),a),c===0?G(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=$v(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),ch=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=re({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ge(0,"router-outlet")},dependencies:[Cs],encapsulation:2})}return e})();function lh(e){let n=e.children&&e.children.map(lh),t=n?R(_({},e),{children:n}):_({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==q&&(t.component=ch),t}function BS(e,n,t){let r=ys(e,n._root,t?t._root:void 0);return new ms(r,n)}function ys(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=n.value;let i=US(e,n,t);return new Mt(r,i)}else{if(e.shouldAttach(n.value)){let o=e.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>ys(e,a)),s}}let r=HS(n.value),i=n.children.map(o=>ys(e,o));return new Mt(r,i)}}function US(e,n,t){return n.children.map(r=>{for(let i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return ys(e,r,i);return ys(e,r)})}function HS(e){return new vt(new $e(e.url),new $e(e.params),new $e(e.queryParams),new $e(e.fragment),new $e(e.data),e.outlet,e.component,e)}var Ui=class{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},oC="ngNavigationCancelingError";function gl(e,n){let{redirectTo:t,navigationBehaviorOptions:r}=vr(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=sC(!1,lt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function sC(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[oC]=!0,t.cancellationCode=n,t}function $S(e){return aC(e)&&vr(e.url)}function aC(e){return!!e&&e[oC]}var zS=(e,n,t,r)=>oe(i=>(new rh(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)),rh=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,r,i,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),Gp(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){let i=Ri(t);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=Ri(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=Ri(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){let i=Ri(t);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new fl(o.value.snapshot))}),n.children.length&&this.forwardEvent(new ul(n.value.snapshot))}activateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(Gp(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Gp(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},yl=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Fi=class{component;route;constructor(n,t){this.component=n,this.route=t}};function WS(e,n,t){let r=e._root,i=n?n._root:null;return ls(r,i,t,[r.value])}function GS(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function zi(e,n){let t=Symbol(),r=n.get(e,t);return r===t?typeof e=="function"&&!zu(e)?e:n.get(e):r}function ls(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ri(n);return e.children.forEach(s=>{qS(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ds(a,t.getContext(s),i)),i}function qS(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=ZS(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new yl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ls(e,n,a?a.children:null,r,i):ls(e,n,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Fi(a.outlet.component,s))}else s&&ds(n,a,i),i.canActivateChecks.push(new yl(r)),o.component?ls(e,null,a?a.children:null,r,i):ls(e,null,t,r,i);return i}function ZS(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!Xr(e.url,n.url);case"pathParamsOrQueryParamsChange":return!Xr(e.url,n.url)||!In(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!th(e,n)||!In(e.queryParams,n.queryParams);case"paramsChange":default:return!th(e,n)}}function ds(e,n,t){let r=Ri(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?n?ds(s,n.children.getContext(o),t):ds(s,null,t):ds(s,n,t)}),i.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new Fi(n.outlet.component,i)):t.canDeactivateChecks.push(new Fi(null,i)):t.canDeactivateChecks.push(new Fi(null,i))}function bs(e){return typeof e=="function"}function YS(e){return typeof e=="boolean"}function KS(e){return e&&bs(e.canLoad)}function QS(e){return e&&bs(e.canActivate)}function JS(e){return e&&bs(e.canActivateChild)}function XS(e){return e&&bs(e.canDeactivate)}function ex(e){return e&&bs(e.canMatch)}function cC(e){return e instanceof Rn||e?.name==="EmptyError"}var Kc=Symbol("INITIAL_VALUE");function Hi(){return Qe(e=>sa(e.map(n=>n.pipe(Nn(1),Su(Kc)))).pipe(oe(n=>{for(let t of n)if(t!==!0){if(t===Kc)return Kc;if(t===!1||tx(t))return t}return!0}),ft(n=>n!==Kc),Nn(1)))}function tx(e){return vr(e)||e instanceof Ui}function lC(e){return e.aborted?G(void 0).pipe(Nn(1)):new te(n=>{let t=()=>{n.next(),n.complete()};return e.addEventListener("abort",t),()=>e.removeEventListener("abort",t)})}function uC(e){return lo(lC(e))}function nx(e,n){return ze(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?G(R(_({},t),{guardsResult:!0})):rx(s,r,i,e).pipe(ze(a=>a&&YS(a)?ix(r,o,e,n):G(a)),oe(a=>R(_({},t),{guardsResult:a})))})}function rx(e,n,t,r){return fe(e).pipe(ze(i=>lx(i.component,i.route,t,n,r)),kn(i=>i!==!0,!0))}function ix(e,n,t,r){return fe(n).pipe(er(i=>fi(sx(i.route.parent,r),ox(i.route,r),cx(e,i.path,t),ax(e,i.route,t))),kn(i=>i!==!0,!0))}function ox(e,n){return e!==null&&n&&n(new dl(e)),G(!0)}function sx(e,n){return e!==null&&n&&n(new ll(e)),G(!0)}function ax(e,n,t){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return G(!0);let i=r.map(o=>ao(()=>{let s=$i(n)??t,a=zi(o,s),c=QS(a)?a.canActivate(n,e):Be(s,()=>a(n,e));return ni(c).pipe(kn())}));return G(i).pipe(Hi())}function cx(e,n,t){let r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>GS(s)).filter(s=>s!==null).map(s=>ao(()=>{let a=s.guards.map(c=>{let d=$i(s.node)??t,p=zi(c,d),m=JS(p)?p.canActivateChild(r,e):Be(d,()=>p(r,e));return ni(m).pipe(kn())});return G(a).pipe(Hi())}));return G(o).pipe(Hi())}function lx(e,n,t,r,i){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return G(!0);let s=o.map(a=>{let c=$i(n)??i,d=zi(a,c),p=XS(d)?d.canDeactivate(e,n,t,r):Be(c,()=>d(e,n,t,r));return ni(p).pipe(kn())});return G(s).pipe(Hi())}function ux(e,n,t,r,i){let o=n.canLoad;if(o===void 0||o.length===0)return G(!0);let s=o.map(a=>{let c=zi(a,e),d=KS(c)?c.canLoad(n,t):Be(e,()=>c(n,t)),p=ni(d);return i?p.pipe(uC(i)):p});return G(s).pipe(Hi(),dC(r))}function dC(e){return Du(rt(n=>{if(typeof n!="boolean")throw gl(e,n)}),oe(n=>n===!0))}function dx(e,n,t,r,i){let o=n.canMatch;if(!o||o.length===0)return G(!0);let s=o.map(a=>{let c=zi(a,e),d=ex(c)?c.canMatch(n,t):Be(e,()=>c(n,t)),p=ni(d);return i?p.pipe(uC(i)):p});return G(s).pipe(Hi(),dC(r))}var Jr=class fC extends Error{segmentGroup;constructor(n){super(),this.segmentGroup=n||null,Object.setPrototypeOf(this,fC.prototype)}},ih=class pC extends Error{urlTree;constructor(n){super(),this.urlTree=n,Object.setPrototypeOf(this,pC.prototype)}};function fx(e){throw new M(4e3,!1)}function px(e){throw sC(!1,lt.GuardRejected)}var hx=class{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}async lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[q])throw fx(`${n.redirectTo}`);i=i.children[q]}}async applyRedirectCommands(n,t,r,i,o){let s=await mx(t,i,o);if(s instanceof cn)throw new ih(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),n,r);if(s[0]==="/")throw new ih(a);return a}applyRedirectCreateUrlTree(n,t,r,i){let o=this.createSegmentGroup(n,t.root,r,i);return new cn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let r={};return Object.entries(n).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(n,t,r,i){let o=this.createSegments(n,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(n,c,r,i)}),new ae(o,s)}createSegments(n,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,t,r){let i=r[t.path.substring(1)];if(!i)throw new M(4001,!1);return i}findOrReturn(n,t){let r=0;for(let i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}};function mx(e,n,t){if(typeof e=="string")return Promise.resolve(e);let r=e,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:d,data:p,title:m}=n;return el(ni(Be(t,()=>r({params:d,data:p,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:m}))))}var oh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gx(e,n,t,r,i,o){let s=hC(e,n,t);return s.matched?(r=LS(n,r),dx(r,n,t,i,o).pipe(oe(a=>a===!0?s:_({},oh)))):G(s)}function hC(e,n,t){if(n.path==="**")return yx(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?_({},oh):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(n.matcher||j0)(t,e,n);if(!i)return _({},oh);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?_(_({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function yx(e){return{matched:!0,parameters:e.length>0?B0(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function k0(e,n,t,r){return t.length>0&&_x(e,t,r)?{segmentGroup:new ae(n,Cx(r,new ae(t,e.children))),slicedSegments:[]}:t.length===0&&bx(e,t,r)?{segmentGroup:new ae(e.segments,vx(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new ae(e.segments,e.children),slicedSegments:t}}function vx(e,n,t,r){let i={};for(let o of t)if(Cl(e,n,o)&&!r[an(o)]){let s=new ae([],{});i[an(o)]=s}return _(_({},r),i)}function Cx(e,n){let t={};t[q]=n;for(let r of e)if(r.path===""&&an(r)!==q){let i=new ae([],{});t[an(r)]=i}return t}function _x(e,n,t){return t.some(r=>Cl(e,n,r)&&an(r)!==q)}function bx(e,n,t){return t.some(r=>Cl(e,n,r))}function Cl(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Dx(e,n,t){return n.length===0&&!e.children[t]}var Ex=class{};async function wx(e,n,t,r,i,o,s="emptyOnly",a){return new Ix(e,n,t,r,i,s,o,a).recognize()}var Mx=31,Ix=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,r,i,o,s,a,c){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new hx(this.urlSerializer,this.urlTree)}noMatchError(n){return new M(4002,`'${n.segmentGroup}'`)}async recognize(){let n=k0(this.urlTree.root,[],[],this.config).segmentGroup,{children:t,rootSnapshot:r}=await this.match(n),i=new Mt(r,t),o=new gs("",i),s=K0(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}async match(n){let t=new ei([],Object.freeze({}),Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),q,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,n,q,t),rootSnapshot:t}}catch(r){if(r instanceof ih)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Jr?this.noMatchError(r):r}}async processSegmentGroup(n,t,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(n,t,r,o);let s=await this.processSegment(n,t,r,r.segments,i,!0,o);return s instanceof Mt?[s]:[]}async processChildren(n,t,r,i){let o=[];for(let c of Object.keys(r.children))c==="primary"?o.unshift(c):o.push(c);let s=[];for(let c of o){let d=r.children[c],p=jS(t,c),m=await this.processSegmentGroup(n,p,d,c,i);s.push(...m)}let a=mC(s);return Sx(a),a}async processSegment(n,t,r,i,o,s,a){for(let c of t)try{return await this.processSegmentAgainstRoute(c._injector??n,t,c,r,i,o,s,a)}catch(d){if(d instanceof Jr||cC(d))continue;throw d}if(Dx(r,i,o))return new Ex;throw new Jr(r)}async processSegmentAgainstRoute(n,t,r,i,o,s,a,c){if(an(r)!==s&&(s===q||!Cl(i,o,r)))throw new Jr(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(n,i,r,o,s,c);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,o,s,c);throw new Jr(i)}async expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s,a){let{matched:c,parameters:d,consumedSegments:p,positionalParamSegments:m,remainingSegments:y}=hC(t,i,o);if(!c)throw new Jr(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Mx&&(this.allowRedirects=!1));let g=new ei(o,d,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,F0(i),an(i),i.component??i._loadedComponent??null,i,L0(i)),b=ml(g,a,this.paramsInheritanceStrategy);if(g.params=Object.freeze(b.params),g.data=Object.freeze(b.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let F=await this.applyRedirects.applyRedirectCommands(p,i.redirectTo,m,g,n),A=await this.applyRedirects.lineralizeSegments(i,F);return this.processSegment(n,r,t,A.concat(y),s,!1,a)}async matchSegmentAgainstRoute(n,t,r,i,o,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await el(gx(t,r,i,n,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(t.children={}),!a?.matched)throw new Jr(t);n=r._injector??n;let{routes:c}=await this.getChildConfig(n,r,i),d=r._loadedInjector??n,{parameters:p,consumedSegments:m,remainingSegments:y}=a,g=new ei(m,p,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,F0(r),an(r),r.component??r._loadedComponent??null,r,L0(r)),b=ml(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(b.params),g.data=Object.freeze(b.data);let{segmentGroup:F,slicedSegments:A}=k0(t,m,y,c);if(A.length===0&&F.hasChildren()){let xt=await this.processChildren(d,c,F,g);return new Mt(g,xt)}if(c.length===0&&A.length===0)return new Mt(g,[]);let P=an(r)===o,Ne=await this.processSegment(d,c,F,A,P?q:o,!0,g);return new Mt(g,Ne instanceof Mt?[Ne]:[])}async getChildConfig(n,t,r){if(t.children)return{routes:t.children,injector:n};if(t.loadChildren){if(t._loadedRoutes!==void 0)return{routes:t._loadedRoutes,injector:t._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await el(ux(n,t,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(n,t);return t._loadedRoutes=o.routes,t._loadedInjector=o.injector,o}throw px(t)}return{routes:[],injector:n}}};function Sx(e){e.sort((n,t)=>n.value.outlet===q?-1:t.value.outlet===q?1:n.value.outlet.localeCompare(t.value.outlet))}function xx(e){let n=e.value.routeConfig;return n&&n.path===""}function mC(e){let n=[],t=new Set;for(let r of e){if(!xx(r)){n.push(r);continue}let i=n.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):n.push(r)}for(let r of t){let i=mC(r.children);n.push(new Mt(r.value,i))}return n.filter(r=>!t.has(r))}function F0(e){return e.data||{}}function L0(e){return e.resolve||{}}var Tx=new O("",{factory:()=>wx});function Ox(e,n,t,r,i,o,s){let a=e.get(Tx);return ze(c=>G(c).pipe(Qe(d=>a(e,n,t,r,d.extractedUrl,i,o,s)),oe(({state:d,tree:p})=>R(_({},c),{targetSnapshot:d,urlAfterRedirects:p}))))}function Ax(e,n){return ze(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return G(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let d of gC(c))s.add(d);let a=0;return fe(s).pipe(er(c=>o.has(c)?Px(c,r,e,n):(c.data=ml(c,c.parent,e).resolve,G(void 0))),rt(()=>a++),aa(1),ze(c=>a===s.size?G(t):ut))})}function gC(e){let n=e.children.map(t=>gC(t)).flat();return[e,...n]}function Px(e,n,t,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!rC(i)&&(o[vs]=i.title),ao(()=>(e.data=ml(e,e.parent,t).resolve,Rx(o,e,n,r).pipe(oe(s=>(e._resolvedData=s,e.data=_(_({},e.data),s),null)))))}function Rx(e,n,t,r){let i=Yp(e);if(i.length===0)return G({});let o={};return fe(i).pipe(ze(s=>Nx(e[s],n,t,r).pipe(kn(),rt(a=>{if(a instanceof Ui)throw gl(new Kn,a);o[s]=a}))),aa(1),oe(()=>o),dn(s=>cC(s)?ut:Pn(s)))}function Nx(e,n,t,r){let i=$i(n)??r,o=zi(e,i),s=o.resolve?o.resolve(n,t):Be(i,()=>o(n,t));return ni(s)}function qp(e){return Qe(n=>{let t=e(n);return t?fe(t).pipe(oe(()=>n)):G(n)})}var uh=(()=>{class e{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===q);return r}getResolvedTitleForRoute(t){return t.data[vs]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>v(yC),providedIn:"root"})}return e})(),yC=(()=>{class e extends uh{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(T(x0))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),_r=new O("",{factory:()=>({})}),oi=new O(""),_l=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=v(vp);async loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await U0(Be(t,()=>r.loadComponent())),s=await _C(CC(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await vC(r,this.compiler,t,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();async function vC(e,n,t,r){let i=await U0(Be(t,()=>e.loadChildren())),o=await _C(CC(i)),s;o instanceof bc||Array.isArray(o)?s=o:s=await n.compileModuleAsync(o),r&&r(e);let a,c,d=!1;return Array.isArray(s)?(c=s,d=!0):(a=s.create(t).injector,c=a.get(oi,[],{optional:!0,self:!0}).flat()),{routes:c.map(lh),injector:a}}function kx(e){return e&&typeof e=="object"&&"default"in e}function CC(e){return kx(e)?e.default:e}async function _C(e){return e}var bl=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>v(Fx),providedIn:"root"})}return e})(),Fx=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),dh=new O(""),fh=new O("");function bC(e,n,t){let r=e.get(fh),i=e.get(ve);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(d=>setTimeout(d));let o,s=new Promise(d=>{o=d}),a=i.startViewTransition(()=>(o(),Lx(e)));a.ready.catch(d=>{}),a.finished.catch(d=>{});let{onViewTransitionCreated:c}=r;return c&&Be(e,()=>c({transition:a,from:n,to:t})),s}function Lx(e){return new Promise(n=>{Ho({read:()=>setTimeout(n)},{injector:e})})}var jx=()=>{},ph=new O(""),Dl=(()=>{class e{currentNavigation=L(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=L(null);events=new Te;transitionAbortWithErrorSubject=new Te;configLoader=v(_l);environmentInjector=v(be);destroyRef=v(kt);urlSerializer=v(ri);rootContexts=v(ii);location=v(mr);inputBindingEnabled=v(_s,{optional:!0})!==null;titleStrategy=v(uh);options=v(_r,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=v(bl);createViewTransition=v(dh,{optional:!0});navigationErrorHandler=v(ph,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>G(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new al(i)),r=i=>this.events.next(new cl(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;Le(()=>{this.transitions?.next(R(_({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(t){return this.transitions=new $e(null),this.transitions.pipe(ft(r=>r!==null),Qe(r=>{let i=!1,o=new AbortController;return G(r).pipe(Qe(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",lt.SupersededByNewNavigation),ut;this.currentTransition=r;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:a?R(_({},a),{previousNavigation:null}):null,abort:()=>o.abort()});let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&d!=="reload")return this.events.next(new xn(s.id,this.urlSerializer.serialize(s.rawUrl),"",Li.IgnoredSameUrlNavigation)),s.resolve(!1),ut;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return G(s).pipe(Qe(p=>(this.events.next(new Cr(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),p.id!==this.navigationId?ut:Promise.resolve(p))),Ox(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),rt(p=>{r.targetSnapshot=p.targetSnapshot,r.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation.update(y=>(y.finalUrl=p.urlAfterRedirects,y));let m=new ps(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:p,extractedUrl:m,source:y,restoredState:g,extras:b}=s,F=new Cr(p,this.urlSerializer.serialize(m),y,g);this.events.next(F);let A=tC(this.rootComponentType).snapshot;return this.currentTransition=r=R(_({},s),{targetSnapshot:A,urlAfterRedirects:m,extras:R(_({},b),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(P=>(P.finalUrl=m,P)),G(r)}else return this.events.next(new xn(s.id,this.urlSerializer.serialize(s.extractedUrl),"",Li.IgnoredByUrlHandlingStrategy)),s.resolve(!1),ut}),rt(s=>{let a=new rl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),oe(s=>(this.currentTransition=r=R(_({},s),{guards:WS(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),nx(this.environmentInjector,s=>this.events.next(s)),rt(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw gl(this.urlSerializer,s.guardsResult);let a=new il(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),ft(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",lt.GuardRejected),!1)),qp(s=>{if(s.guards.canActivateChecks.length!==0)return G(s).pipe(rt(a=>{let c=new ol(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),Qe(a=>{let c=!1;return G(a).pipe(Ax(this.paramsInheritanceStrategy,this.environmentInjector),rt({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",lt.NoDataFromResolver)}}))}),rt(a=>{let c=new sl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),qp(s=>{let a=d=>{let p=[];if(d.routeConfig?._loadedComponent)d.component=d.routeConfig?._loadedComponent;else if(d.routeConfig?.loadComponent){let m=$i(d)??this.environmentInjector;p.push(this.configLoader.loadComponent(m,d.routeConfig).then(y=>{d.component=y}))}for(let m of d.children)p.push(...a(m));return p},c=a(s.targetSnapshot.root);return c.length===0?G(s):fe(Promise.all(c).then(()=>s))}),qp(()=>this.afterPreactivation()),Qe(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?fe(c).pipe(oe(()=>r)):G(r)}),oe(s=>{let a=BS(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=R(_({},s),{targetRouterState:a}),this.currentNavigation.update(c=>(c.targetRouterState=a,c)),r}),rt(()=>{this.events.next(new hs)}),zS(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Nn(1),lo(lC(o.signal).pipe(ft(()=>!i&&!r.targetRouterState),rt(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",lt.Aborted)}))),rt({next:s=>{i=!0,this.currentNavigation.update(a=>(a.abort=jx,a)),this.lastSuccessfulNavigation.set(Le(this.currentNavigation)),this.events.next(new St(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),lo(this.transitionAbortWithErrorSubject.pipe(rt(s=>{throw s}))),co(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",lt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),dn(s=>{if(this.destroyed)return r.resolve(!1),ut;if(i=!0,aC(s))this.events.next(new Sn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),$S(s)?this.events.next(new Bi(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new ji(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=Be(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Ui){let{message:d,cancellationCode:p}=gl(this.urlSerializer,c);this.events.next(new Sn(r.id,this.urlSerializer.serialize(r.extractedUrl),d,p)),this.events.next(new Bi(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return ut}))}))}cancelNavigationTransition(t,r,i){let o=new Sn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Le(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Vx(e){return e!==ki}var DC=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>v(Bx),providedIn:"root"})}return e})(),vl=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},Bx=(()=>{class e extends vl{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ft(e)))(i||e)}})();static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),hh=(()=>{class e{urlSerializer=v(ri);options=v(_r,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=v(mr);urlHandlingStrategy=v(bl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new cn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof cn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=tC(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>v(EC),providedIn:"root"})}return e})(),EC=(()=>{class e extends hh{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Cr?this.updateStateMemento():t instanceof xn?this.commitTransition(r):t instanceof ps?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof hs?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Sn&&t.code!==lt.SupersededByNewNavigation&&t.code!==lt.Redirect?this.restoreHistory(r):t instanceof ji?this.restoreHistory(r,!0):t instanceof St&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=_(_({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=_(_({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ft(e)))(i||e)}})();static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function El(e,n){e.events.pipe(ft(t=>t instanceof St||t instanceof Sn||t instanceof ji||t instanceof xn),oe(t=>t instanceof St||t instanceof xn?0:(t instanceof Sn?t.code===lt.Redirect||t.code===lt.SupersededByNewNavigation:!1)?2:1),ft(t=>t!==2),Nn(1)).subscribe(()=>{n()})}var Ux={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Hx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Re=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=v(Dc);stateManager=v(hh);options=v(_r,{optional:!0})||{};pendingTasks=v(Bn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=v(Dl);urlSerializer=v(ri);location=v(mr);urlHandlingStrategy=v(bl);injector=v(be);_events=new Te;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=v(DC);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=v(oi,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!v(_s,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new He;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Le(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Sn&&r.code!==lt.Redirect&&r.code!==lt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof St)this.navigated=!0;else if(r instanceof Bi){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=_({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Vx(i.source)},s);this.scheduleNavigation(a,ki,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}FS(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ki,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=_({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(bt)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Le(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(lh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,d=c?this.currentUrlTree.fragment:s,p=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":p=_(_({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let y=i?i.snapshot:this.routerState.snapshot.root;m=Q0(y)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),m=this.currentUrlTree.root}return J0(m,t,p,d??null,this.urlSerializer)}navigateByUrl(t,r={skipLocationChange:!1}){let i=vr(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ki,null,r)}navigate(t,r={skipLocationChange:!1}){return $x(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(hn(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=_({},Ux):r===!1?i=_({},Hx):i=r,vr(t))return O0(this.currentUrlTree,t,i);let o=this.parseUrl(t);return O0(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,d;s?(a=s.resolve,c=s.reject,d=s.promise):d=new Promise((m,y)=>{a=m,c=y});let p=this.pendingTasks.add();return El(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function $x(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new M(4008,!1)}var we=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=L(null);get href(){return Le(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Te;applicationErrorHandler=v(bt);options=v(_r,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(v(new xc("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof St&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(vr(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(d=>{this.applicationErrorHandler(d)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:vr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(w(Re),w(vt),jo("tabindex"),w(Vt),w(et),w(on))};static \u0275dir=Ce({type:e,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&U("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&pr("href",i.reactiveHref(),Bf)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Zr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Zr],replaceUrl:[2,"replaceUrl","replaceUrl",Zr],routerLink:"routerLink"},features:[En]})}return e})(),gh=(()=>{class e{router;element;renderer;cdr;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Me;link=v(we,{optional:!0});constructor(t,r,i,o){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.routerEventsSubscription=t.events.subscribe(s=>{s instanceof St&&this.update()})}ngAfterContentInit(){G(this.links.changes,G(null)).pipe(Xn()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=fe(t).pipe(Xn()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=zx(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||e)(w(Re),w(et),w(Vt),w(Gn))};static \u0275dir=Ce({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&wc(o,we,5),r&2){let s;pp(s=hp())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[En]})}return e})();function zx(e){return!!e.paths}var Ds=class{};var wC=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ft(t=>t instanceof St),er(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Ti(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return fe(i).pipe(Xn())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=fe(this.loader.loadChildren(t,r)):i=G(null);let o=i.pipe(ze(s=>s===null?G(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(t,r);return fe([o,s]).pipe(Xn())}else return o})}static \u0275fac=function(r){return new(r||e)(T(Re),T(be),T(Ds),T(_l))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),MC=new O(""),Wx=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=ki;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Cr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof St?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof xn&&t.code===Li.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{if(!(t instanceof Vi))return;let r={behavior:"instant"};t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position,r):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(async()=>{await new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new Vi(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){tp()};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();function yh(e,...n){return Gt([{provide:oi,multi:!0,useValue:e},[],{provide:vt,useFactory:IC},{provide:zo,multi:!0,useFactory:SC},n.map(t=>t.\u0275providers)])}function IC(){return v(Re).routerState.root}function Es(e,n){return{\u0275kind:e,\u0275providers:n}}function SC(){let e=v(Je);return n=>{let t=e.get(Wn);if(n!==t.components[0])return;let r=e.get(Re),i=e.get(xC);e.get(vh)===1&&r.initialNavigation(),e.get(AC,null,{optional:!0})?.setUpPreloading(),e.get(MC,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var xC=new O("",{factory:()=>new Te}),vh=new O("",{factory:()=>1});function TC(){let e=[{provide:uc,useValue:!0},{provide:vh,useValue:0},Ec(()=>{let n=v(Je);return n.get(Dp,Promise.resolve()).then(()=>new Promise(r=>{let i=n.get(Re),o=n.get(xC);El(i,()=>{r(!0)}),n.get(Dl).afterPreactivation=()=>(r(!0),o.closed?G(void 0):o),i.initialNavigation()}))})];return Es(2,e)}function OC(){let e=[Ec(()=>{v(Re).setUpLocationChangeListener()}),{provide:vh,useValue:2}];return Es(3,e)}var AC=new O("");function PC(e){return Es(0,[{provide:AC,useExisting:wC},{provide:Ds,useExisting:e}])}function RC(){return Es(8,[ah,{provide:_s,useExisting:ah}])}function NC(e){wn("NgRouterViewTransitions");let n=[{provide:dh,useValue:bC},{provide:fh,useValue:_({skipNextTransition:!!e?.skipInitialTransition},e)}];return Es(9,n)}var kC=[mr,{provide:ri,useClass:Kn},Re,ii,{provide:vt,useFactory:IC},_l,[]],Ch=(()=>{class e{constructor(){}static forRoot(t,r){return{ngModule:e,providers:[kC,[],{provide:oi,multi:!0,useValue:t},[],r?.errorHandler?{provide:ph,useValue:r.errorHandler}:[],{provide:_r,useValue:r||{}},r?.useHash?qx():Zx(),Gx(),r?.preloadingStrategy?PC(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Yx(r):[],r?.bindToComponentInputs?RC().\u0275providers:[],r?.enableViewTransitions?NC().\u0275providers:[],Kx()]}}static forChild(t){return{ngModule:e,providers:[{provide:oi,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=tn({type:e});static \u0275inj=Ot({})}return e})();function Gx(){return{provide:MC,useFactory:()=>{let e=v(l0),n=v(Xe),t=v(_r),r=v(Dl),i=v(ri);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Wx(i,r,e,n,t)}}}function qx(){return{provide:on,useClass:Ip}}function Zx(){return{provide:on,useClass:Ac}}function Yx(e){return[e.initialNavigation==="disabled"?OC().\u0275providers:[],e.initialNavigation==="enabledBlocking"?TC().\u0275providers:[]]}var mh=new O("");function Kx(){return[{provide:mh,useFactory:SC},{provide:zo,multi:!0,useExisting:mh}]}var FC=(e,n)=>n.title,Qx=(e,n)=>n.name;function Jx(e,n){if(e&1&&(f(0,"article",16)(1,"span",44),l(2),u(),ge(3,"img",45),f(4,"h3"),l(5),u(),f(6,"p"),l(7),u()()),e&2){let t=n.$implicit;h(2),I(t.badge),h(),$("src",t.image,jt)("alt",t.title),h(2),I(t.title),h(2),I(t.subtitle)}}function Xx(e,n){if(e&1&&(f(0,"article",25)(1,"h3"),l(2),u(),f(3,"p",46),l(4),u(),f(5,"p",47),l(6),f(7,"span"),l(8,"/ month"),u()(),f(9,"p",48),l(10),u(),f(11,"a",8),l(12,"Choose Plan"),u()()),e&2){let t=n.$implicit;h(2),I(t.title),h(2),I(t.meals),h(2),S("",t.price," "),h(4),I(t.points)}}function e1(e,n){if(e&1&&(f(0,"article",33)(1,"p",49),l(2),u(),f(3,"p",50),l(4),u(),f(5,"p",51),l(6),u()()),e&2){let t=n.$implicit;h(2),S('"',t.quote,'"'),h(2),I(t.name),h(2),I(t.role)}}function t1(e,n){if(e&1&&(f(0,"span"),l(1),u()),e&2){let t=n.$implicit;h(),I(t)}}var Ml=class e{featuredCategories=[{title:"Sprouts Bowls",subtitle:"Crunchy, protein-rich bowls with house dressings.",badge:"Most Ordered",image:"images/food4.png"},{title:"Farm Fresh Salads",subtitle:"Colorful daily salads prepped from morning produce.",badge:"Chef Pick",image:"images/food2.png"},{title:"Better Water",subtitle:"Lemon-mint infused hydration crafted every day.",badge:"New",image:"images/food1.png"}];planCards=[{title:"Daily Lite",meals:"1 meal/day",price:"INR 2,499",points:"Ideal for office lunches"},{title:"Balanced Plus",meals:"2 meals/day",price:"INR 4,599",points:"Best for fitness routines"},{title:"Family Smart",meals:"4 meals/day",price:"INR 8,699",points:"Custom portions for home"}];testimonials=[{quote:"Green Spoon fixed my weekday eating. Fresh, clean, and always on time.",name:"Srikanth R.",role:"Product Manager"},{quote:"The Better Water and sprouts combo is now my daily ritual after workouts.",name:"Harini M.",role:"Pilates Coach"},{quote:"Packaging is neat, food feels homemade, and subscriptions are easy to manage.",name:"Ananya K.",role:"Founder"}];serviceAreas=["Hyderabad","Bengaluru","Chennai","Mumbai","Delhi"];static \u0275fac=function(t){return new(t||e)};static \u0275cmp=re({type:e,selectors:[["app-home"]],decls:150,vars:0,consts:[[1,"home-shell"],[1,"hero-section",2,"background-image","linear-gradient(106deg, rgba(12, 58, 28, 0.86) 0%, rgba(12, 58, 28, 0.45) 45%, rgba(12, 58, 28, 0.7) 100%), url('hero.jpg')"],[1,"hero-overlay"],[1,"hero-content","reveal"],[1,"kicker"],[1,"hero-copy"],[1,"hero-actions"],["routerLink","/menu",1,"btn","btn-primary"],["routerLink","/contact",1,"btn","btn-ghost"],[1,"hero-metrics"],[1,"hero-brand-card","reveal","delay-1"],["src","videos/greenspoonlogo.jpeg","alt","Green Spoon logo"],[1,"chip-row"],[1,"section-block","specialties"],[1,"section-head","reveal"],[1,"category-grid"],[1,"category-card","reveal"],[1,"section-block","better-water"],[1,"water-copy","reveal"],[1,"water-gallery"],["src","images/food1.png","alt","Citrus infused water bottle",1,"reveal"],["src","images/food3.png","alt","Lemon and mint infused water",1,"reveal","delay-1"],["src","images/food2.png","alt","Fresh salad with olive dressing",1,"reveal","delay-2"],[1,"section-block","plans"],[1,"plan-grid"],[1,"plan-card","reveal"],[1,"section-block","process"],[1,"steps-grid"],[1,"step-card","reveal"],[1,"step-card","reveal","delay-1"],[1,"step-card","reveal","delay-2"],[1,"section-block","social-proof"],[1,"testimonial-grid"],[1,"review-card","reveal"],[1,"city-bar","reveal"],[1,"section-block","cta-grid"],[1,"cta-card","reveal"],["src","images/food5.png","alt","Green Spoon app coming soon"],["routerLink","/contact",1,"btn","btn-primary"],[1,"cta-card","reveal","delay-1"],["src","images/franchise.png","alt","Green Spoon franchise opportunity"],["routerLink","/about",1,"btn","btn-ghost"],[1,"final-cta",2,"background-image","linear-gradient(110deg, rgba(12, 48, 25, 0.84), rgba(12, 48, 25, 0.54)), url('images/food2.png')"],[1,"reveal"],[1,"badge"],[3,"src","alt"],[1,"meal-count"],[1,"price"],[1,"plan-note"],[1,"quote"],[1,"author"],[1,"role"]],template:function(t,r){t&1&&(f(0,"main",0)(1,"section",1),ge(2,"div",2),f(3,"div",3)(4,"p",4),l(5,"Cloud Kitchen For Clean Eating"),u(),f(6,"h1"),l(7,"Fresh Salads, Sprouts, and Better Water Delivered Daily"),u(),f(8,"p",5),l(9," Green Spoon brings chef-prepped healthy meals from our cloud kitchen to your doorstep. Fast prep, premium ingredients, and subscription plans designed for busy routines. "),u(),f(10,"div",6)(11,"a",7),l(12,"Order From Menu"),u(),f(13,"a",8),l(14,"Start Subscription"),u()(),f(15,"div",9)(16,"div")(17,"strong"),l(18,"18K+"),u(),f(19,"span"),l(20,"Healthy meals served"),u()(),f(21,"div")(22,"strong"),l(23,"30 Min"),u(),f(24,"span"),l(25,"Avg. city delivery"),u()(),f(26,"div")(27,"strong"),l(28,"100%"),u(),f(29,"span"),l(30,"Fresh daily prep"),u()()()(),f(31,"aside",10),ge(32,"img",11),f(33,"h2"),l(34,"Fuel Your Day Naturally"),u(),f(35,"p"),l(36," Signature bowls, salads, and infused water made with farm-fresh ingredients and zero fuss. "),u(),f(37,"div",12)(38,"span"),l(39,"Sprouts"),u(),f(40,"span"),l(41,"Salads"),u(),f(42,"span"),l(43,"Better Water"),u()()()(),f(44,"section",13)(45,"div",14)(46,"p",4),l(47,"Signature Kitchen"),u(),f(48,"h2"),l(49,"What We Craft Every Day"),u(),f(50,"p"),l(51,"Inspired by your reference style with vibrant ingredients and bold greens, tailored for Green Spoon."),u()(),f(52,"div",15),Y(53,Jx,8,5,"article",16,FC),u()(),f(55,"section",17)(56,"div",18)(57,"p",4),l(58,"Better Water"),u(),f(59,"h2"),l(60,"Hydration With Real Citrus and Mint"),u(),f(61,"p"),l(62," Our infused water line is prepared in small batches with lemon, cucumber, and fresh herbs. Ideal pairing for both salads and sprouts bowls. "),u(),f(63,"a",7),l(64,"Explore Better Water"),u()(),f(65,"div",19),ge(66,"img",20)(67,"img",21)(68,"img",22),u()(),f(69,"section",23)(70,"div",14)(71,"p",4),l(72,"Subscriptions"),u(),f(73,"h2"),l(74,"Meal Plans That Fit Real Schedules"),u()(),f(75,"div",24),Y(76,Xx,13,4,"article",25,FC),u()(),f(78,"section",26)(79,"div",14)(80,"p",4),l(81,"How It Works"),u(),f(82,"h2"),l(83,"Built For Cloud Kitchen Speed"),u()(),f(84,"div",27)(85,"article",28)(86,"span"),l(87,"01"),u(),f(88,"h3"),l(89,"Pick Your Meals"),u(),f(90,"p"),l(91,"Choose sprouts, salads, and hydration packs from the daily menu."),u()(),f(92,"article",29)(93,"span"),l(94,"02"),u(),f(95,"h3"),l(96,"Kitchen Preps Fresh"),u(),f(97,"p"),l(98,"Your order is cooked and packed in our central cloud kitchen."),u()(),f(99,"article",30)(100,"span"),l(101,"03"),u(),f(102,"h3"),l(103,"Fast Doorstep Delivery"),u(),f(104,"p"),l(105,"Delivered in insulated packaging that keeps every meal fresh."),u()()()(),f(106,"section",31)(107,"div",14)(108,"p",4),l(109,"Customer Love"),u(),f(110,"h2"),l(111,"Trusted By Busy Health-Conscious Foodies"),u()(),f(112,"div",32),Y(113,e1,7,3,"article",33,Qx),u(),f(115,"div",34)(116,"p"),l(117,"Now serving:"),u(),f(118,"div"),Y(119,t1,2,1,"span",null,at),u()()(),f(121,"section",35)(122,"article",36),ge(123,"img",37),f(124,"div")(125,"h3"),l(126,"Green Spoon App Is Coming Soon"),u(),f(127,"p"),l(128,"Order, track, and customize healthy meals in one tap."),u(),f(129,"a",38),l(130,"Get Early Access"),u()()(),f(131,"article",39),ge(132,"img",40),f(133,"div")(134,"h3"),l(135,"Open A Green Spoon Cloud Kitchen"),u(),f(136,"p"),l(137,"Scale your city with our proven healthy-food operating model."),u(),f(138,"a",41),l(139,"Franchise Details"),u()()()(),f(140,"section",42)(141,"div",43)(142,"p",4),l(143,"Ready To Eat Better?"),u(),f(144,"h2"),l(145,"Start Your Green Spoon Plan Today"),u(),f(146,"p"),l(147,"Healthy food should be convenient. We built this kitchen to make that happen every day."),u(),f(148,"a",7),l(149,"View Full Menu"),u()()()()),t&2&&(h(53),K(r.featuredCategories),h(23),K(r.planCards),h(37),K(r.testimonials),h(6),K(r.serviceAreas))},dependencies:[we],styles:["[_nghost-%COMP%]{display:block}.home-shell[_ngcontent-%COMP%]{--bg-soft: #f4fbf3;--surface: #ffffff;--brand-dark: #0f4f2a;--brand-main: #1f7a3f;--brand-lime: #84cd3c;--text-dark: #103222;--text-soft: #496356;background:radial-gradient(circle at 10% 0%,#84cd3c33,#84cd3c00 42%),radial-gradient(circle at 90% 30%,#1f7a3f2e,#1f7a3f00 46%),var(--bg-soft);color:var(--text-dark);font-family:Fredoka,sans-serif;padding-bottom:3rem}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{font-family:Fredoka,sans-serif;letter-spacing:.2px;margin:0}p[_ngcontent-%COMP%]{margin:0;line-height:1.7;color:var(--text-soft)}.section-block[_ngcontent-%COMP%], .hero-section[_ngcontent-%COMP%], .final-cta[_ngcontent-%COMP%]{width:min(1160px,100% - 2.5rem);margin-inline:auto}.section-block[_ngcontent-%COMP%]{margin-top:4.5rem}.kicker[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:2px;font-weight:700;font-size:.75rem;color:var(--brand-main)}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;border-radius:999px;border:2px solid transparent;padding:.78rem 1.4rem;font-weight:700;text-decoration:none;transition:transform .22s ease,box-shadow .22s ease,background-color .22s ease}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(120deg,var(--brand-main),var(--brand-lime));color:#fff;box-shadow:0 14px 24px #11632f4d}.btn-ghost[_ngcontent-%COMP%]{border-color:#10322233;color:var(--brand-dark);background:#ffffffb8}.hero-section[_ngcontent-%COMP%]{position:relative;margin-top:1.2rem;border-radius:34px;overflow:hidden;min-height:86vh;display:grid;grid-template-columns:1.2fr .8fr;gap:2.1rem;align-items:end;padding:clamp(6rem,11vw,8rem) clamp(1.2rem,3vw,2.6rem) 2.4rem;background-position:center;background-size:cover;background-repeat:no-repeat}.hero-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;pointer-events:none;background-image:radial-gradient(circle at 40% 30%,rgba(132,205,60,.16),transparent 55%)}.hero-content[_ngcontent-%COMP%], .hero-brand-card[_ngcontent-%COMP%]{position:relative;z-index:1}.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:clamp(2.1rem,5.2vw,3.9rem);line-height:1.12;margin-top:.65rem}.hero-copy[_ngcontent-%COMP%]{margin-top:1.05rem;color:#ffffffde;max-width:620px}.hero-actions[_ngcontent-%COMP%]{margin-top:1.4rem;display:flex;gap:.8rem;flex-wrap:wrap}.hero-metrics[_ngcontent-%COMP%]{margin-top:1.7rem;display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:.9rem;max-width:620px}.hero-metrics[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);border:1px solid rgba(255,255,255,.16);border-radius:16px;padding:.8rem;display:flex;flex-direction:column;gap:.22rem}.hero-metrics[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#fff;font-size:1.1rem}.hero-metrics[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fffc;font-size:.84rem}.hero-brand-card[_ngcontent-%COMP%]{background:#ffffffe8;border-radius:26px;padding:1.1rem;border:1px solid rgba(18,87,45,.12);box-shadow:0 20px 48px #0b2a183d}.hero-brand-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:170px;object-fit:cover;border-radius:18px}.hero-brand-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:1rem;font-size:1.35rem;color:var(--brand-dark)}.hero-brand-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:.55rem}.chip-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:.95rem;flex-wrap:wrap}.chip-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#84cd3c26;color:var(--brand-dark);border-radius:999px;padding:.35rem .75rem;font-size:.78rem;font-weight:700}.section-head[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:.52rem;font-size:clamp(1.6rem,4vw,2.5rem)}.section-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-top:.65rem;max-width:720px}.category-grid[_ngcontent-%COMP%]{margin-top:1.45rem;display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:1rem}.category-card[_ngcontent-%COMP%]{background:var(--surface);border-radius:20px;border:1px solid rgba(15,79,42,.1);box-shadow:0 12px 30px #0d301a17;padding:.8rem;transition:transform .25s ease,box-shadow .25s ease}.category-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 18px 30px #0d301a29}.category-card[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-flex;font-size:.7rem;font-weight:700;padding:.28rem .6rem;border-radius:999px;background:#84cd3c38;color:var(--brand-dark)}.category-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:235px;object-fit:cover;border-radius:14px;margin-top:.6rem}.category-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:.82rem;font-size:1.05rem}.category-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:.32rem;font-size:.9rem}.better-water[_ngcontent-%COMP%]{display:grid;grid-template-columns:.86fr 1.14fr;gap:1.2rem;align-items:center}.water-copy[_ngcontent-%COMP%]{background:linear-gradient(145deg,#ffffffdb,#dbf2d8c2);border:1px solid rgba(18,87,45,.1);border-radius:22px;padding:clamp(1rem,3vw,1.6rem)}.water-copy[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:.5rem;font-size:clamp(1.4rem,3vw,2rem)}.water-copy[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:.66rem}.water-copy[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:1rem}.water-gallery[_ngcontent-%COMP%]{display:grid;gap:.85rem;grid-template-columns:repeat(2,minmax(0,1fr))}.water-gallery[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:220px;object-fit:cover;border-radius:20px;border:1px solid rgba(15,79,42,.1);box-shadow:0 16px 24px #0c361d24}.water-gallery[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:first-child{grid-row:span 2;height:100%}.plan-grid[_ngcontent-%COMP%]{margin-top:1.2rem;display:grid;gap:1rem;grid-template-columns:repeat(3,minmax(0,1fr))}.plan-card[_ngcontent-%COMP%]{background:linear-gradient(165deg,#fff,#edf8eb);border:1px solid rgba(15,79,42,.1);border-radius:20px;padding:1.1rem}.plan-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.05rem;color:var(--brand-dark)}.meal-count[_ngcontent-%COMP%]{margin-top:.55rem;font-weight:700;color:#355a45}.price[_ngcontent-%COMP%]{margin-top:.5rem;font-size:1.6rem;line-height:1.2;color:#113c28;font-family:Fredoka,sans-serif}.price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.85rem;color:#4f695b}.plan-note[_ngcontent-%COMP%]{margin-top:.5rem;min-height:46px}.plan-card[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:.75rem}.steps-grid[_ngcontent-%COMP%]{margin-top:1.2rem;display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:1rem}.step-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;border:1px solid rgba(15,79,42,.1);padding:1rem}.step-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--brand-main);font-weight:800}.step-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:.6rem;font-size:1.02rem}.step-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:.42rem;font-size:.9rem}.testimonial-grid[_ngcontent-%COMP%]{margin-top:1.2rem;display:grid;gap:1rem;grid-template-columns:repeat(3,minmax(0,1fr))}.review-card[_ngcontent-%COMP%]{border-radius:20px;background:#fff;border:1px solid rgba(15,79,42,.12);padding:1rem}.quote[_ngcontent-%COMP%]{color:#2a4838;font-size:.95rem}.author[_ngcontent-%COMP%]{margin-top:.76rem;color:#133e2a;font-weight:700}.role[_ngcontent-%COMP%]{font-size:.82rem}.city-bar[_ngcontent-%COMP%]{margin-top:1rem;background:linear-gradient(130deg,#134f29e6,#134f29ad);border-radius:16px;padding:.7rem;display:flex;align-items:center;gap:.6rem;flex-wrap:wrap}.city-bar[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#ffffffd1;font-size:.82rem;font-weight:600}.city-bar[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;gap:.45rem;flex-wrap:wrap}.city-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ffffff29;color:#fff;border-radius:999px;padding:.27rem .65rem;font-size:.8rem}.cta-grid[_ngcontent-%COMP%]{display:grid;gap:1rem;grid-template-columns:repeat(2,minmax(0,1fr))}.cta-card[_ngcontent-%COMP%]{background:#fff;border-radius:22px;border:1px solid rgba(15,79,42,.1);overflow:hidden}.cta-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:240px;object-fit:cover}.cta-card[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:.95rem 1rem 1.1rem}.cta-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.08rem;color:var(--brand-dark)}.cta-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:.42rem}.cta-card[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:.8rem}.final-cta[_ngcontent-%COMP%]{margin-top:4rem;border-radius:28px;padding:clamp(2rem,6vw,3rem);background-position:center;background-size:cover;background-repeat:no-repeat}.final-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:.56rem;color:#fff;font-size:clamp(1.6rem,3.8vw,2.7rem)}.final-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:.72rem;max-width:630px;color:#ffffffd6}.final-cta[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:1rem}.reveal[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_riseIn .72s ease both}.delay-1[_ngcontent-%COMP%]{animation-delay:.14s}.delay-2[_ngcontent-%COMP%]{animation-delay:.28s}@keyframes _ngcontent-%COMP%_riseIn{0%{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}@media(max-width:1020px){.hero-section[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.4rem;align-items:center;min-height:auto}.hero-brand-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:190px}.category-grid[_ngcontent-%COMP%], .plan-grid[_ngcontent-%COMP%], .steps-grid[_ngcontent-%COMP%], .testimonial-grid[_ngcontent-%COMP%], .cta-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}.better-water[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media(max-width:720px){.hero-section[_ngcontent-%COMP%], .section-block[_ngcontent-%COMP%], .final-cta[_ngcontent-%COMP%]{width:min(1160px,100% - 1.2rem)}.hero-section[_ngcontent-%COMP%]{border-radius:24px;padding:5.7rem 1rem 1.2rem}.hero-metrics[_ngcontent-%COMP%]{grid-template-columns:1fr}.hero-brand-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:150px}.category-grid[_ngcontent-%COMP%], .plan-grid[_ngcontent-%COMP%], .steps-grid[_ngcontent-%COMP%], .testimonial-grid[_ngcontent-%COMP%], .cta-grid[_ngcontent-%COMP%], .water-gallery[_ngcontent-%COMP%]{grid-template-columns:1fr}.water-gallery[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .water-gallery[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:first-child{height:220px}}"]})};var Ht=class e{storageKey="greenspoon-cart-v1";itemsSignal=L(this.readFromStorage());items=this.itemsSignal.asReadonly();add(n,t=1){this.itemsSignal.update(r=>r.find(o=>o.id===n.id)?r.map(o=>o.id===n.id?R(_({},o),{quantity:o.quantity+t}):o):[...r,R(_({},n),{quantity:t})]),this.persist()}increment(n){this.itemsSignal.update(t=>t.map(r=>r.id===n?R(_({},r),{quantity:r.quantity+1}):r)),this.persist()}decrement(n){this.itemsSignal.update(t=>t.map(r=>r.id===n?R(_({},r),{quantity:r.quantity-1}):r).filter(r=>r.quantity>0)),this.persist()}remove(n){this.itemsSignal.update(t=>t.filter(r=>r.id!==n)),this.persist()}clear(){this.itemsSignal.set([]),this.persist()}subtotal(){return this.itemsSignal().reduce((n,t)=>n+t.price*t.quantity,0)}itemCount(){return this.itemsSignal().reduce((n,t)=>n+t.quantity,0)}readFromStorage(){try{let n=localStorage.getItem(this.storageKey);if(!n)return[];let t=JSON.parse(n);return Array.isArray(t)?t.filter(r=>typeof r.id=="string"&&typeof r.name=="string"&&typeof r.type=="string"&&typeof r.image=="string"&&typeof r.price=="number"&&typeof r.calories=="string"&&typeof r.quantity=="number"):[]}catch{return[]}}persist(){localStorage.setItem(this.storageKey,JSON.stringify(this.itemsSignal()))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};var n1=(e,n)=>n.name,r1=(e,n)=>n.title;function i1(e,n){if(e&1&&(f(0,"span"),l(1),u()),e&2){let t=n.$implicit;h(),I(t)}}function o1(e,n){if(e&1){let t=se();f(0,"article",11),ge(1,"img",15),f(2,"div",16)(3,"span",17),l(4),u(),f(5,"h3"),l(6),u(),f(7,"p"),l(8),u(),f(9,"div",18)(10,"strong"),l(11),u(),f(12,"button",19),U("click",function(){let i=N(t).$implicit,o=C();return k(o.addToCart(i))}),l(13,"Add"),u()()()()}if(e&2){let t=n.$implicit;h(),$("src",t.image,jt)("alt",t.name),h(3),I(t.type),h(2),I(t.name),h(2),I(t.calories),h(3),S("INR ",t.price)}}function s1(e,n){if(e&1&&(f(0,"article",14)(1,"h3"),l(2),u(),f(3,"p"),l(4),u(),f(5,"div")(6,"strong"),l(7),u(),f(8,"a",20),l(9,"Get Plan"),u()()()),e&2){let t=n.$implicit;h(2),I(t.title),h(2),I(t.detail),h(3),I(t.price)}}var Il=class e{constructor(n){this.cart=n}topTags=["High Protein","Detox Friendly","No Refined Sugar","Fresh Daily"];menuItems=[{id:"power-sprouts-bowl",name:"Power Sprouts Bowl",type:"Sprouts",calories:"320 kcal",price:219,image:"hero.jpg"},{id:"zesty-quinoa-salad",name:"Zesty Quinoa Salad",type:"Salads",calories:"280 kcal",price:249,image:"images/food2.png"},{id:"cucumber-mint-cooler",name:"Cucumber Mint Cooler",type:"Better Water",calories:"30 kcal",price:99,image:"images/food1.png"},{id:"color-crunch-salad",name:"Color Crunch Salad",type:"Salads",calories:"300 kcal",price:229,image:"images/food4.png"},{id:"lemon-basil-hydrate",name:"Lemon Basil Hydrate",type:"Better Water",calories:"22 kcal",price:89,image:"images/food3.png"},{id:"chef-daily-bowl",name:"Chef Daily Bowl",type:"Sprouts",calories:"360 kcal",price:269,image:"images/food4.png"}];combos=[{title:"Office Lunch Combo",detail:"1 salad + 1 infused water",price:"INR 299"},{title:"Post Workout Combo",detail:"1 sprouts bowl + hydration bottle",price:"INR 329"},{title:"Weekly Smart Pack",detail:"5 meals + 5 waters",price:"INR 1,699"}];addToCart(n){this.cart.add({id:n.id,name:n.name,type:n.type,image:n.image,price:n.price,calories:n.calories})}static \u0275fac=function(t){return new(t||e)(w(Ht))};static \u0275cmp=re({type:e,selectors:[["app-menu"]],decls:36,vars:0,consts:[[1,"menu-shell"],[1,"menu-hero"],[1,"kicker"],[1,"tag-row"],[1,"hero-actions"],["routerLink","/cart",1,"btn","btn-primary"],["routerLink","/contact",1,"btn","btn-ghost"],["src","images/food4.png","alt","Healthy Green Spoon meal"],[1,"menu-grid-section"],[1,"section-head"],[1,"menu-grid"],[1,"menu-card"],[1,"combo-section"],[1,"combo-grid"],[1,"combo-card"],[3,"src","alt"],[1,"menu-card-content"],[1,"pill"],[1,"menu-card-footer"],["type","button",3,"click"],["routerLink","/contact"]],template:function(t,r){t&1&&(f(0,"main",0)(1,"section",1)(2,"div")(3,"p",2),l(4,"Green Spoon Menu"),u(),f(5,"h1"),l(6,"Cloud Kitchen Meals That Keep You Light and Energized"),u(),f(7,"p"),l(8," Choose from chef-designed sprouts, salads, and infused water made in small fresh batches every day. "),u(),f(9,"div",3),Y(10,i1,2,1,"span",null,at),u(),f(12,"div",4)(13,"a",5),l(14,"Build My Order"),u(),f(15,"a",6),l(16,"Plan Subscriptions"),u()()(),ge(17,"img",7),u(),f(18,"section",8)(19,"div",9)(20,"p",2),l(21,"Featured Picks"),u(),f(22,"h2"),l(23,"Today\u2019s Kitchen Highlights"),u()(),f(24,"div",10),Y(25,o1,14,6,"article",11,n1),u()(),f(27,"section",12)(28,"div",9)(29,"p",2),l(30,"Smart Combos"),u(),f(31,"h2"),l(32,"Save More With Daily Packs"),u()(),f(33,"div",13),Y(34,s1,10,3,"article",14,r1),u()()()),t&2&&(h(10),K(r.topTags),h(15),K(r.menuItems),h(9),K(r.combos))},dependencies:[we],styles:["[_nghost-%COMP%]{display:block}.menu-shell[_ngcontent-%COMP%]{width:min(1160px,100% - 2.2rem);margin-inline:auto;padding-top:1.8rem;padding-bottom:3rem;font-family:Fredoka,sans-serif}.kicker[_ngcontent-%COMP%]{margin:0;text-transform:uppercase;letter-spacing:2px;font-size:.75rem;font-weight:700;color:#1f7a3f}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin:0;color:#103623}p[_ngcontent-%COMP%]{margin:0;color:#476356;line-height:1.6}.btn[_ngcontent-%COMP%]{display:inline-flex;text-decoration:none;font-weight:700;border-radius:999px;padding:.75rem 1.25rem}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(120deg,#1f7a3f,#84cd3c);color:#fff}.btn-ghost[_ngcontent-%COMP%]{border:1px solid rgba(16,54,35,.2);color:#18462f;background:#fff}.menu-hero[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr .9fr;gap:1rem;align-items:center;background:linear-gradient(120deg,#84cd3c33,#1f7a3f1a);border:1px solid rgba(16,70,38,.12);border-radius:26px;padding:1.2rem}.menu-hero[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:grid;gap:.75rem;align-content:start}.menu-hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(1.8rem,4vw,2.8rem);line-height:1.18}.menu-hero[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:0;max-width:620px}.menu-hero[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:320px;object-fit:cover;border-radius:18px}.tag-row[_ngcontent-%COMP%]{margin-top:0;display:flex;gap:.4rem;flex-wrap:wrap}.tag-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ffffffdb;border:1px solid rgba(16,70,38,.12);border-radius:999px;padding:.3rem .65rem;font-size:.8rem;color:#234c34}.hero-actions[_ngcontent-%COMP%]{margin-top:.1rem;display:flex;gap:.6rem;flex-wrap:wrap}.menu-grid-section[_ngcontent-%COMP%], .combo-section[_ngcontent-%COMP%]{margin-top:2.6rem}.section-head[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:.45rem;font-size:clamp(1.4rem,3.4vw,2.2rem)}.menu-grid[_ngcontent-%COMP%]{margin-top:1rem;display:grid;gap:1rem;grid-template-columns:repeat(3,minmax(0,1fr))}.menu-card[_ngcontent-%COMP%]{background:#fff;border:1px solid rgba(16,70,38,.11);border-radius:18px;overflow:hidden}.menu-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:210px;object-fit:cover}.menu-card-content[_ngcontent-%COMP%]{padding:.8rem}.pill[_ngcontent-%COMP%]{display:inline-flex;padding:.25rem .6rem;border-radius:999px;background:#84cd3c33;color:#194b31;font-size:.72rem;font-weight:700}.menu-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:.55rem;font-size:1.03rem}.menu-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:.25rem;font-size:.86rem}.menu-card-footer[_ngcontent-%COMP%]{margin-top:.7rem;display:flex;align-items:center;justify-content:space-between}.menu-card-footer[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#123e28}.menu-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0;border-radius:999px;padding:.3rem .75rem;background:#123e28;color:#fff;font-size:.82rem;font-family:inherit;font-weight:700;cursor:pointer}.combo-grid[_ngcontent-%COMP%]{margin-top:1rem;display:grid;gap:1rem;grid-template-columns:repeat(3,minmax(0,1fr))}.combo-card[_ngcontent-%COMP%]{background:linear-gradient(145deg,#fff,#edf8eb);border:1px solid rgba(16,70,38,.12);border-radius:18px;padding:.9rem}.combo-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.02rem}.combo-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:.42rem;min-height:44px}.combo-card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-top:.65rem;display:flex;justify-content:space-between;align-items:center}.combo-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#1f7a3f;font-weight:700;font-size:.86rem}@media(max-width:1100px){.menu-hero[_ngcontent-%COMP%]{grid-template-columns:1fr}.menu-grid[_ngcontent-%COMP%], .combo-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}}@media(max-width:700px){.menu-shell[_ngcontent-%COMP%]{width:min(1160px,100% - 1.1rem)}.menu-hero[_ngcontent-%COMP%]{border-radius:18px}.menu-hero[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:230px}.menu-grid[_ngcontent-%COMP%], .combo-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};var a1=(e,n)=>n.id;function c1(e,n){e&1&&(f(0,"section",3)(1,"h2"),l(2,"Your cart is empty"),u(),f(3,"p"),l(4,"Add fresh bowls, salads, and better water from the menu."),u(),f(5,"a",5),l(6,"Go To Menu"),u()())}function l1(e,n){if(e&1){let t=se();f(0,"article",7),ge(1,"img",13),f(2,"div",14)(3,"p",15),l(4),u(),f(5,"h3"),l(6),u(),f(7,"p",16),l(8),u(),f(9,"p",17),l(10),u()(),f(11,"div",18)(12,"div",19)(13,"button",20),U("click",function(){let i=N(t).$implicit,o=C(2);return k(o.decrement(i.id))}),l(14,"-"),u(),f(15,"span"),l(16),u(),f(17,"button",20),U("click",function(){let i=N(t).$implicit,o=C(2);return k(o.increment(i.id))}),l(18,"+"),u()(),f(19,"button",21),U("click",function(){let i=N(t).$implicit,o=C(2);return k(o.remove(i.id))}),l(20,"Remove"),u()()()}if(e&2){let t=n.$implicit;h(),$("src",t.image,jt)("alt",t.name),h(3),I(t.type),h(2),I(t.name),h(2),I(t.calories),h(2),S("INR ",t.price),h(6),I(t.quantity)}}function u1(e,n){if(e&1){let t=se();f(0,"section",4)(1,"div",6),Y(2,l1,21,7,"article",7,a1),u(),f(4,"aside",8)(5,"h2"),l(6,"Order Summary"),u(),f(7,"div",9)(8,"span"),l(9,"Subtotal"),u(),f(10,"strong"),l(11),u()(),f(12,"div",9)(13,"span"),l(14,"Delivery"),u(),f(15,"strong"),l(16),u()(),f(17,"div",9)(18,"span"),l(19,"Tax (5%)"),u(),f(20,"strong"),l(21),u()(),f(22,"div",10)(23,"span"),l(24,"Total"),u(),f(25,"strong"),l(26),u()(),f(27,"a",11),l(28,"Proceed To Checkout"),u(),f(29,"button",12),U("click",function(){N(t);let i=C();return k(i.clear())}),l(30,"Clear Cart"),u()()()}if(e&2){let t=C();h(2),K(t.items()),h(9),S("INR ",t.subtotal()),h(5),S("INR ",t.deliveryFee()),h(5),S("INR ",t.tax()),h(5),S("INR ",t.grandTotal())}}var Sl=class e{constructor(n){this.cart=n}items(){return this.cart.items()}subtotal(){return this.cart.subtotal()}deliveryFee(){return this.items().length>0?39:0}tax(){return Math.round(this.subtotal()*.05)}grandTotal(){return this.subtotal()+this.deliveryFee()+this.tax()}increment(n){this.cart.increment(n)}decrement(n){this.cart.decrement(n)}remove(n){this.cart.remove(n)}clear(){this.cart.clear()}static \u0275fac=function(t){return new(t||e)(w(Ht))};static \u0275cmp=re({type:e,selectors:[["app-cart"]],decls:8,vars:1,consts:[[1,"cart-shell"],[1,"cart-head"],[1,"kicker"],[1,"empty-cart"],[1,"cart-layout"],["routerLink","/menu"],[1,"cart-items"],[1,"item-card"],[1,"summary-card"],[1,"line"],[1,"line","total"],["routerLink","/checkout",1,"checkout"],["type","button",1,"clear",3,"click"],[3,"src","alt"],[1,"item-main"],[1,"type"],[1,"meta"],[1,"price"],[1,"item-actions"],[1,"qty-control"],["type","button",3,"click"],["type","button",1,"remove",3,"click"]],template:function(t,r){t&1&&(f(0,"main",0)(1,"section",1)(2,"p",2),l(3,"Your Cart"),u(),f(4,"h1"),l(5,"Review Items Before Checkout"),u()(),j(6,c1,7,0,"section",3)(7,u1,31,4,"section",4),u()),t&2&&(h(6),V(r.items().length===0?6:7))},dependencies:[Pe,we],styles:["[_nghost-%COMP%]{display:block}.cart-shell[_ngcontent-%COMP%]{width:min(1100px,100% - 2rem);margin-inline:auto;padding-top:2rem;padding-bottom:3rem;font-family:Fredoka,sans-serif}.kicker[_ngcontent-%COMP%]{margin:0;text-transform:uppercase;letter-spacing:2px;font-size:.75rem;font-weight:700;color:#1f7a3f}.cart-head[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.5rem 0 0;color:#123e28}.empty-cart[_ngcontent-%COMP%]{margin-top:1.5rem;border:1px solid rgba(18,62,40,.15);background:#fff;border-radius:20px;padding:1.2rem}.empty-cart[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#123e28}.empty-cart[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0 0;color:#4b6658}.empty-cart[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:.9rem;display:inline-flex;text-decoration:none;border-radius:999px;padding:.55rem 1rem;background:linear-gradient(120deg,#1f7a3f,#84cd3c);color:#fff;font-weight:700}.cart-layout[_ngcontent-%COMP%]{margin-top:1.4rem;display:grid;grid-template-columns:1.3fr .7fr;gap:1rem;align-items:start}.cart-items[_ngcontent-%COMP%]{display:grid;gap:.85rem}.item-card[_ngcontent-%COMP%]{display:grid;grid-template-columns:120px 1fr auto;gap:.85rem;border:1px solid rgba(18,62,40,.14);border-radius:18px;background:#fff;padding:.7rem;align-items:center}.item-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:95px;border-radius:12px;object-fit:cover}.item-main[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{margin:0;color:#1f7a3f;font-size:.75rem;font-weight:700}.item-main[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:.35rem 0 0;color:#123e28;font-size:1rem}.item-main[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{margin:.28rem 0 0;color:#5d766a;font-size:.85rem}.item-main[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{margin:.35rem 0 0;color:#123e28;font-weight:700}.item-actions[_ngcontent-%COMP%]{display:grid;gap:.5rem;justify-items:end}.qty-control[_ngcontent-%COMP%]{display:inline-flex;align-items:center;border:1px solid rgba(18,62,40,.2);border-radius:999px;overflow:hidden}.qty-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0;background:#f1f8ef;width:28px;height:28px;cursor:pointer;color:#123e28;font-weight:800}.qty-control[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{min-width:32px;text-align:center;font-weight:700;color:#123e28}.item-actions[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]{border:0;background:transparent;color:#b33b3b;font-weight:700;cursor:pointer}.summary-card[_ngcontent-%COMP%]{border:1px solid rgba(18,62,40,.15);background:#fff;border-radius:18px;padding:.9rem}.summary-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#123e28;font-size:1.2rem}.line[_ngcontent-%COMP%]{margin-top:.7rem;display:flex;justify-content:space-between;align-items:center;color:#4b6658}.line.total[_ngcontent-%COMP%]{margin-top:.95rem;padding-top:.75rem;border-top:1px dashed rgba(18,62,40,.2);color:#123e28}.checkout[_ngcontent-%COMP%]{margin-top:1rem;display:inline-flex;width:100%;justify-content:center;text-decoration:none;border-radius:999px;padding:.65rem 1rem;background:linear-gradient(120deg,#1f7a3f,#84cd3c);color:#fff;font-weight:700}.clear[_ngcontent-%COMP%]{margin-top:.6rem;width:100%;border:1px solid rgba(18,62,40,.2);border-radius:999px;background:#fff;color:#123e28;font-family:inherit;font-weight:700;padding:.6rem .9rem;cursor:pointer}@media(max-width:900px){.cart-layout[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media(max-width:680px){.cart-shell[_ngcontent-%COMP%]{width:min(1100px,100% - 1rem)}.item-card[_ngcontent-%COMP%]{grid-template-columns:1fr;justify-items:start}.item-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:180px}.item-actions[_ngcontent-%COMP%]{justify-items:start}}"]})};var GC=(()=>{class e{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||e)(w(Vt),w(et))};static \u0275dir=Ce({type:e})}return e})(),Yi=(()=>{class e extends GC{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ft(e)))(i||e)}})();static \u0275dir=Ce({type:e,features:[st]})}return e})(),si=new O(""),d1={provide:si,useExisting:pt(()=>Dh),multi:!0},Dh=(()=>{class e extends Yi{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ft(e)))(i||e)}})();static \u0275dir=Ce({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&U("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[nn([d1]),st]})}return e})(),f1={provide:si,useExisting:pt(()=>$t),multi:!0};function p1(){let e=Bt()?Bt().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var h1=new O(""),$t=(()=>{class e extends GC{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!p1())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||e)(w(Vt),w(et),w(h1,8))};static \u0275dir=Ce({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&U("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[nn([f1]),st]})}return e})();var Eh=new O(""),qC=new O("");function m1(e){return n=>{if(n.value==null||e==null)return null;let t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}function LC(e){return null}function ZC(e){return e!=null}function YC(e){return fr(e)?fe(e):e}function KC(e){let n={};return e.forEach(t=>{n=t!=null?_(_({},n),t):n}),Object.keys(n).length===0?null:n}function QC(e,n){return n.map(t=>t(e))}function g1(e){return!e.validate}function JC(e){return e.map(n=>g1(n)?n:t=>n.validate(t))}function y1(e){if(!e)return null;let n=e.filter(ZC);return n.length==0?null:function(t){return KC(QC(t,n))}}function wh(e){return e!=null?y1(JC(e)):null}function v1(e){if(!e)return null;let n=e.filter(ZC);return n.length==0?null:function(t){let r=QC(t,n).map(YC);return Mu(r).pipe(oe(KC))}}function Mh(e){return e!=null?v1(JC(e)):null}function jC(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function C1(e){return e._rawValidators}function _1(e){return e._rawAsyncValidators}function _h(e){return e?Array.isArray(e)?e:[e]:[]}function Tl(e,n){return Array.isArray(e)?e.includes(n):e===n}function VC(e,n){let t=_h(n);return _h(e).forEach(i=>{Tl(t,i)||t.push(i)}),t}function BC(e,n){return _h(n).filter(t=>!Tl(e,t))}var Ol=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=wh(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Mh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return this.control?this.control.hasError(n,t):!1}getError(n,t){return this.control?this.control.getError(n,t):null}},qi=class extends Ol{name;get formDirective(){return null}get path(){return null}},Zi=class extends Ol{_parent=null;name=null;valueAccessor=null},Al=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var Tn=(()=>{class e extends Al{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(w(Zi,2))};static \u0275dir=Ce({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Gr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[st]})}return e})(),XC=(()=>{class e extends Al{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(w(qi,10))};static \u0275dir=Ce({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Gr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[st]})}return e})();var Ms="VALID",xl="INVALID",Wi="PENDING",Is="DISABLED",br=class{},Pl=class extends br{value;source;constructor(n,t){super(),this.value=n,this.source=t}},xs=class extends br{pristine;source;constructor(n,t){super(),this.pristine=n,this.source=t}},Ts=class extends br{touched;source;constructor(n,t){super(),this.touched=n,this.source=t}},Gi=class extends br{status;source;constructor(n,t){super(),this.status=n,this.source=t}},bh=class extends br{source;constructor(n){super(),this.source=n}},Rl=class extends br{source;constructor(n){super(),this.source=n}};function e_(e){return(Fl(e)?e.validators:e)||null}function b1(e){return Array.isArray(e)?wh(e):e||null}function t_(e,n){return(Fl(n)?n.asyncValidators:e)||null}function D1(e){return Array.isArray(e)?Mh(e):e||null}function Fl(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function E1(e,n,t){let r=e.controls;if(!(n?Object.keys(r):r).length)throw new M(1e3,"");if(!r[t])throw new M(1001,"")}function w1(e,n,t){e._forEachChild((r,i)=>{if(t[i]===void 0)throw new M(1002,"")})}var Nl=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,t){this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return Le(this.statusReactive)}set status(n){Le(()=>this.statusReactive.set(n))}_status=gt(()=>this.statusReactive());statusReactive=L(void 0);get valid(){return this.status===Ms}get invalid(){return this.status===xl}get pending(){return this.status==Wi}get disabled(){return this.status===Is}get enabled(){return this.status!==Is}errors;get pristine(){return Le(this.pristineReactive)}set pristine(n){Le(()=>this.pristineReactive.set(n))}_pristine=gt(()=>this.pristineReactive());pristineReactive=L(!0);get dirty(){return!this.pristine}get touched(){return Le(this.touchedReactive)}set touched(n){Le(()=>this.touchedReactive.set(n))}_touched=gt(()=>this.touchedReactive());touchedReactive=L(!1);get untouched(){return!this.touched}_events=new Te;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(VC(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(VC(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(BC(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(BC(n,this._rawAsyncValidators))}hasValidator(n){return Tl(this._rawValidators,n)}hasAsyncValidator(n){return Tl(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let t=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(R(_({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new Ts(!0,r))}markAllAsDirty(n={}){this.markAsDirty({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(n))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),t&&n.emitEvent!==!1&&this._events.next(new Ts(!1,r))}markAsDirty(n={}){let t=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(R(_({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new xs(!1,r))}markAsPristine(n={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),t&&n.emitEvent!==!1&&this._events.next(new xs(!0,r))}markAsPending(n={}){this.status=Wi;let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Gi(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(R(_({},n),{sourceControl:t}))}disable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=Is,this.errors=null,this._forEachChild(i=>{i.disable(R(_({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Pl(this.value,r)),this._events.next(new Gi(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(R(_({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=Ms,this._forEachChild(r=>{r.enable(R(_({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(R(_({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ms||this.status===Wi)&&this._runAsyncValidator(r,n.emitEvent)}let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Pl(this.value,t)),this._events.next(new Gi(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(R(_({},n),{sourceControl:t}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Is:Ms}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=Wi,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:n!==!1};let r=YC(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(n){let t=n;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new Gi(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,r)}_initObservables(){this.valueChanges=new Me,this.statusChanges=new Me}_calculateStatus(){return this._allControlsDisabled()?Is:this.errors?xl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Wi)?Wi:this._anyControlsHaveStatus(xl)?xl:Ms}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),i&&this._events.next(new xs(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new Ts(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Fl(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let t=this._parent&&this._parent.dirty;return!n&&!!t&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=b1(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=D1(this._rawAsyncValidators)}},kl=class extends Nl{constructor(n,t,r){super(e_(t),t_(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){w1(this,!0,n),Object.keys(n).forEach(r=>{E1(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(Object.keys(n).forEach(r=>{let i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,R(_({},t),{onlySelf:!0}))}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Rl(this))}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&n(r))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(n,t){let r=n;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var Ll=new O("",{factory:()=>jl}),jl="always";function M1(e,n){return[...n.path,e]}function n_(e,n,t=jl){r_(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||t==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),S1(e,n),T1(e,n),x1(e,n),I1(e,n)}function UC(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function I1(e,n){if(n.valueAccessor.setDisabledState){let t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}function r_(e,n){let t=C1(e);n.validator!==null?e.setValidators(jC(t,n.validator)):typeof t=="function"&&e.setValidators([t]);let r=_1(e);n.asyncValidator!==null?e.setAsyncValidators(jC(r,n.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();UC(n._rawValidators,i),UC(n._rawAsyncValidators,i)}function S1(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&i_(e,n)})}function x1(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&i_(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function i_(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function T1(e,n){let t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}function O1(e,n){e==null,r_(e,n)}function A1(e,n){if(!e.hasOwnProperty("model"))return!1;let t=e.model;return t.isFirstChange()?!0:!Object.is(n,t.currentValue)}function P1(e){return Object.getPrototypeOf(e.constructor)===Yi}function R1(e,n){e._syncPendingControls(),n.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function N1(e,n){if(!n)return null;Array.isArray(n);let t,r,i;return n.forEach(o=>{o.constructor===$t?t=o:P1(o)?r=o:i=o}),i||r||t||null}var k1={provide:qi,useExisting:pt(()=>Ih)},Ss=Promise.resolve(),Ih=(()=>{class e extends qi{callSetDisabledState;get submitted(){return Le(this.submittedReactive)}_submitted=gt(()=>this.submittedReactive());submittedReactive=L(!1);_directives=new Set;form;ngSubmit=new Me;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new kl({},wh(t),Mh(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ss.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),n_(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ss.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ss.then(()=>{let r=this._findContainer(t.path),i=new kl({});O1(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ss.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ss.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),R1(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new bh(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||e)(w(Eh,10),w(qC,10),w(Ll,8))};static \u0275dir=Ce({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&U("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[nn([k1]),st]})}return e})();function HC(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function $C(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var F1=class extends Nl{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,t,r){super(e_(t),t_(r,t)),this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Fl(t)&&(t.nonNullable||t.initialValueIsDefault)&&($C(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),t.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Rl(this))}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){HC(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){HC(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){$C(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var L1={provide:Zi,useExisting:pt(()=>ln)},zC=Promise.resolve(),ln=(()=>{class e extends Zi{_changeDetectorRef;callSetDisabledState;control=new F1;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Me;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=N1(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),A1(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){n_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){zC.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Zr(r);zC.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?M1(t,this._parent):[t]}static \u0275fac=function(r){return new(r||e)(w(qi,9),w(Eh,10),w(qC,10),w(si,10),w(Gn,8),w(Ll,8))};static \u0275dir=Ce({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[nn([L1]),st,En]})}return e})();var o_=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ce({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})(),j1={provide:si,useExisting:pt(()=>Sh),multi:!0},Sh=(()=>{class e extends Yi{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ft(e)))(i||e)}})();static \u0275dir=Ce({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&U("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[nn([j1]),st]})}return e})(),V1={provide:si,useExisting:pt(()=>xh),multi:!0};var B1=(()=>{class e{_accessors=[];add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t){this._accessors.splice(r,1);return}}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return t[0].control?t[0]._parent===r._control._parent&&t[1].name===r.name:!1}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),xh=(()=>{class e extends Yi{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=v(Ll,{optional:!0})??jl;constructor(t,r,i,o){super(t,r),this._registry=i,this._injector=o}ngOnInit(){this._control=this._injector.get(Zi),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(r){return new(r||e)(w(Vt),w(et),w(B1),w(Je))};static \u0275dir=Ce({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&U("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[nn([V1]),st]})}return e})();var U1={provide:si,useExisting:pt(()=>Ki),multi:!0};function s_(e,n){return e==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function H1(e){return e.split(":")[0]}var Ki=(()=>{class e extends Yi{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=v(Wn).injector;destroyRef=v(kt);cdr=v(Gn);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Ho({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=s_(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=H1(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ft(e)))(i||e)}})();static \u0275dir=Ce({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&U("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[nn([U1]),st]})}return e})(),Vl=(()=>{class e{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(s_(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||e)(w(et),w(Vt),w(Ki,9))};static \u0275dir=Ce({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),$1={provide:si,useExisting:pt(()=>a_),multi:!0};function WC(e,n){return e==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function z1(e){return e.split(":")[0]}var a_=(()=>{class e extends Yi{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],d=this._getOptionValue(c.value);i.push(d)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let d=this._getOptionValue(c.value);i.push(d)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=z1(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ft(e)))(i||e)}})();static \u0275dir=Ce({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&U("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[nn([$1]),st]})}return e})(),Bl=(()=>{class e{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(WC(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(WC(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(w(et),w(Vt),w(a_,9))};static \u0275dir=Ce({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();function W1(e){return typeof e=="number"?e:parseFloat(e)}var G1=(()=>{class e{_validator=LC;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):LC,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ce({type:e,features:[En]})}return e})();var q1={provide:Eh,useExisting:pt(()=>Th),multi:!0},Th=(()=>{class e extends G1{min;inputName="min";normalizeInput=t=>W1(t);createValidator=t=>m1(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ft(e)))(i||e)}})();static \u0275dir=Ce({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&pr("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[nn([q1]),st]})}return e})();var Z1=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=tn({type:e});static \u0275inj=Ot({})}return e})();var On=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Ll,useValue:t.callSetDisabledState??jl}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=tn({type:e});static \u0275inj=Ot({imports:[Z1]})}return e})();var xe={production:!0,api:{baseUrl:"https://api.greenspoonfoods.com",orderApiMode:"http"},payment:{razorpayKeyId:"rzp_live_replace_with_your_key",businessName:"Green Spoon",upiId:"greenspoon@upi"}};var Ul=class e{razorpayKeyId=xe.payment.razorpayKeyId;upiId=xe.payment.upiId;businessName=xe.payment.businessName;async launchRazorpay(n){if(await this.ensureRazorpayLoaded(),!window.Razorpay)throw new Error("Razorpay SDK not available.");let t=window.Razorpay;return new Promise((r,i)=>{let o=new t({key:n.keyId,amount:Math.round(n.amountInRupees*100),currency:n.currency,order_id:n.providerOrderId,name:this.businessName,description:`Order ${n.orderReference}`,image:"videos/greenspoonlogo.jpeg",prefill:{name:n.customer.name,email:n.customer.email,contact:n.customer.contact},notes:{order_reference:n.orderReference},theme:{color:"#1f7a3f"},handler:s=>{if(!s.razorpay_payment_id||!s.razorpay_order_id||!s.razorpay_signature){i(new Error("Incomplete Razorpay payment response."));return}r({paymentId:s.razorpay_payment_id,providerOrderId:s.razorpay_order_id,signature:s.razorpay_signature})}});o.on("payment.failed",()=>{i(new Error("Razorpay payment failed or cancelled."))}),o.open()})}buildWhatsAppPaymentUrl(n,t,r,i){let o=this.normalizePhone(n),s=`upi://pay?pa=${this.upiId}&pn=${encodeURIComponent(this.businessName)}&am=${i.toFixed(2)}&cu=INR&tn=${encodeURIComponent(`Order ${r}`)}`,a=`Hi ${t||"there"}, your Green Spoon order ${r} is ready for payment.%0AAmount: INR ${i}%0APay on UPI: ${s}%0AAfter payment, share screenshot in this chat.`;return`https://wa.me/${o}?text=${a}`}buildWhatsAppConfirmationUrl(n,t,r){let i=this.normalizePhone(n),o=`Hi ${t||"there"}, your Green Spoon order ${r} has been received successfully.%0AOur kitchen team has started preparing it.`;return`https://wa.me/${i}?text=${o}`}buildConfirmationMessage(n,t,r){return`Hi ${n||"there"}, your Green Spoon order ${t} is received. Total paid: INR ${r}. Our kitchen has started preparation.`}async ensureRazorpayLoaded(){if(window.Razorpay)return;if(document.querySelector('script[data-razorpay-sdk="true"]')){await this.waitForRazorpay();return}await new Promise((t,r)=>{let i=document.createElement("script");i.src="https://checkout.razorpay.com/v1/checkout.js",i.async=!0,i.dataset.razorpaySdk="true",i.onload=()=>t(),i.onerror=()=>r(new Error("Failed to load Razorpay SDK.")),document.body.appendChild(i)}),await this.waitForRazorpay()}async waitForRazorpay(){let t=0;for(;!window.Razorpay&&t<20;)await new Promise(r=>setTimeout(r,100)),t+=1;if(!window.Razorpay)throw new Error("Razorpay SDK not initialized.")}normalizePhone(n){let t=n.replace(/\D/g,"");return t?t.length===10?`91${t}`:t:""}static \u0275fac=function(t){return new(t||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};var Oh=class e{storageKey="greenspoon-live-tracking-v1";timers=new Map;orders=this.readFromStorage();constructor(){this.resumeActiveTracking()}async createOrderTracking(n){let t=this.orders[n.orderId];if(t)return t.status!=="delivered"&&this.startTicker(t.orderId),t;let r=this.resolveDestination(n.city),i=this.resolveOrigin(n.city),o=this.buildRoute(i,r,14),s=Date.now(),a=this.pickAgent(),c=R(_({},n),{status:"assigned",agentName:a.name,agentPhone:a.phone,route:o,progressIndex:0,current:o[0],etaMinutes:(o.length-1)*4,createdAt:s,updatedAt:s,events:[{status:"assigned",label:this.statusLabel("assigned"),time:s}]});return this.orders[c.orderId]=c,this.persist(),this.startTicker(c.orderId),c}async getOrder(n){return this.orders[n]??null}async updateTrackingLocation(n,t){let r=this.orders[n];if(!r)return!1;let i=Date.now(),s=r.events[r.events.length-1]?.status===t.status?r.events:[...r.events,{status:t.status,label:this.statusLabel(t.status),time:i}],a={assigned:0,picked_up:2,on_the_way:7,nearby:11,delivered:13},c=Math.min(r.route.length-1,a[t.status]??r.progressIndex);return this.orders[n]=R(_({},r),{status:t.status,etaMinutes:t.etaMinutes,current:{lat:t.lat,lng:t.lng},progressIndex:c,updatedAt:i,events:s}),this.persist(),t.status==="delivered"?this.stopTicker(n):this.startTicker(n),!0}statusLabel(n){switch(n){case"assigned":return"Delivery agent assigned";case"picked_up":return"Order picked up from kitchen";case"on_the_way":return"Rider is on the way";case"nearby":return"Rider is near your location";case"delivered":return"Order delivered";default:return"Tracking update"}}startTicker(n){if(this.timers.has(n))return;let t=setInterval(()=>{this.advance(n)},8e3);this.timers.set(n,t)}stopTicker(n){let t=this.timers.get(n);t&&(clearInterval(t),this.timers.delete(n))}advance(n){let t=this.orders[n];if(!t){this.stopTicker(n);return}if(t.status==="delivered"){this.stopTicker(n);return}let r=Math.min(t.progressIndex+1,t.route.length-1),i=this.resolveStatus(r,t.route.length),o=Math.max(0,(t.route.length-1-r)*4),s=Date.now(),a=t.events[t.events.length-1]?.status===i?t.events:[...t.events,{status:i,label:this.statusLabel(i),time:s}];if(this.orders[n]=R(_({},t),{progressIndex:r,current:t.route[r],status:i,etaMinutes:o,updatedAt:s,events:a}),this.persist(),this.orders[n].status==="delivered"){this.stopTicker(n);return}r>=t.route.length-1&&i==="nearby"&&this.stopTicker(n)}resolveStatus(n,t){return n<=1?"picked_up":n>=Math.floor(t*.75)?"nearby":"on_the_way"}resolveDestination(n){let t={hyderabad:{lat:17.385,lng:78.4867},bengaluru:{lat:12.9716,lng:77.5946},bangalore:{lat:12.9716,lng:77.5946},chennai:{lat:13.0827,lng:80.2707},mumbai:{lat:19.076,lng:72.8777},delhi:{lat:28.6139,lng:77.209}},r=n.trim().toLowerCase(),i=t[r]??t.hyderabad;return{lat:i.lat+this.randomOffset(.018),lng:i.lng+this.randomOffset(.018)}}resolveOrigin(n){let t=this.resolveDestination(n);return{lat:t.lat+this.randomOffset(.03),lng:t.lng+this.randomOffset(.03)}}buildRoute(n,t,r){let i=[];for(let o=0;o<r;o+=1){let s=o/(r-1),a=Math.sin(s*Math.PI)*.004;i.push({lat:this.round(n.lat+(t.lat-n.lat)*s+a),lng:this.round(n.lng+(t.lng-n.lng)*s-a/2)})}return i}resumeActiveTracking(){let n=Object.values(this.orders);for(let t of n)t.status!=="delivered"&&this.startTicker(t.orderId)}pickAgent(){let n=[{name:"Ravi Kumar",phone:"+91 90000 10021"},{name:"Sneha Reddy",phone:"+91 90000 10022"},{name:"Arjun Patel",phone:"+91 90000 10023"},{name:"Aisha Khan",phone:"+91 90000 10024"}];return n[Math.floor(Math.random()*n.length)]}readFromStorage(){try{if(!this.canUseStorage())return{};let n=localStorage.getItem(this.storageKey);if(!n)return{};let t=JSON.parse(n);return t&&typeof t=="object"?t:{}}catch{return{}}}persist(){this.canUseStorage()&&localStorage.setItem(this.storageKey,JSON.stringify(this.orders))}canUseStorage(){return typeof window<"u"&&typeof localStorage<"u"}randomOffset(n){return(Math.random()*2-1)*n}round(n){return Math.round(n*1e6)/1e6}static \u0275fac=function(t){return new(t||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})},Ah=class e{constructor(n){this.http=n}baseUrl=xe.api.baseUrl;async createOrderTracking(n){let t=await this.getOrder(n.orderId);return t||this.toFallbackTracking(n)}async getOrder(n){try{let t=await he(this.http.get(`${this.baseUrl}/tracking/${n}`));return this.mapHttpTracking(t)}catch(t){if(this.isNotFound(t))return null;throw t}}async updateTrackingLocation(n,t){try{return!!(await he(this.http.post(`${this.baseUrl}/tracking/${n}/location`,t))).ok}catch(r){if(this.isNotFound(r))return!1;throw r}}mapHttpTracking(n){let t={assigned:1,picked_up:3,on_the_way:7,nearby:10,delivered:13},r=14,i=Math.min(r-1,t[n.status]??0),o=Array.from({length:r},()=>_({},n.current));return{orderId:n.orderId,customerName:"",customerPhone:"",addressLine:"",city:"",notes:"",total:0,paymentMode:"",status:n.status,agentName:n.agentName,agentPhone:n.agentPhone,route:o,progressIndex:i,current:n.current,etaMinutes:n.etaMinutes,createdAt:n.events[0]?.time??n.updatedAt,updatedAt:n.updatedAt,events:n.events}}toFallbackTracking(n){let t=Date.now();return R(_({},n),{status:"assigned",agentName:"Delivery agent",agentPhone:"Updating...",route:[{lat:0,lng:0}],progressIndex:0,current:{lat:0,lng:0},etaMinutes:0,createdAt:t,updatedAt:t,events:[{status:"assigned",label:"Tracking will start shortly",time:t}]})}isNotFound(n){return n instanceof _e&&n.status===404}static \u0275fac=function(t){return new(t||e)(T(Mn))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})},Dr=class e{constructor(n,t){this.local=n;this.remote=t;this.adapter=xe.api.orderApiMode==="http"?this.remote:this.local}adapter;pollers=new Map;createOrderTracking(n){return this.adapter.createOrderTracking(n)}getOrder(n){return this.adapter.getOrder(n)}updateTrackingLocation(n,t){return this.adapter.updateTrackingLocation(n,t)}watchOrder(n,t,r=8e3){let i=this.pollers.get(n);i&&(clearInterval(i),this.pollers.delete(n)),this.getOrder(n).then(s=>t(s));let o=setInterval(()=>{this.getOrder(n).then(s=>t(s))},r);return this.pollers.set(n,o),()=>{let s=this.pollers.get(n);s&&(clearInterval(s),this.pollers.delete(n))}}statusLabel(n){switch(n){case"assigned":return"Delivery agent assigned";case"picked_up":return"Order picked up from kitchen";case"on_the_way":return"Rider is on the way";case"nearby":return"Rider is near your location";case"delivered":return"Order delivered";default:return"Tracking update"}}progressPercent(n){let t=Math.max(1,n.route.length-1);return Math.round(n.progressIndex/t*100)}static \u0275fac=function(t){return new(t||e)(T(Oh),T(Ah))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};var Rh=class e{storageKey="greenspoon-orders-v1";paymentOrdersKey="greenspoon-payment-orders-v1";defaultTenantId="greenspoon-demo-tenant";customerOtpKey="greenspoon-customer-lookup-otp-v1";allowedTransitions={created:["confirmed","cancelled"],confirmed:["preparing","cancelled"],preparing:["out_for_delivery","cancelled"],out_for_delivery:[],delivered:[],cancelled:[]};async createOrder(n){let t=Date.now(),r=n.deliveryFeeMode??"prepaid",i=n.deliveryFeeSettlementStatus??this.defaultSettlementStatus(r),o=n.tenantId??this.defaultTenantId,s=R(_({},n),{tenantId:o,status:"confirmed",deliveryFeeMode:r,deliveryFeeSettlementStatus:i,createdAt:t,updatedAt:t}),a=this.readAll();return a[s.orderId]=s,this.persistAll(a),s}async getOrder(n){return this.readAll()[n]??null}async listOrders(){return Object.values(this.readAll()).sort((t,r)=>r.createdAt-t.createdAt)}async updateOrderStatus(n,t){let r=this.readAll(),i=r[n];if(!i)return null;if(!this.isValidTransition(i.status,t))throw new Error(`Invalid status transition: ${i.status} -> ${t}`);let o=R(_({},i),{status:t,updatedAt:Date.now()});return r[n]=o,this.persistAll(r),o}async createRazorpayOrder(n){let t=`order_${Date.now()}_${Math.floor(Math.random()*900+100)}`,r=this.readPaymentOrders();return r[t]=n,this.persistPaymentOrders(r),{provider:"razorpay",providerOrderId:t,amount:n.amount,currency:n.currency,keyId:xe.payment.razorpayKeyId}}async verifyRazorpayPayment(n){let r=this.readPaymentOrders()[n.providerOrderId];if(!r)return{verified:!1,paymentReference:n.paymentId,message:"Payment order not found."};let i=r.orderReference===n.orderReference,o=!!(n.paymentId&&n.signature),s=i&&o;return{verified:s,paymentReference:n.paymentId,message:s?"Payment verified in local mode.":"Payment verification failed."}}async queueWhatsAppConfirmation(n){return{queued:!0,channel:"whatsapp",providerMessageId:`local-${n.orderId}-${Date.now()}`}}async confirmDelivery(n,t){let r=this.readAll(),i=r[n];if(!i)return null;let o=i.deliveryConfirmation?.expectedOtp,s=!o||o===t.otpCode;if(!s)throw new Error("Invalid OTP. Delivery cannot be confirmed.");let a=Date.now(),c=i.deliveryFeeMode==="collect_at_drop"&&t.collectDeliveryFee,d=c?t.collectionAmount??0:0,p=c?"collected":i.deliveryFeeMode==="restaurant_settled"?"restaurant_settled":i.deliveryFeeMode==="collect_at_drop"?"pending_collection":"not_applicable",m=R(_({},i),{status:"delivered",updatedAt:a,deliveryFeeSettlementStatus:p,deliveryFeeCollection:c?{amountCollected:d,method:t.collectionMethod??"cash",collectedAt:a,collectedBy:t.confirmedBy,notes:t.collectionNotes||void 0}:i.deliveryFeeCollection,deliveryConfirmation:R(_({},i.deliveryConfirmation),{receivedOtp:t.otpCode,otpVerified:s,proofNote:t.proofNote||void 0,deliveredAt:a,confirmedBy:t.confirmedBy})});return r[n]=m,this.persistAll(r),m}async requestCustomerLookupOtp(n){let t=n.phone.replace(/\D/g,"");if(t.length<10)throw new Error("Enter a valid phone number.");let r=`otp-${Date.now()}-${Math.floor(Math.random()*900+100)}`,i=`${Math.floor(1e3+Math.random()*9e3)}`,o=Date.now()+300*1e3,s=this.readOtpStore();return s[r]={phone:t,debugOtp:i,expiresAt:o},this.persistOtpStore(s),{requestId:r,expiresAt:o,debugOtp:i}}async lookupCustomerOrdersByPhone(n){let t=n.phone.replace(/\D/g,""),r=this.readOtpStore(),i=r[n.requestId];if(!i||i.expiresAt<Date.now())throw new Error("OTP request expired. Please request a new OTP.");if(i.phone.slice(-10)!==t.slice(-10))throw new Error("Phone number does not match OTP request.");if(n.otpCode.trim()!==i.debugOtp)throw new Error("Invalid OTP.");return delete r[n.requestId],this.persistOtpStore(r),Object.values(this.readAll()).filter(o=>this.normalizePhone(o.customer.phone).endsWith(t.slice(-10))).sort((o,s)=>s.createdAt-o.createdAt)}readAll(){try{if(!this.canUseStorage())return{};let n=localStorage.getItem(this.storageKey);if(!n)return{};let t=JSON.parse(n);return t&&typeof t=="object"?t:{}}catch{return{}}}persistAll(n){this.canUseStorage()&&localStorage.setItem(this.storageKey,JSON.stringify(n))}canUseStorage(){return typeof window<"u"&&typeof localStorage<"u"}readPaymentOrders(){try{if(!this.canUseStorage())return{};let n=localStorage.getItem(this.paymentOrdersKey);if(!n)return{};let t=JSON.parse(n);return t&&typeof t=="object"?t:{}}catch{return{}}}persistPaymentOrders(n){this.canUseStorage()&&localStorage.setItem(this.paymentOrdersKey,JSON.stringify(n))}readOtpStore(){try{if(!this.canUseStorage())return{};let n=localStorage.getItem(this.customerOtpKey);if(!n)return{};let t=JSON.parse(n);return t&&typeof t=="object"?t:{}}catch{return{}}}persistOtpStore(n){this.canUseStorage()&&localStorage.setItem(this.customerOtpKey,JSON.stringify(n))}normalizePhone(n){return n.replace(/\D/g,"")}isValidTransition(n,t){return n===t?!0:this.allowedTransitions[n]?.includes(t)??!1}defaultSettlementStatus(n){switch(n){case"collect_at_drop":return"pending_collection";case"restaurant_settled":return"restaurant_settled";default:return"not_applicable"}}static \u0275fac=function(t){return new(t||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})},Nh=class e{constructor(n){this.http=n}baseUrl=xe.api.baseUrl;async createOrder(n){return he(this.http.post(`${this.baseUrl}/orders`,n))}async getOrder(n){try{return await he(this.http.get(`${this.baseUrl}/orders/${n}`))}catch(t){if(this.isNotFound(t))return null;throw t}}async listOrders(){return he(this.http.get(`${this.baseUrl}/orders`))}async updateOrderStatus(n,t){try{return await he(this.http.patch(`${this.baseUrl}/orders/${n}/status`,{status:t}))}catch(r){if(this.isNotFound(r))return null;throw r}}async createRazorpayOrder(n){return he(this.http.post(`${this.baseUrl}/payments/razorpay/order`,n))}async verifyRazorpayPayment(n){return he(this.http.post(`${this.baseUrl}/payments/razorpay/verify`,n))}async queueWhatsAppConfirmation(n){return he(this.http.post(`${this.baseUrl}/notifications/whatsapp/confirmation`,n))}async confirmDelivery(n,t){try{return await he(this.http.post(`${this.baseUrl}/orders/${n}/delivery-confirmation`,t))}catch(r){if(this.isNotFound(r))return null;throw r}}requestCustomerLookupOtp(n){return he(this.http.post(`${this.baseUrl}/orders/customer/request-otp`,n))}lookupCustomerOrdersByPhone(n){return he(this.http.post(`${this.baseUrl}/orders/customer/lookup`,n))}isNotFound(n){return n instanceof _e&&n.status===404}static \u0275fac=function(t){return new(t||e)(T(Mn))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})},An=class e{constructor(n,t){this.local=n;this.remote=t;this.adapter=xe.api.orderApiMode==="http"?this.remote:this.local}adapter;createOrder(n){return this.adapter.createOrder(n)}getOrder(n){return this.adapter.getOrder(n)}listOrders(){return this.adapter.listOrders()}updateOrderStatus(n,t){return this.adapter.updateOrderStatus(n,t)}createRazorpayOrder(n){return this.adapter.createRazorpayOrder(n)}verifyRazorpayPayment(n){return this.adapter.verifyRazorpayPayment(n)}queueWhatsAppConfirmation(n){return this.adapter.queueWhatsAppConfirmation(n)}confirmDelivery(n,t){return this.adapter.confirmDelivery(n,t)}requestCustomerLookupOtp(n){return this.adapter.requestCustomerLookupOtp(n)}lookupCustomerOrdersByPhone(n){return this.adapter.lookupCustomerOrdersByPhone(n)}static \u0275fac=function(t){return new(t||e)(T(Rh),T(Nh))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};var Ct=class e{storageKey="greenspoon-auth-v2";authApiPrefix=`${xe.api.baseUrl}/auth/`;sessionSignal=L(this.readSession());rawHttp;refreshInFlight=null;session=this.sessionSignal.asReadonly();users=[{userId:"u-platform-admin",email:"admin@greenspoon.com",password:"Admin@123",name:"Platform Admin",role:"platform_admin",tenantId:"greenspoon-platform"},{userId:"u-owner",email:"owner@greenspoon.com",password:"Owner@123",name:"Restaurant Owner",role:"restaurant_owner",tenantId:"greenspoon-demo-tenant"},{userId:"u-manager",email:"manager@greenspoon.com",password:"Manager@123",name:"Kitchen Manager",role:"manager",tenantId:"greenspoon-demo-tenant"},{userId:"u-dispatch",email:"dispatch@greenspoon.com",password:"Dispatch@123",name:"Dispatch Lead",role:"dispatch",tenantId:"greenspoon-demo-tenant"},{userId:"u-customer",email:"customer@greenspoon.com",password:"Customer@123",name:"Green Spoon Customer",role:"customer",tenantId:"greenspoon-demo-tenant"}];constructor(n){this.rawHttp=new Mn(n)}async login(n,t){return this.useRemoteAuth()?this.loginRemote(n,t):this.loginLocal(n,t)}async logout(){let n=this.sessionSignal();if(this.useRemoteAuth()&&n?.accessToken&&un(n.refreshToken))try{await he(this.rawHttp.post(`${xe.api.baseUrl}/auth/logout`,{refreshToken:n.refreshToken},{headers:{Authorization:`Bearer ${n.accessToken}`}}))}catch{}this.clearSession()}isAuthenticated(){return this.sessionSignal()!==null}hasAnyRole(n){let t=this.sessionSignal();return t?n.includes(t.role):!1}accessToken(){return this.sessionSignal()?.accessToken??""}shouldAttachToken(n){return!this.useRemoteAuth()||!n.startsWith(xe.api.baseUrl)?!1:!this.isAuthApiUrl(n)}async refreshAccessToken(){if(!this.useRemoteAuth())return!1;let n=this.sessionSignal();return un(n?.refreshToken)?this.refreshInFlight?this.refreshInFlight:(this.refreshInFlight=this.refreshRemote(n.refreshToken).finally(()=>{this.refreshInFlight=null}),this.refreshInFlight):(this.clearSession(),!1)}async loginRemote(n,t){try{let r=await he(this.rawHttp.post(`${xe.api.baseUrl}/auth/login`,{email:n.trim(),password:t})),i=R(_({},this.mapUser(r.user)),{loginAt:Date.now(),accessToken:r.accessToken,refreshToken:r.refreshToken,tokenType:r.tokenType??"Bearer",expiresIn:r.expiresIn??"",authMode:"http"});return this.setSession(i),{ok:!0}}catch(r){return{ok:!1,message:this.extractHttpErrorMessage(r,"Invalid email or password.")}}}loginLocal(n,t){let r=n.trim().toLowerCase(),i=this.users.find(s=>s.email.toLowerCase()===r);if(!i||i.password!==t)return{ok:!1,message:"Invalid email or password."};let o={userId:i.userId,email:i.email,name:i.name,role:i.role,tenantId:i.tenantId,loginAt:Date.now(),authMode:"local"};return this.setSession(o),{ok:!0}}async refreshRemote(n){try{let t=await he(this.rawHttp.post(`${xe.api.baseUrl}/auth/refresh`,{refreshToken:n})),r=this.sessionSignal(),i=R(_({},this.mapUser(t.user)),{loginAt:Date.now(),accessToken:t.accessToken,refreshToken:n,tokenType:t.tokenType??r?.tokenType??"Bearer",expiresIn:t.expiresIn??r?.expiresIn??"",authMode:"http"});return this.setSession(i),!0}catch{return this.clearSession(),!1}}useRemoteAuth(){return xe.api.orderApiMode==="http"}isAuthApiUrl(n){return n.startsWith(this.authApiPrefix)}setSession(n){this.sessionSignal.set(n),this.persistSession(n)}clearSession(){this.sessionSignal.set(null),this.canUseStorage()&&localStorage.removeItem(this.storageKey)}persistSession(n){this.canUseStorage()&&localStorage.setItem(this.storageKey,JSON.stringify(n))}readSession(){try{if(!this.canUseStorage())return null;let n=localStorage.getItem(this.storageKey);if(!n)return null;let t=JSON.parse(n),r=typeof t.loginAt=="number"?t.loginAt:NaN;return!un(t.userId)||!un(t.email)||!un(t.name)||!K1(t.role)||!un(t.tenantId)||!Number.isFinite(r)?null:{userId:t.userId,email:t.email,name:t.name,role:t.role,tenantId:t.tenantId,loginAt:r,accessToken:un(t.accessToken)?t.accessToken:void 0,refreshToken:un(t.refreshToken)?t.refreshToken:void 0,tokenType:un(t.tokenType)?t.tokenType:void 0,expiresIn:un(t.expiresIn)?t.expiresIn:void 0,authMode:t.authMode==="http"?"http":"local"}}catch{return null}}mapUser(n){return{userId:n.userId,email:n.email,name:n.name,role:n.role,tenantId:n.tenantId}}extractHttpErrorMessage(n,t){if(typeof n=="object"&&n!==null){let r=n;if(un(r.error?.message))return r.error.message}return t}canUseStorage(){return typeof window<"u"&&typeof localStorage<"u"}static \u0275fac=function(t){return new(t||e)(T(as))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};function un(e){return typeof e=="string"&&e.trim().length>0}function K1(e){return e==="platform_admin"||e==="restaurant_owner"||e==="manager"||e==="dispatch"||e==="kitchen"||e==="rider"||e==="customer"}var Q1=e=>["/track",e],J1=(e,n)=>n.id;function X1(e,n){if(e&1&&(f(0,"p"),l(1),u()),e&2){let t=C(2);h(),S("Delivery Due At Drop: INR ",t.confirmedDeliveryDue)}}function eT(e,n){if(e&1){let t=se();f(0,"section",3)(1,"h2"),l(2,"Order received successfully"),u(),f(3,"p"),l(4," Order "),f(5,"strong"),l(6),u(),l(7," confirmed via "),f(8,"strong"),l(9),u(),l(10,". "),u(),f(11,"article",6),ge(12,"img",7),f(13,"div")(14,"p",8),l(15,"ORDER RECEIVED"),u(),f(16,"h3"),l(17),u(),f(18,"p"),l(19),u(),f(20,"p"),l(21),u(),j(22,X1,2,1,"p"),f(23,"p"),l(24,"Delivery OTP: "),f(25,"strong"),l(26),u()(),f(27,"p"),l(28,"Thank you for ordering from Green Spoon."),u()()(),f(29,"p",9),l(30," Manually send the above confirmation card image/screenshot to customer on WhatsApp. "),u(),f(31,"div",10)(32,"button",11),U("click",function(){N(t);let i=C();return k(i.openCustomerWhatsAppConfirmation())}),l(33," Open Customer WhatsApp "),u(),f(34,"button",12),U("click",function(){N(t);let i=C();return k(i.copyConfirmationMessage())}),l(35," Copy Confirmation Message "),u(),f(36,"a",13),l(37,"Track Live Delivery"),u(),f(38,"a",14),l(39,"Order More"),u()()()}if(e&2){let t=C();h(6),I(t.confirmedOrderReference),h(3),I(t.confirmedPaymentMode),h(8),I(t.confirmedCustomerName),h(2),S("Ref: ",t.confirmedOrderReference),h(2),S("Paid Now: INR ",t.confirmedTotal),h(),V(t.confirmedDeliveryDue>0?22:-1),h(4),I(t.confirmedDeliveryOtp),h(10),$("routerLink",qr(8,Q1,t.trackedOrderId))}}function tT(e,n){e&1&&(f(0,"section",4)(1,"h2"),l(2,"No items to checkout"),u(),f(3,"p"),l(4,"Add items in your cart first."),u(),f(5,"a",14),l(6,"Go To Menu"),u()())}function nT(e,n){if(e&1&&(f(0,"div",23)(1,"span"),l(2),u(),f(3,"strong"),l(4),u()()),e&2){let t=n.$implicit;h(2),qe("",t.name," x ",t.quantity),h(2),S("INR ",t.price*t.quantity)}}function rT(e,n){if(e&1&&(f(0,"div",24)(1,"span"),l(2,"Pay At Drop"),u(),f(3,"strong"),l(4),u()()),e&2){let t=C(2);h(4),S("INR ",t.deliveryFeeDueAtDrop())}}function iT(e,n){if(e&1){let t=se();f(0,"button",34),U("click",function(){N(t);let i=C(2);return k(i.startPayment())}),l(1),u()}if(e&2){let t=C(2);$("disabled",t.isProcessing),h(),S(" ",t.isProcessing?"Processing...":"Pay With Razorpay"," ")}}function oT(e,n){if(e&1){let t=se();f(0,"button",12),U("click",function(){N(t);let i=C(3);return k(i.confirmWhatsAppPayment())}),l(1," Confirm Payment Received & Place Order "),u()}}function sT(e,n){if(e&1){let t=se();f(0,"button",34),U("click",function(){N(t);let i=C(2);return k(i.startPayment())}),l(1," Send WhatsApp Pay Request "),u(),j(2,oT,2,0,"button",35)}if(e&2){let t=C(2);$("disabled",t.isProcessing),h(2),V(t.paymentRequested?2:-1)}}function aT(e,n){if(e&1&&(f(0,"p",33),l(1),u()),e&2){let t=C(2);h(),I(t.statusMessage)}}function cT(e,n){if(e&1){let t=se();f(0,"section",5)(1,"form",15)(2,"h2"),l(3,"Delivery Address"),u(),f(4,"label"),l(5," Full Name "),f(6,"input",16),J("ngModelChange",function(i){N(t);let o=C();return ee(o.customerName,i)||(o.customerName=i),k(i)}),u()(),f(7,"label"),l(8," Phone Number "),f(9,"input",17),J("ngModelChange",function(i){N(t);let o=C();return ee(o.customerPhone,i)||(o.customerPhone=i),k(i)}),u()(),f(10,"label"),l(11," Email (optional) "),f(12,"input",18),J("ngModelChange",function(i){N(t);let o=C();return ee(o.customerEmail,i)||(o.customerEmail=i),k(i)}),u()(),f(13,"label"),l(14," Address Line "),f(15,"input",19),J("ngModelChange",function(i){N(t);let o=C();return ee(o.addressLine,i)||(o.addressLine=i),k(i)}),u()(),f(16,"label"),l(17," City "),f(18,"input",20),J("ngModelChange",function(i){N(t);let o=C();return ee(o.city,i)||(o.city=i),k(i)}),u()(),f(19,"label"),l(20," Notes "),f(21,"textarea",21),J("ngModelChange",function(i){N(t);let o=C();return ee(o.notes,i)||(o.notes=i),k(i)}),u()()(),f(22,"aside",22)(23,"h2"),l(24,"Bill Summary"),u(),Y(25,nT,5,3,"div",23,J1),f(27,"div",24)(28,"span"),l(29,"Subtotal"),u(),f(30,"strong"),l(31),u()(),f(32,"div",24)(33,"span"),l(34,"Delivery"),u(),f(35,"strong"),l(36),u()(),f(37,"div",24)(38,"span"),l(39,"Tax (5%)"),u(),f(40,"strong"),l(41),u()(),f(42,"div",24)(43,"span"),l(44,"Order Total"),u(),f(45,"strong"),l(46),u()(),f(47,"div",25)(48,"p"),l(49,"Delivery Fee Settlement"),u(),f(50,"label")(51,"input",26),J("ngModelChange",function(i){N(t);let o=C();return ee(o.deliveryFeeMode,i)||(o.deliveryFeeMode=i),k(i)}),u(),l(52," Customer prepays delivery fee "),u(),f(53,"label")(54,"input",27),J("ngModelChange",function(i){N(t);let o=C();return ee(o.deliveryFeeMode,i)||(o.deliveryFeeMode=i),k(i)}),u(),l(55," Customer pays delivery fee at location "),u(),f(56,"label")(57,"input",28),J("ngModelChange",function(i){N(t);let o=C();return ee(o.deliveryFeeMode,i)||(o.deliveryFeeMode=i),k(i)}),u(),l(58," Restaurant settles delivery fee directly "),u()(),f(59,"div",29)(60,"span"),l(61,"Pay Now"),u(),f(62,"strong"),l(63),u()(),j(64,rT,5,1,"div",24),f(65,"div",25)(66,"p"),l(67,"Payment Method"),u(),f(68,"label")(69,"input",30),J("ngModelChange",function(i){N(t);let o=C();return ee(o.paymentMethod,i)||(o.paymentMethod=i),k(i)}),u(),l(70," Razorpay "),u(),f(71,"label")(72,"input",31),J("ngModelChange",function(i){N(t);let o=C();return ee(o.paymentMethod,i)||(o.paymentMethod=i),k(i)}),u(),l(73," WhatsApp Pay (UPI via chat) "),u()(),j(74,iT,2,2,"button",32)(75,sT,3,2),j(76,aT,2,1,"p",33),u()()}if(e&2){let t=C();h(6),Q("ngModel",t.customerName),h(3),Q("ngModel",t.customerPhone),h(3),Q("ngModel",t.customerEmail),h(3),Q("ngModel",t.addressLine),h(3),Q("ngModel",t.city),h(3),Q("ngModel",t.notes),h(4),K(t.items()),h(6),S("INR ",t.subtotal()),h(5),S("INR ",t.deliveryFee()),h(5),S("INR ",t.tax()),h(5),S("INR ",t.total()),h(5),Q("ngModel",t.deliveryFeeMode),h(3),Q("ngModel",t.deliveryFeeMode),h(3),Q("ngModel",t.deliveryFeeMode),h(6),S("INR ",t.payableNow()),h(),V(t.deliveryFeeDueAtDrop()>0?64:-1),h(5),Q("ngModel",t.paymentMethod),h(3),Q("ngModel",t.paymentMethod),h(2),V(t.paymentMethod==="razorpay"?74:75),h(2),V(t.statusMessage?76:-1)}}var zl=class e{constructor(n,t,r,i,o){this.cart=n;this.payment=t;this.tracking=r;this.orderApi=i;this.auth=o}orderPlaced=!1;isProcessing=!1;paymentRequested=!1;paymentMethod="razorpay";deliveryFeeMode="prepaid";statusMessage="";customerName="";customerPhone="";customerEmail="";addressLine="";city="";notes="";confirmedCustomerName="";confirmedCustomerPhone="";confirmedOrderReference="";confirmedTotal=0;confirmedPaymentMode="";confirmedDeliveryDue=0;confirmedDeliveryOtp="";trackedOrderId="";pendingOrderReference="";items(){return this.cart.items()}subtotal(){return this.cart.subtotal()}deliveryFee(){return this.items().length>0?39:0}tax(){return Math.round(this.subtotal()*.05)}total(){return this.subtotal()+this.deliveryFee()+this.tax()}payableNow(){return this.deliveryFeeMode==="collect_at_drop"?this.subtotal()+this.tax():this.deliveryFeeMode==="restaurant_settled"?this.subtotal()+this.tax():this.total()}deliveryFeeDueAtDrop(){return this.deliveryFeeMode==="collect_at_drop"?this.deliveryFee():0}isFormValid(){return this.customerName.trim().length>1&&this.customerPhone.replace(/\D/g,"").length>=10&&this.addressLine.trim().length>3&&this.city.trim().length>1}async startPayment(){if(this.items().length!==0){if(!this.isFormValid()){this.statusMessage="Please complete name, phone, address, and city before payment.";return}if(this.statusMessage="",this.paymentMethod==="razorpay"){await this.payWithRazorpay();return}this.sendWhatsAppPaymentRequest()}}async payWithRazorpay(){if(this.payment.razorpayKeyId.includes("replace_with_your_key")){this.statusMessage="Add your Razorpay Key ID in payment service before using Razorpay.";return}this.isProcessing=!0;let n=this.generateOrderReference();try{let t=await this.orderApi.createRazorpayOrder({orderReference:n,amount:this.payableNow(),currency:"INR"}),r=await this.payment.launchRazorpay({keyId:t.keyId,amountInRupees:t.amount,currency:t.currency,providerOrderId:t.providerOrderId,customer:{name:this.customerName,contact:this.customerPhone,email:this.customerEmail},orderReference:n}),i=await this.orderApi.verifyRazorpayPayment({orderReference:n,providerOrderId:r.providerOrderId,paymentId:r.paymentId,signature:r.signature});if(!i.verified){this.statusMessage=i.message??"Payment verification failed.";return}await this.finalizeOrder(n,"razorpay",i.paymentReference)}catch(t){let r=t instanceof Error?t.message:"Payment failed.";this.statusMessage=r}finally{this.isProcessing=!1}}sendWhatsAppPaymentRequest(){this.pendingOrderReference=this.generateOrderReference();let n=this.payment.buildWhatsAppPaymentUrl(this.customerPhone,this.customerName,this.pendingOrderReference,this.payableNow());window.open(n,"_blank"),this.paymentRequested=!0,this.statusMessage="WhatsApp payment request opened. After receiving payment proof, click Confirm Order."}async confirmWhatsAppPayment(){this.paymentRequested&&await this.finalizeOrder(this.pendingOrderReference,"whatsapp",`manual-${this.pendingOrderReference}`)}openCustomerWhatsAppConfirmation(){let n=this.payment.buildWhatsAppConfirmationUrl(this.confirmedCustomerPhone,this.confirmedCustomerName,this.confirmedOrderReference);window.open(n,"_blank")}async copyConfirmationMessage(){let n=this.payment.buildConfirmationMessage(this.confirmedCustomerName,this.confirmedOrderReference,this.confirmedTotal);try{await navigator.clipboard.writeText(n),this.statusMessage="Confirmation message copied. Share it with the customer on WhatsApp."}catch{this.statusMessage=n}}async finalizeOrder(n,t,r){let i=this.items().map(y=>_({},y));if(i.length===0){this.statusMessage="Cart is empty. Please add items before placing order.";return}let o=this.subtotal(),s=this.deliveryFee(),a=this.tax(),c=o+s+a,d=this.payableNow(),p=this.deliveryFeeDueAtDrop(),m=this.generateDeliveryOtp();try{let y=await this.orderApi.createOrder({orderId:n,tenantId:this.resolveTenantId(),customer:{name:this.customerName,phone:this.customerPhone,email:this.customerEmail||void 0},address:{line1:this.addressLine,city:this.city,notes:this.notes||void 0},items:i,totals:{subtotal:o,deliveryFee:s,tax:a,grandTotal:c,payableNow:d,deliveryFeeDueAtDrop:p},paymentMethod:t,paymentReference:r,deliveryFeeMode:this.deliveryFeeMode,deliveryFeeSettlementStatus:this.deliveryFeeMode==="collect_at_drop"?"pending_collection":this.deliveryFeeMode==="restaurant_settled"?"restaurant_settled":"not_applicable",deliveryConfirmation:{expectedOtp:m,otpVerified:!1}});this.confirmedOrderReference=y.orderId,this.confirmedCustomerName=y.customer.name,this.confirmedCustomerPhone=y.customer.phone,this.confirmedTotal=y.totals.payableNow??y.totals.grandTotal,this.confirmedDeliveryDue=y.totals.deliveryFeeDueAtDrop??0,this.confirmedDeliveryOtp=y.deliveryConfirmation?.expectedOtp??m,this.confirmedPaymentMode=t==="razorpay"?"Razorpay":"WhatsApp Pay",this.trackedOrderId=y.orderId,await this.tracking.createOrderTracking({orderId:y.orderId,customerName:y.customer.name,customerPhone:y.customer.phone,addressLine:y.address.line1,city:y.address.city,notes:y.address.notes??"",total:y.totals.grandTotal,paymentMode:this.confirmedPaymentMode}),this.orderPlaced=!0,this.paymentRequested=!1,this.pendingOrderReference="",this.cart.clear()}catch{this.statusMessage="Order could not be saved. Please try again."}}generateOrderReference(){let n=Date.now().toString().slice(-6),t=Math.floor(Math.random()*900+100);return`GS-${n}-${t}`}generateDeliveryOtp(){return`${Math.floor(1e3+Math.random()*9e3)}`}resolveTenantId(){return this.auth.session()?.tenantId}static \u0275fac=function(t){return new(t||e)(w(Ht),w(Ul),w(Dr),w(An),w(Ct))};static \u0275cmp=re({type:e,selectors:[["app-checkout"]],decls:9,vars:1,consts:[[1,"checkout-shell"],[1,"checkout-head"],[1,"kicker"],[1,"success-box"],[1,"empty-box"],[1,"checkout-layout"],["aria-label","WhatsApp confirmation image card",1,"confirmation-card"],["src","videos/greenspoonlogo.jpeg","alt","Green Spoon order confirmation"],[1,"label"],[1,"manual-note"],[1,"success-actions"],["type","button",3,"click"],["type","button",1,"secondary",3,"click"],[3,"routerLink"],["routerLink","/menu"],["aria-label","Delivery details",1,"details-card"],["type","text","placeholder","Enter your name","name","customerName",3,"ngModelChange","ngModel"],["type","tel","placeholder","Enter your phone number","name","customerPhone",3,"ngModelChange","ngModel"],["type","email","placeholder","Enter your email","name","customerEmail",3,"ngModelChange","ngModel"],["type","text","placeholder","House / Street / Landmark","name","addressLine",3,"ngModelChange","ngModel"],["type","text","placeholder","City","name","city",3,"ngModelChange","ngModel"],["rows","3","placeholder","Any delivery instructions","name","notes",3,"ngModelChange","ngModel"],[1,"summary-card"],[1,"item-line"],[1,"line"],[1,"payment-methods"],["type","radio","name","deliveryFeeMode","value","prepaid",3,"ngModelChange","ngModel"],["type","radio","name","deliveryFeeMode","value","collect_at_drop",3,"ngModelChange","ngModel"],["type","radio","name","deliveryFeeMode","value","restaurant_settled",3,"ngModelChange","ngModel"],[1,"line","total"],["type","radio","name","paymentMethod","value","razorpay",3,"ngModelChange","ngModel"],["type","radio","name","paymentMethod","value","whatsapp",3,"ngModelChange","ngModel"],["type","button",3,"disabled"],[1,"status-note"],["type","button",3,"click","disabled"],["type","button",1,"secondary"]],template:function(t,r){t&1&&(f(0,"main",0)(1,"section",1)(2,"p",2),l(3,"Checkout"),u(),f(4,"h1"),l(5,"Confirm Delivery Details"),u()(),j(6,eT,40,10,"section",3)(7,tT,7,0,"section",4)(8,cT,77,19,"section",5),u()),t&2&&(h(6),V(r.orderPlaced?6:r.items().length===0?7:8))},dependencies:[Pe,On,o_,$t,xh,Tn,XC,ln,Ih,we],styles:["[_nghost-%COMP%]{display:block}.checkout-shell[_ngcontent-%COMP%]{width:min(1100px,100% - 2rem);margin-inline:auto;padding-top:2rem;padding-bottom:3rem;font-family:Fredoka,sans-serif}.kicker[_ngcontent-%COMP%]{margin:0;text-transform:uppercase;letter-spacing:2px;font-size:.75rem;font-weight:700;color:#1f7a3f}.checkout-head[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.45rem 0 0;color:#123e28}.success-box[_ngcontent-%COMP%], .empty-box[_ngcontent-%COMP%]{margin-top:1.2rem;border:1px solid rgba(18,62,40,.15);border-radius:18px;background:#fff;padding:1rem}.success-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .empty-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#123e28}.success-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .empty-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0 0;color:#4b6658}.success-box[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .empty-box[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:.8rem;display:inline-flex;text-decoration:none;border-radius:999px;padding:.55rem 1rem;background:linear-gradient(120deg,#1f7a3f,#84cd3c);color:#fff;font-weight:700}.confirmation-card[_ngcontent-%COMP%]{margin-top:.95rem;display:grid;grid-template-columns:180px 1fr;gap:.8rem;border:1px solid rgba(18,62,40,.18);border-radius:14px;padding:.7rem;background:linear-gradient(140deg,#f5fbf3,#fff)}.confirmation-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:130px;object-fit:cover;border-radius:10px}.confirmation-card[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin:0;color:#1f7a3f;font-size:.75rem;font-weight:700;letter-spacing:1px}.confirmation-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:.3rem 0 0;color:#123e28}.manual-note[_ngcontent-%COMP%]{font-size:.86rem}.success-actions[_ngcontent-%COMP%]{margin-top:.9rem;display:flex;gap:.55rem;flex-wrap:wrap}.success-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .success-actions[_ngcontent-%COMP%]   .secondary[_ngcontent-%COMP%], .success-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:0;border-radius:999px;font-family:inherit;font-weight:700;padding:.55rem .9rem;cursor:pointer}.success-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .success-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background:linear-gradient(120deg,#1f7a3f,#84cd3c);color:#fff}.success-actions[_ngcontent-%COMP%]   .secondary[_ngcontent-%COMP%]{background:#fff;color:#123e28;border:1px solid rgba(18,62,40,.2)}.checkout-layout[_ngcontent-%COMP%]{margin-top:1.2rem;display:grid;grid-template-columns:1.2fr .8fr;gap:1rem;align-items:start}.details-card[_ngcontent-%COMP%], .summary-card[_ngcontent-%COMP%]{border:1px solid rgba(18,62,40,.14);border-radius:18px;background:#fff;padding:.9rem}.details-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .summary-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#123e28;font-size:1.2rem}.details-card[_ngcontent-%COMP%]{display:grid;gap:.65rem}.details-card[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:grid;gap:.3rem;font-weight:600;color:#214835;font-size:.9rem}.details-card[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .details-card[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:1px solid rgba(18,62,40,.2);border-radius:12px;padding:.65rem .75rem;font:inherit;color:#123e28;background:#fbfefb}.details-card[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.item-line[_ngcontent-%COMP%]{margin-top:.7rem;display:flex;justify-content:space-between;gap:.7rem;color:#4b6658;font-size:.88rem}.line[_ngcontent-%COMP%]{margin-top:.6rem;display:flex;justify-content:space-between;color:#4b6658}.line.total[_ngcontent-%COMP%]{margin-top:.9rem;padding-top:.7rem;border-top:1px dashed rgba(18,62,40,.2);color:#123e28}.payment-methods[_ngcontent-%COMP%]{margin-top:.9rem;padding-top:.8rem;border-top:1px dashed rgba(18,62,40,.2);display:grid;gap:.45rem}.payment-methods[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#123e28;font-weight:700}.payment-methods[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.45rem;color:#4b6658;font-size:.9rem}.summary-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:.9rem;width:100%;border:0;border-radius:999px;background:linear-gradient(120deg,#1f7a3f,#84cd3c);color:#fff;font-family:inherit;font-weight:700;padding:.68rem 1rem;cursor:pointer}.summary-card[_ngcontent-%COMP%]   button.secondary[_ngcontent-%COMP%]{margin-top:.55rem;background:#fff;color:#123e28;border:1px solid rgba(18,62,40,.2)}.summary-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.status-note[_ngcontent-%COMP%]{margin-top:.65rem;font-size:.85rem;color:#1f7a3f}@media(max-width:900px){.checkout-layout[_ngcontent-%COMP%], .confirmation-card[_ngcontent-%COMP%]{grid-template-columns:1fr}.confirmation-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:180px}}@media(max-width:680px){.checkout-shell[_ngcontent-%COMP%]{width:min(1100px,100% - 1rem)}}"]})};var lT=(e,n)=>n.year,uT=(e,n)=>n.title;function dT(e,n){if(e&1&&(x(0,"article")(1,"span"),l(2),E(),x(3,"p"),l(4),E()()),e&2){let t=n.$implicit;h(2),I(t.year),h(2),I(t.detail)}}function fT(e,n){if(e&1&&(x(0,"article")(1,"h3"),l(2),E(),x(3,"p"),l(4),E()()),e&2){let t=n.$implicit;h(2),I(t.title),h(2),I(t.detail)}}var Wl=class e{principles=[{title:"Fresh-First Sourcing",detail:"Ingredients are procured daily from trusted local vendors."},{title:"Nutrition-Led Recipes",detail:"Every bowl is portioned for balanced energy and protein."},{title:"Cloud Kitchen Precision",detail:"Fast prep and clean packaging keep quality consistent."}];milestones=[{year:"2024",detail:"Green Spoon started as a micro kitchen with a sprouts-first menu."},{year:"2025",detail:"Expanded into salads, better water, and recurring meal subscriptions."},{year:"2026",detail:"Built a scalable cloud-kitchen model for city-wide operations."}];static \u0275fac=function(t){return new(t||e)};static \u0275cmp=re({type:e,selectors:[["app-about"]],decls:39,vars:0,consts:[[1,"about-shell"],[1,"about-hero"],["src","videos/greenspoonlogo.jpeg","alt","Green Spoon brand mark"],[1,"kicker"],[1,"story-block"],[1,"section-head"],[1,"timeline"],[1,"principles-block"],[1,"principles-grid"],[1,"ops-block"],["src","images/franchise.png","alt","Green Spoon cloud kitchen model"]],template:function(t,r){t&1&&(x(0,"main",0)(1,"section",1),mt(2,"img",2),x(3,"div")(4,"p",3),l(5,"About Green Spoon"),E(),x(6,"h1"),l(7,"We Built a Cloud Kitchen to Make Healthy Eating Practical"),E(),x(8,"p"),l(9," Green Spoon combines chef workflows, fresh ingredients, and reliable delivery operations to make better food part of your everyday routine. "),E()()(),x(10,"section",4)(11,"div",5)(12,"p",3),l(13,"Our Story"),E(),x(14,"h2"),l(15,"From Daily Sprouts to Full Lifestyle Meals"),E()(),x(16,"p"),l(17," What started as a simple idea around clean sprouts quickly grew into a full-stack cloud kitchen. Today, we produce balanced salads, hydration options, and customizable meal subscriptions for professionals, families, and fitness-focused customers. "),E(),x(18,"div",6),Y(19,dT,5,2,"article",null,lT),E()(),x(21,"section",7)(22,"div",5)(23,"p",3),l(24,"Kitchen DNA"),E(),x(25,"h2"),l(26,"How We Maintain Quality Every Day"),E()(),x(27,"div",8),Y(28,fT,5,2,"article",null,uT),E()(),x(30,"section",9),mt(31,"img",10),x(32,"div")(33,"p",3),l(34,"Operating Model"),E(),x(35,"h2"),l(36,"Designed for Consistency, Ready for Scale"),E(),x(37,"p"),l(38," With centralized prep systems, transparent sourcing, and delivery-friendly packaging, Green Spoon is built to serve cities efficiently while preserving food quality. "),E()()()()),t&2&&(h(19),K(r.milestones),h(9),K(r.principles))},styles:["[_nghost-%COMP%]{display:block}.about-shell[_ngcontent-%COMP%]{width:min(1100px,100% - 2.2rem);margin-inline:auto;padding-top:2rem;padding-bottom:3rem;font-family:Fredoka,sans-serif}.kicker[_ngcontent-%COMP%]{margin:0;text-transform:uppercase;letter-spacing:2px;font-size:.75rem;font-weight:700;color:#1f7a3f}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin:0;color:#103623}p[_ngcontent-%COMP%]{margin:0;color:#476356;line-height:1.65}.about-hero[_ngcontent-%COMP%], .ops-block[_ngcontent-%COMP%]{display:grid;grid-template-columns:.9fr 1.1fr;gap:1rem;align-items:start;background:#fff;border:1px solid rgba(16,70,38,.11);border-radius:24px;padding:1rem}.about-hero[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .ops-block[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:grid;gap:.75rem;align-content:start}.about-hero[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .ops-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:290px;object-fit:cover;border-radius:16px}.about-hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(1.55rem,3.4vw,2.35rem);line-height:1.2}.story-block[_ngcontent-%COMP%], .principles-block[_ngcontent-%COMP%], .ops-block[_ngcontent-%COMP%]{margin-top:2.5rem}.section-head[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:.42rem;font-size:clamp(1.45rem,3.4vw,2.2rem)}.story-block[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin-top:.8rem}.timeline[_ngcontent-%COMP%]{margin-top:1rem;display:grid;gap:.8rem}.timeline[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{background:linear-gradient(140deg,#fff,#edf8eb);border:1px solid rgba(16,70,38,.13);border-radius:16px;padding:.75rem}.timeline[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#1f7a3f;font-weight:700}.timeline[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:.3rem}.principles-grid[_ngcontent-%COMP%]{margin-top:1rem;display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:.8rem}.principles-grid[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{background:#fff;border:1px solid rgba(16,70,38,.12);border-radius:16px;padding:.8rem}.principles-grid[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.principles-grid[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:.35rem;font-size:.9rem}.ops-block[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:clamp(1.3rem,2.7vw,1.85rem);line-height:1.22}@media(max-width:1100px){.about-hero[_ngcontent-%COMP%], .ops-block[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media(max-width:900px){.principles-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}}@media(max-width:700px){.about-shell[_ngcontent-%COMP%]{width:min(1100px,100% - 1.1rem)}.about-hero[_ngcontent-%COMP%], .ops-block[_ngcontent-%COMP%]{border-radius:18px}.about-hero[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .ops-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:220px}.principles-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};var pT=(e,n)=>n.title;function hT(e,n){if(e&1&&(x(0,"article")(1,"h4"),l(2),E(),x(3,"p"),l(4),E()()),e&2){let t=n.$implicit;h(2),I(t.title),h(2),I(t.detail)}}function mT(e,n){if(e&1&&(x(0,"span"),l(1),E()),e&2){let t=n.$implicit;h(),I(t)}}var Gl=class e{channels=[{title:"Customer Support",detail:"+91 90000 11122 | support@greenspoonfoods.com"},{title:"Subscriptions Desk",detail:"+91 90000 33344 | plans@greenspoonfoods.com"},{title:"Franchise Enquiries",detail:"+91 90000 55566 | franchise@greenspoonfoods.com"}];serviceCities=["Hyderabad","Bengaluru","Chennai","Mumbai","Delhi"];static \u0275fac=function(t){return new(t||e)};static \u0275cmp=re({type:e,selectors:[["app-contact"]],decls:52,vars:0,consts:[[1,"contact-shell"],[1,"contact-hero"],[1,"kicker"],["src","images/food3.png","alt","Green Spoon infused water"],[1,"contact-grid"],["aria-label","Contact form",1,"contact-form"],["type","text","placeholder","Enter your name"],["type","tel","placeholder","Enter your phone number"],["type","email","placeholder","Enter your email"],["rows","4","placeholder","Tell us your requirement"],["type","button"],[1,"contact-side"],[1,"channel-list"],[1,"city-card"],["src","images/food5.png","alt","Green Spoon app preview"]],template:function(t,r){t&1&&(x(0,"main",0)(1,"section",1)(2,"div")(3,"p",2),l(4,"Contact Green Spoon"),E(),x(5,"h1"),l(6,"Tell Us What You Need, We\u2019ll Build the Right Plan"),E(),x(7,"p"),l(8," Reach us for meal subscriptions, catering, franchise opportunities, or support for your existing orders. "),E()(),mt(9,"img",3),E(),x(10,"section",4)(11,"form",5)(12,"h2"),l(13,"Send an Enquiry"),E(),x(14,"label"),l(15," Full Name "),mt(16,"input",6),E(),x(17,"label"),l(18," Phone Number "),mt(19,"input",7),E(),x(20,"label"),l(21," Email "),mt(22,"input",8),E(),x(23,"label"),l(24," I am interested in "),x(25,"select")(26,"option"),l(27,"Meal Subscription"),E(),x(28,"option"),l(29,"One-time Order Support"),E(),x(30,"option"),l(31,"Corporate Meals"),E(),x(32,"option"),l(33,"Franchise Opportunity"),E()()(),x(34,"label"),l(35," Message "),mt(36,"textarea",9),E(),x(37,"button",10),l(38,"Submit Enquiry"),E()(),x(39,"aside",11)(40,"div",12)(41,"h3"),l(42,"Reach Us Directly"),E(),Y(43,hT,5,2,"article",null,pT),E(),x(45,"div",13)(46,"h3"),l(47,"Service Cities"),E(),x(48,"div"),Y(49,mT,2,1,"span",null,at),E()(),mt(51,"img",14),E()()()),t&2&&(h(43),K(r.channels),h(6),K(r.serviceCities))},styles:["[_nghost-%COMP%]{display:block}.contact-shell[_ngcontent-%COMP%]{width:min(1100px,100% - 2.2rem);margin-inline:auto;padding-top:2rem;padding-bottom:3rem;font-family:Fredoka,sans-serif}.kicker[_ngcontent-%COMP%]{margin:0;text-transform:uppercase;letter-spacing:2px;font-size:.75rem;font-weight:700;color:#1f7a3f}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin:0;color:#103623}p[_ngcontent-%COMP%]{margin:0;color:#476356;line-height:1.62}.contact-hero[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.15fr .85fr;gap:1rem;align-items:start;background:linear-gradient(120deg,#84cd3c33,#1f7a3f14);border:1px solid rgba(16,70,38,.12);border-radius:24px;padding:1.1rem}.contact-hero[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:grid;gap:.75rem;align-content:start}.contact-hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(1.55rem,3.4vw,2.3rem);line-height:1.2}.contact-hero[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:0;max-width:620px}.contact-hero[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:290px;object-fit:cover;border-radius:16px}.contact-grid[_ngcontent-%COMP%]{margin-top:2.4rem;display:grid;grid-template-columns:1fr .95fr;gap:1rem}.contact-form[_ngcontent-%COMP%]{background:#fff;border:1px solid rgba(16,70,38,.12);border-radius:20px;padding:1rem;display:grid;gap:.7rem}.contact-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem}.contact-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:grid;gap:.35rem;color:#18462f;font-size:.9rem;font-weight:600}.contact-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .contact-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .contact-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:1px solid rgba(16,70,38,.2);border-radius:12px;padding:.65rem .75rem;font:inherit;color:#113c28;background:#fbfefb}.contact-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.contact-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:.2rem;border:0;border-radius:999px;background:linear-gradient(120deg,#1f7a3f,#84cd3c);color:#fff;padding:.7rem 1rem;font-family:inherit;font-weight:700;cursor:pointer}.contact-side[_ngcontent-%COMP%]{display:grid;gap:.85rem}.channel-list[_ngcontent-%COMP%], .city-card[_ngcontent-%COMP%]{background:#fff;border:1px solid rgba(16,70,38,.12);border-radius:20px;padding:.9rem}.channel-list[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{margin-top:.65rem;border-top:1px dashed rgba(16,70,38,.14);padding-top:.65rem}.channel-list[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]:first-of-type{border-top:0;padding-top:0;margin-top:.5rem}.channel-list[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.92rem}.channel-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:.25rem;font-size:.84rem}.city-card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-top:.55rem;display:flex;gap:.4rem;flex-wrap:wrap}.city-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#84cd3c33;color:#18462f;border-radius:999px;padding:.28rem .62rem;font-size:.8rem}.contact-side[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:220px;border-radius:20px;object-fit:cover;border:1px solid rgba(16,70,38,.12)}@media(max-width:1100px){.contact-hero[_ngcontent-%COMP%], .contact-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media(max-width:700px){.contact-shell[_ngcontent-%COMP%]{width:min(1100px,100% - 1.1rem)}.contact-hero[_ngcontent-%COMP%], .contact-form[_ngcontent-%COMP%], .channel-list[_ngcontent-%COMP%], .city-card[_ngcontent-%COMP%], .contact-side[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:16px}.contact-hero[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:220px}}"]})};var gT=(e,n)=>n.time;function yT(e,n){e&1&&(f(0,"section",3)(1,"h2"),l(2,"Loading tracking..."),u(),f(3,"p"),l(4,"Please wait while we fetch your latest rider status."),u()())}function vT(e,n){e&1&&(f(0,"section",3)(1,"h2"),l(2,"Tracking not available"),u(),f(3,"p"),l(4,"We could not find this order tracking link."),u(),f(5,"a",5),l(6,"Go To Menu"),u()())}function CT(e,n){e&1&&(f(0,"strong"),l(1,"Delivered"),u())}function _T(e,n){if(e&1&&(f(0,"strong"),l(1),u()),e&2){let t=C(2);h(),S("",t.order().etaMinutes," mins")}}function bT(e,n){if(e&1&&ge(0,"iframe",15),e&2){let t=C(2);$("src",t.mapUrl(),fc)}}function DT(e,n){if(e&1&&(f(0,"div",17),ge(1,"span",18),f(2,"div")(3,"p"),l(4),u(),f(5,"small"),l(6),Ze(7,"date"),u()()()),e&2){let t=n.$implicit;h(4),I(t.label),h(2),I(Ye(7,2,t.time,"shortTime"))}}function ET(e,n){if(e&1&&(f(0,"section",4)(1,"article",6)(2,"p",7),l(3),u(),f(4,"h2"),l(5),u(),f(6,"p",8),l(7," ETA: "),j(8,CT,2,0,"strong")(9,_T,2,1,"strong"),u(),f(10,"div",9)(11,"div",10),ge(12,"div",11),u(),f(13,"span"),l(14),u()(),f(15,"div",12)(16,"h3"),l(17,"Delivery Agent"),u(),f(18,"p"),l(19),u(),f(20,"p"),l(21),u()(),f(22,"div",13)(23,"h3"),l(24,"Current Location"),u(),f(25,"p"),l(26),u(),f(27,"p"),l(28),u(),f(29,"p"),l(30),Ze(31,"date"),u()()(),f(32,"article",14)(33,"h3"),l(34,"Live Rider Map"),u(),j(35,bT,1,1,"iframe",15),f(36,"div",16)(37,"h3"),l(38,"Tracking Timeline"),u(),Y(39,DT,8,5,"div",17,gT),u()()()),e&2){let t=C();h(3),S("Order ",t.order().orderId),h(2),I(t.statusLabel(t.order())),h(3),V(t.order().status==="delivered"?8:9),h(4),Mc("width",t.progress(t.order()),"%"),h(2),S("",t.progress(t.order()),"%"),h(5),I(t.order().agentName),h(2),I(t.order().agentPhone),h(5),S("Lat: ",t.order().current.lat),h(2),S("Lng: ",t.order().current.lng),h(2),S("Last updated: ",Ye(31,12,t.order().updatedAt,"mediumTime")),h(5),V(t.mapUrl()?35:-1),h(4),K(t.order().events)}}var ql=class e{constructor(n,t,r){this.route=n;this.tracking=t;this.sanitizer=r;let i=this.route.snapshot.paramMap.get("orderId")??"";this.orderId.set(i),this.loadOrder(i),this.route.paramMap.subscribe(o=>{let s=o.get("orderId")??"";this.orderId.set(s),this.loadOrder(s)})}orderId=L("");order=L(null);loading=L(!0);stopWatch=null;mapUrl=gt(()=>{let n=this.order();if(!n)return null;let t=`https://maps.google.com/maps?q=${n.current.lat},${n.current.lng}&z=15&output=embed`;return this.sanitizer.bypassSecurityTrustResourceUrl(t)});progress(n){return this.tracking.progressPercent(n)}statusLabel(n){return this.tracking.statusLabel(n.status)}ngOnDestroy(){this.stopWatch&&(this.stopWatch(),this.stopWatch=null)}async loadOrder(n){if(this.stopWatch&&(this.stopWatch(),this.stopWatch=null),!n){this.order.set(null),this.loading.set(!1);return}this.loading.set(!0);try{let t=await this.tracking.getOrder(n);this.order.set(t),this.stopWatch=this.tracking.watchOrder(n,r=>{this.order.set(r)})}catch{this.order.set(null)}finally{this.loading.set(!1)}}static \u0275fac=function(t){return new(t||e)(w(vt),w(Dr),w($p))};static \u0275cmp=re({type:e,selectors:[["app-tracking"]],decls:9,vars:1,consts:[[1,"tracking-shell"],[1,"tracking-head"],[1,"kicker"],[1,"missing-order"],[1,"tracking-grid"],["routerLink","/menu"],[1,"tracking-card"],[1,"order-id"],[1,"eta"],["aria-label","Delivery progress",1,"progress-wrap"],[1,"progress-track"],[1,"progress-fill"],[1,"agent-card"],[1,"location-card"],[1,"map-card"],["title","Delivery map","loading","lazy","referrerpolicy","no-referrer-when-downgrade",3,"src"],[1,"timeline"],[1,"timeline-row"],[1,"dot"]],template:function(t,r){t&1&&(f(0,"main",0)(1,"section",1)(2,"p",2),l(3,"Live Tracking"),u(),f(4,"h1"),l(5,"Track Your Delivery Agent In Real Time"),u()(),j(6,yT,5,0,"section",3)(7,vT,7,0,"section",3)(8,ET,41,15,"section",4),u()),t&2&&(h(6),V(r.loading()?6:r.order()?8:7))},dependencies:[Pe,we,wt],styles:["[_nghost-%COMP%]{display:block}.tracking-shell[_ngcontent-%COMP%]{width:min(1120px,100% - 2rem);margin-inline:auto;padding-top:2rem;padding-bottom:3rem;font-family:Fredoka,sans-serif}.kicker[_ngcontent-%COMP%]{margin:0;text-transform:uppercase;letter-spacing:2px;font-size:.75rem;font-weight:700;color:#1f7a3f}.tracking-head[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.45rem 0 0;color:#123e28}.missing-order[_ngcontent-%COMP%]{margin-top:1.2rem;border:1px solid rgba(18,62,40,.14);border-radius:18px;background:#fff;padding:1rem}.missing-order[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#123e28}.missing-order[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0 0;color:#4b6658}.missing-order[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:.75rem;display:inline-flex;text-decoration:none;border-radius:999px;padding:.55rem 1rem;background:linear-gradient(120deg,#1f7a3f,#84cd3c);color:#fff;font-weight:700}.tracking-grid[_ngcontent-%COMP%]{margin-top:1.2rem;display:grid;grid-template-columns:.95fr 1.05fr;gap:1rem;align-items:start}.tracking-card[_ngcontent-%COMP%], .map-card[_ngcontent-%COMP%]{border:1px solid rgba(18,62,40,.14);border-radius:18px;background:#fff;padding:.95rem}.order-id[_ngcontent-%COMP%]{margin:0;color:#1f7a3f;font-size:.82rem;font-weight:700}.tracking-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:.35rem 0 0;color:#123e28;font-size:1.25rem}.eta[_ngcontent-%COMP%]{margin:.5rem 0 0;color:#4b6658}.eta[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#123e28}.progress-wrap[_ngcontent-%COMP%]{margin-top:.8rem;display:grid;gap:.3rem}.progress-track[_ngcontent-%COMP%]{width:100%;height:10px;border-radius:999px;overflow:hidden;background:#eaf5e8}.progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(120deg,#1f7a3f,#84cd3c);transition:width .4s ease}.progress-wrap[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#1f7a3f;font-weight:700;font-size:.85rem}.agent-card[_ngcontent-%COMP%], .location-card[_ngcontent-%COMP%]{margin-top:.8rem;border:1px dashed rgba(18,62,40,.2);border-radius:14px;padding:.7rem}.agent-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .location-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .map-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .timeline[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#123e28;font-size:1rem}.agent-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .location-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.35rem 0 0;color:#4b6658;font-size:.9rem}.map-card[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;margin-top:.7rem;height:300px;border:0;border-radius:14px}.timeline[_ngcontent-%COMP%]{margin-top:.9rem;border-top:1px dashed rgba(18,62,40,.2);padding-top:.8rem}.timeline-row[_ngcontent-%COMP%]{margin-top:.55rem;display:grid;grid-template-columns:14px 1fr;gap:.55rem}.timeline-row[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;margin-top:.35rem;background:#1f7a3f}.timeline-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#123e28;font-size:.9rem}.timeline-row[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#5b7468}@media(max-width:920px){.tracking-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media(max-width:680px){.tracking-shell[_ngcontent-%COMP%]{width:min(1120px,100% - 1rem)}.map-card[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{height:240px}}"]})};var wT=(e,n)=>n.id+"-"+n.quantity;function MT(e,n){if(e&1){let t=se();x(0,"button",10),Oi("click",function(){let i=N(t).$implicit,o=C();return k(o.setFilter(i))}),l(1),x(2,"span"),l(3),E()()}if(e&2){let t=n.$implicit,r=C();Gr("active",r.filter()===t),pr("aria-selected",r.filter()===t),h(),S(" ",r.statusLabel(t)," "),h(2),I(r.statusCounters()[t])}}function IT(e,n){if(e&1&&(x(0,"section",7),l(1),E()),e&2){let t=C();h(),S(" ",t.errorMessage()," ")}}function ST(e,n){e&1&&(x(0,"section",8),l(1,"Loading orders..."),E())}function xT(e,n){e&1&&(x(0,"section",8),l(1,"No orders available for this status."),E())}function TT(e,n){if(e&1&&(x(0,"div",17),mt(1,"img",20),x(2,"div")(3,"p"),l(4),E(),x(5,"small"),l(6),E()()()),e&2){let t=n.$implicit;h(),Wo("src",t.image,jt)("alt",t.name),h(3),I(t.name),h(2),qe("",t.quantity," x INR ",t.price)}}function OT(e,n){e&1&&(x(0,"p",19),l(1,"No further actions."),E())}function AT(e,n){if(e&1){let t=se();x(0,"button",22),Oi("click",function(){let i=N(t).$implicit,o=C(2).$implicit,s=C(2);return k(s.updateStatus(o,i))}),l(1),E()}if(e&2){let t=n.$implicit,r=C(2).$implicit,i=C(2);Wo("disabled",!i.canUpdate(r,t)),h(),S(" Move to ",i.statusLabel(t)," ")}}function PT(e,n){if(e&1&&Y(0,AT,2,2,"button",21,at),e&2){let t=C().$implicit,r=C(2);K(r.nextStatuses(t))}}function RT(e,n){if(e&1&&(x(0,"article",11)(1,"div",12)(2,"div")(3,"p",13),l(4),E(),x(5,"h2"),l(6),E()(),x(7,"span",14),l(8),E()(),x(9,"div",15)(10,"p")(11,"strong"),l(12,"Phone:"),E(),l(13),E(),x(14,"p")(15,"strong"),l(16,"City:"),E(),l(17),E(),x(18,"p")(19,"strong"),l(20,"Payment:"),E(),l(21),E(),x(22,"p")(23,"strong"),l(24,"Total:"),E(),l(25),E(),x(26,"p")(27,"strong"),l(28,"Pay Now:"),E(),l(29),E(),x(30,"p")(31,"strong"),l(32,"Fee Mode:"),E(),l(33),E(),x(34,"p")(35,"strong"),l(36,"Settlement:"),E(),l(37),E(),x(38,"p")(39,"strong"),l(40,"Placed:"),E(),l(41),Ze(42,"date"),E(),x(43,"p")(44,"strong"),l(45,"Updated:"),E(),l(46),Ze(47,"date"),E()(),x(48,"div",16),Y(49,TT,7,5,"div",17,wT),E(),x(51,"div",18),j(52,OT,2,0,"p",19)(53,PT,2,0),E()()),e&2){let t=n.$implicit,r=C(2);h(4),S("Order ",t.orderId),h(2),I(t.customer.name),h(),mp("status-chip "+t.status),h(),S(" ",r.statusLabel(t.status)," "),h(5),S(" ",t.customer.phone),h(4),S(" ",t.address.city),h(4),S(" ",r.paymentLabel(t.paymentMethod)),h(4),S(" INR ",t.totals.grandTotal),h(4),S(" INR ",t.totals.payableNow??t.totals.grandTotal),h(4),S(" ",t.deliveryFeeMode||"prepaid"),h(4),S(" ",t.deliveryFeeSettlementStatus||"not_applicable"),h(4),S(" ",Ye(42,15,t.createdAt,"medium")),h(5),S(" ",Ye(47,18,t.updatedAt,"mediumTime")),h(3),K(t.items),h(3),V(r.nextStatuses(t).length===0?52:53)}}function NT(e,n){if(e&1&&(x(0,"section",9),Y(1,RT,54,21,"article",11,dp().trackOrder,!0),E()),e&2){let t=C();h(),K(t.filteredOrders())}}var Zl=class e{constructor(n){this.orderApi=n}statusFilters=["all","created","confirmed","preparing","out_for_delivery","delivered","cancelled"];loading=L(!0);errorMessage=L("");filter=L("all");orders=L([]);activeUpdateKey=L("");filteredOrders=gt(()=>{let n=this.filter(),t=this.orders();return n==="all"?t:t.filter(r=>r.status===n)});statusCounters=gt(()=>{let n={all:this.orders().length,created:0,confirmed:0,preparing:0,out_for_delivery:0,delivered:0,cancelled:0};for(let t of this.orders())n[t.status]+=1;return n});transitions={created:["confirmed","cancelled"],confirmed:["preparing","cancelled"],preparing:["out_for_delivery","cancelled"],out_for_delivery:[],delivered:[],cancelled:[]};ngOnInit(){this.loadOrders()}async refresh(){await this.loadOrders()}setFilter(n){this.filter.set(n)}nextStatuses(n){return this.transitions[n.status]??[]}canUpdate(n,t){let r=this.getActionKey(n.orderId,t);return this.activeUpdateKey()!==r}async updateStatus(n,t){this.errorMessage.set("");let r=this.getActionKey(n.orderId,t);this.activeUpdateKey.set(r);try{let i=await this.orderApi.updateOrderStatus(n.orderId,t);if(!i){this.errorMessage.set("Order not found. Please refresh.");return}this.orders.update(o=>o.map(s=>s.orderId===i.orderId?i:s))}catch(i){this.errorMessage.set(this.extractErrorMessage(i))}finally{this.activeUpdateKey.set("")}}trackOrder(n,t){return t.orderId}statusLabel(n){switch(n){case"all":return"All";case"created":return"Created";case"confirmed":return"Confirmed";case"preparing":return"Preparing";case"out_for_delivery":return"Out For Delivery";case"delivered":return"Delivered";case"cancelled":return"Cancelled";default:return n}}paymentLabel(n){return n==="razorpay"?"Razorpay":"WhatsApp"}async loadOrders(){this.loading.set(!0),this.errorMessage.set("");try{let n=await this.orderApi.listOrders();this.orders.set(n)}catch(n){this.errorMessage.set(this.extractErrorMessage(n))}finally{this.loading.set(!1)}}extractErrorMessage(n){return n instanceof _e?typeof n.error?.message=="string"?n.error.message:`Request failed with status ${n.status}.`:n instanceof Error?n.message:"Unexpected error. Please try again."}getActionKey(n,t){return`${n}:${t}`}static \u0275fac=function(t){return new(t||e)(w(An))};static \u0275cmp=re({type:e,selectors:[["app-admin-orders"]],decls:18,vars:2,consts:[[1,"admin-shell"],[1,"admin-head"],[1,"kicker"],[1,"toolbar"],["role","tablist","aria-label","Order status filters",1,"filters"],["type","button","role","tab",1,"pill",3,"active"],["type","button",1,"refresh-btn",3,"click"],[1,"error-box"],[1,"placeholder"],[1,"order-grid"],["type","button","role","tab",1,"pill",3,"click"],[1,"order-card"],[1,"card-head"],[1,"order-id"],[1,"status-chip"],[1,"meta-grid"],[1,"items-list"],[1,"item-row"],[1,"actions"],[1,"done-note"],[3,"src","alt"],["type","button",3,"disabled"],["type","button",3,"click","disabled"]],template:function(t,r){t&1&&(x(0,"main",0)(1,"section",1)(2,"p",2),l(3,"Kitchen Console"),E(),x(4,"h1"),l(5,"Manage Live Orders"),E(),x(6,"p"),l(7," Update order pipeline from confirmation to delivery. This screen is intended for kitchen and dispatch staff. "),E()(),x(8,"section",3)(9,"div",4),Y(10,MT,4,5,"button",5,at),E(),x(12,"button",6),Oi("click",function(){return r.refresh()}),l(13,"Refresh"),E()(),j(14,IT,2,1,"section",7),j(15,ST,2,0,"section",8)(16,xT,2,0,"section",8)(17,NT,3,0,"section",9),E()),t&2&&(h(10),K(r.statusFilters),h(4),V(r.errorMessage()?14:-1),h(),V(r.loading()?15:r.filteredOrders().length===0?16:17))},dependencies:[Pe,wt],styles:['.admin-shell[_ngcontent-%COMP%]{width:min(1160px,100%);margin:0 auto;padding:1.2rem 1rem 3rem;color:#173f2a}.admin-head[_ngcontent-%COMP%]{margin-bottom:1rem}.kicker[_ngcontent-%COMP%]{margin:0 0 .35rem;font-family:Fredoka,sans-serif;font-size:.82rem;letter-spacing:.18em;color:#1f7a3f;text-transform:uppercase;font-weight:700}.admin-head[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-family:"Baloo 2",sans-serif;font-size:clamp(1.65rem,3vw,2.5rem)}.admin-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.45rem 0 0;font-family:Fredoka,sans-serif;color:#3e5f4d}.toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.85rem;align-items:flex-start;margin:1.15rem 0}.filters[_ngcontent-%COMP%]{display:flex;gap:.45rem;flex-wrap:wrap}.pill[_ngcontent-%COMP%]{border:1px solid rgba(27,95,55,.26);background:#eff8f1;color:#214f35;border-radius:999px;padding:.38rem .72rem;font-family:Fredoka,sans-serif;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:.35rem}.pill[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{min-width:18px;height:18px;border-radius:999px;background:#d8edd9;font-size:.7rem;display:inline-flex;align-items:center;justify-content:center}.pill.active[_ngcontent-%COMP%]{background:#1f7a3f;color:#fff}.pill.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#84cd3c;color:#123b26}.refresh-btn[_ngcontent-%COMP%]{border:0;border-radius:12px;padding:.52rem .95rem;background:#123f28;color:#fff;font-family:Fredoka,sans-serif;font-weight:700;cursor:pointer}.error-box[_ngcontent-%COMP%]{border:1px solid rgba(167,42,42,.25);background:#fff1f1;color:#9f2424;border-radius:14px;padding:.7rem .9rem;font-family:Fredoka,sans-serif;margin-bottom:1rem}.placeholder[_ngcontent-%COMP%]{border-radius:16px;border:1px dashed rgba(37,84,56,.25);background:#f5fbf6;min-height:120px;display:grid;place-items:center;font-family:Fredoka,sans-serif;font-weight:600}.order-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(330px,1fr));gap:.95rem}.order-card[_ngcontent-%COMP%]{border-radius:20px;border:1px solid rgba(31,103,58,.2);background:#fff;box-shadow:0 16px 30px #11402414;padding:1rem}.card-head[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;gap:.6rem}.order-id[_ngcontent-%COMP%]{margin:0;font-family:Fredoka,sans-serif;color:#2f7a4a;font-weight:700;font-size:.82rem}.card-head[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:.25rem 0 0;font-family:"Baloo 2",sans-serif;font-size:1.35rem}.status-chip[_ngcontent-%COMP%]{border-radius:999px;padding:.22rem .65rem;font-family:Fredoka,sans-serif;font-weight:700;font-size:.78rem;white-space:nowrap}.status-chip.created[_ngcontent-%COMP%]{background:#ecf2ff;color:#2f55b0}.status-chip.confirmed[_ngcontent-%COMP%]{background:#eaf6ee;color:#17683a}.status-chip.preparing[_ngcontent-%COMP%]{background:#fff4dd;color:#8e5a00}.status-chip.out_for_delivery[_ngcontent-%COMP%]{background:#e5f6ff;color:#0b5d83}.status-chip.delivered[_ngcontent-%COMP%]{background:#dff9e3;color:#155930}.status-chip.cancelled[_ngcontent-%COMP%]{background:#ffe9e9;color:#9e2d2d}.meta-grid[_ngcontent-%COMP%]{margin-top:.8rem;padding:.65rem;border-radius:14px;background:#f6faf7;display:grid;grid-template-columns:1fr 1fr;gap:.45rem}.meta-grid[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-family:Fredoka,sans-serif;font-size:.88rem;color:#385845}.items-list[_ngcontent-%COMP%]{margin-top:.8rem;display:grid;gap:.55rem}.item-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:48px 1fr;gap:.6rem;align-items:center}.item-row[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:10px;object-fit:cover}.item-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-family:Fredoka,sans-serif;font-weight:600}.item-row[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#4e6c5a;font-family:Fredoka,sans-serif}.actions[_ngcontent-%COMP%]{margin-top:.9rem;display:flex;gap:.5rem;flex-wrap:wrap}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0;border-radius:10px;padding:.45rem .72rem;background:#1f7a3f;color:#fff;font-family:Fredoka,sans-serif;font-weight:700;cursor:pointer}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.45;cursor:not-allowed}.done-note[_ngcontent-%COMP%]{margin:0;font-family:Fredoka,sans-serif;color:#4f6e5d;font-weight:600}@media(max-width:720px){.toolbar[_ngcontent-%COMP%]{flex-direction:column}.meta-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}']})};var kT=e=>["/track",e],FT=(e,n)=>n.orderId;function LT(e,n){if(e&1&&(f(0,"section",3),l(1),u()),e&2){let t=C();h(),I(t.errorMessage())}}function jT(e,n){if(e&1&&(f(0,"section",4),l(1),u()),e&2){let t=C();h(),I(t.statusMessage())}}function VT(e,n){e&1&&(f(0,"section",5),l(1,"Loading dispatch data..."),u())}function BT(e,n){e&1&&(f(0,"section",5),l(1,"No active orders available."),u())}function UT(e,n){if(e&1&&(f(0,"option",10),l(1),u()),e&2){let t=n.$implicit;$("value",t.orderId),h(),Ic(" ",t.orderId," - ",t.customer.name," - INR ",t.totals.grandTotal," ")}}function HT(e,n){if(e&1&&(f(0,"p")(1,"strong"),l(2,"Due At Drop:"),u(),l(3),u()),e&2){let t=C(3);h(3),S(" INR ",t.selectedOrder().totals.deliveryFeeDueAtDrop)}}function $T(e,n){if(e&1&&(f(0,"div",32)(1,"p")(2,"strong"),l(3,"Customer:"),u(),l(4),u(),f(5,"p")(6,"strong"),l(7,"Phone:"),u(),l(8),u(),f(9,"p")(10,"strong"),l(11,"Address:"),u(),l(12),u(),f(13,"p")(14,"strong"),l(15,"Order Status:"),u(),l(16),u(),f(17,"p")(18,"strong"),l(19,"Delivery Fee Mode:"),u(),l(20),u(),f(21,"p")(22,"strong"),l(23,"Settlement:"),u(),l(24),u(),j(25,HT,4,1,"p"),u(),f(26,"a",33),l(27,"Open Customer Tracking Page"),u()),e&2){let t=C(2);h(4),S(" ",t.selectedOrder().customer.name),h(4),S(" ",t.selectedOrder().customer.phone),h(4),qe(" ",t.selectedOrder().address.line1,", ",t.selectedOrder().address.city),h(4),S(" ",t.selectedOrder().status),h(4),S(" ",t.selectedOrder().deliveryFeeMode||"prepaid"),h(4),S(" ",t.selectedOrder().deliveryFeeSettlementStatus||"not_applicable"),h(),V((t.selectedOrder().totals.deliveryFeeDueAtDrop||0)>0?25:-1),h(),$("routerLink",qr(9,kT,t.selectedOrder().orderId))}}function zT(e,n){if(e&1&&(f(0,"option",10),l(1),u()),e&2){let t=n.$implicit,r=C(2);$("value",t),h(),I(r.deliveryLabel(t))}}function WT(e,n){e&1&&l(0," Updating... ")}function GT(e,n){e&1&&l(0," Push Tracking ")}function qT(e,n){if(e&1&&(f(0,"div",21)(1,"p")(2,"strong"),l(3,"Current:"),u(),l(4),u(),f(5,"p")(6,"strong"),l(7,"Status:"),u(),l(8),u(),f(9,"p")(10,"strong"),l(11,"ETA:"),u(),l(12),u(),f(13,"p")(14,"strong"),l(15,"Updated:"),u(),l(16),Ze(17,"date"),u()()),e&2){let t=C(2);h(4),qe(" ",t.tracking().current.lat,", ",t.tracking().current.lng),h(4),S(" ",t.deliveryLabel(t.tracking().status)),h(4),S(" ",t.tracking().etaMinutes," mins"),h(4),S(" ",Ye(17,5,t.tracking().updatedAt,"mediumTime"))}}function ZT(e,n){e&1&&l(0," Queueing... ")}function YT(e,n){e&1&&l(0," Queue WhatsApp Confirmation Log ")}function KT(e,n){if(e&1){let t=se();f(0,"div",11)(1,"label",34),l(2,"Amount Collected"),u(),f(3,"input",35),J("ngModelChange",function(i){N(t);let o=C(2);return ee(o.collectionAmountInput,i)||(o.collectionAmountInput=i),k(i)}),u(),f(4,"label",36),l(5,"Collection Method"),u(),f(6,"select",37),J("ngModelChange",function(i){N(t);let o=C(2);return ee(o.collectionMethod,i)||(o.collectionMethod=i),k(i)}),f(7,"option",38),l(8,"Cash"),u(),f(9,"option",39),l(10,"UPI"),u()(),f(11,"label",40),l(12,"Collection Notes"),u(),f(13,"input",41),J("ngModelChange",function(i){N(t);let o=C(2);return ee(o.collectionNotesInput,i)||(o.collectionNotesInput=i),k(i)}),u()()}if(e&2){let t=C(2);h(3),Q("ngModel",t.collectionAmountInput),h(3),Q("ngModel",t.collectionMethod),h(7),Q("ngModel",t.collectionNotesInput)}}function QT(e,n){e&1&&l(0," Confirming... ")}function JT(e,n){e&1&&l(0," Confirm Delivery ")}function XT(e,n){if(e&1){let t=se();f(0,"section",6)(1,"article",7)(2,"h2"),l(3,"Select Order"),u(),f(4,"label",8),l(5,"Active Orders"),u(),f(6,"select",9),U("ngModelChange",function(i){N(t);let o=C();return o.selectedOrderId.set(i),k(o.onOrderSelectionChange())}),Y(7,UT,2,4,"option",10,FT),u(),j(9,$T,28,11),u(),f(10,"article",7)(11,"h2"),l(12,"Push Tracking Update"),u(),f(13,"div",11)(14,"label",12),l(15,"Latitude"),u(),f(16,"input",13),J("ngModelChange",function(i){N(t);let o=C();return ee(o.latInput,i)||(o.latInput=i),k(i)}),u(),f(17,"label",14),l(18,"Longitude"),u(),f(19,"input",15),J("ngModelChange",function(i){N(t);let o=C();return ee(o.lngInput,i)||(o.lngInput=i),k(i)}),u(),f(20,"label",16),l(21,"ETA Minutes"),u(),f(22,"input",17),J("ngModelChange",function(i){N(t);let o=C();return ee(o.etaInput,i)||(o.etaInput=i),k(i)}),u(),f(23,"label",18),l(24,"Delivery Status"),u(),f(25,"select",19),J("ngModelChange",function(i){N(t);let o=C();return ee(o.deliveryStatus,i)||(o.deliveryStatus=i),k(i)}),Y(26,zT,2,2,"option",10,at),u()(),f(28,"button",20),U("click",function(){N(t);let i=C();return k(i.pushTrackingUpdate())}),j(29,WT,1,0)(30,GT,1,0),u(),j(31,qT,18,8,"div",21),u()(),f(32,"section",22)(33,"h2"),l(34,"Customer WhatsApp Confirmation"),u(),f(35,"p"),l(36,"Queue a confirmation event after manual WhatsApp reply by operations staff."),u(),f(37,"button",23),U("click",function(){N(t);let i=C();return k(i.queueWhatsAppConfirmation())}),j(38,ZT,1,0)(39,YT,1,0),u()(),f(40,"section",22)(41,"h2"),l(42,"Delivery Confirmation"),u(),f(43,"p"),l(44,"Confirm handoff with OTP and capture delivery fee collection if applicable."),u(),f(45,"div",11)(46,"label",24),l(47,"Delivery OTP"),u(),f(48,"input",25),J("ngModelChange",function(i){N(t);let o=C();return ee(o.deliveryOtpInput,i)||(o.deliveryOtpInput=i),k(i)}),u(),f(49,"label",26),l(50,"Confirmed By"),u(),f(51,"input",27),J("ngModelChange",function(i){N(t);let o=C();return ee(o.confirmedByInput,i)||(o.confirmedByInput=i),k(i)}),u(),f(52,"label",28),l(53,"Proof Note"),u(),f(54,"input",29),J("ngModelChange",function(i){N(t);let o=C();return ee(o.proofNoteInput,i)||(o.proofNoteInput=i),k(i)}),u()(),f(55,"label",30)(56,"input",31),J("ngModelChange",function(i){N(t);let o=C();return ee(o.collectDeliveryFee,i)||(o.collectDeliveryFee=i),k(i)}),u(),l(57," Collect delivery fee at drop "),u(),j(58,KT,14,3,"div",11),f(59,"button",23),U("click",function(){N(t);let i=C();return k(i.confirmDelivery())}),j(60,QT,1,0)(61,JT,1,0),u()()}if(e&2){let t=C();h(6),$("ngModel",t.selectedOrderId()),h(),K(t.activeOrders()),h(2),V(t.selectedOrder()?9:-1),h(7),Q("ngModel",t.latInput),h(3),Q("ngModel",t.lngInput),h(3),Q("ngModel",t.etaInput),h(3),Q("ngModel",t.deliveryStatus),h(),K(t.deliveryStatuses),h(2),$("disabled",t.busyUpdate()),h(),V(t.busyUpdate()?29:30),h(2),V(t.tracking()?31:-1),h(6),$("disabled",t.busyNotify()||!t.selectedOrder()),h(),V(t.busyNotify()?38:39),h(10),Q("ngModel",t.deliveryOtpInput),h(3),Q("ngModel",t.confirmedByInput),h(3),Q("ngModel",t.proofNoteInput),h(2),Q("ngModel",t.collectDeliveryFee),h(2),V(t.collectDeliveryFee?58:-1),h(),$("disabled",t.busyConfirm()||!t.selectedOrder()),h(),V(t.busyConfirm()?60:61)}}var Yl=class e{constructor(n,t){this.orderApi=n;this.trackingService=t}loading=L(!0);busyUpdate=L(!1);busyNotify=L(!1);busyConfirm=L(!1);statusMessage=L("");errorMessage=L("");orders=L([]);selectedOrderId=L("");tracking=L(null);latInput="";lngInput="";etaInput="20";deliveryStatus="on_the_way";deliveryOtpInput="";proofNoteInput="";confirmedByInput="Dispatch Team";collectDeliveryFee=!1;collectionAmountInput="";collectionMethod="cash";collectionNotesInput="";deliveryStatuses=["assigned","picked_up","on_the_way","nearby","delivered"];selectedOrder=gt(()=>this.orders().find(n=>n.orderId===this.selectedOrderId())??null);activeOrders=gt(()=>this.orders().filter(n=>n.status!=="cancelled"&&n.status!=="delivered"));ngOnInit(){this.loadOrders()}async refresh(){await this.loadOrders()}async onOrderSelectionChange(){this.statusMessage.set(""),this.errorMessage.set(""),await this.loadTrackingForSelectedOrder()}async pushTrackingUpdate(){let n=this.selectedOrder();if(!n){this.errorMessage.set("Select an order first.");return}let t=Number.parseFloat(this.latInput),r=Number.parseFloat(this.lngInput),i=Number.parseInt(this.etaInput,10);if(!Number.isFinite(t)||!Number.isFinite(r)){this.errorMessage.set("Latitude and longitude must be valid numbers.");return}if(!Number.isFinite(i)||i<0){this.errorMessage.set("ETA must be a non-negative number.");return}this.busyUpdate.set(!0),this.errorMessage.set(""),this.statusMessage.set("");try{if(!await this.trackingService.updateTrackingLocation(n.orderId,{lat:t,lng:r,status:this.deliveryStatus,etaMinutes:i})){this.errorMessage.set("Tracking not found for this order.");return}await this.loadTrackingForSelectedOrder(),this.statusMessage.set("Tracking updated successfully.")}catch(o){this.errorMessage.set(this.extractErrorMessage(o))}finally{this.busyUpdate.set(!1)}}async queueWhatsAppConfirmation(){let n=this.selectedOrder();if(!n){this.errorMessage.set("Select an order first.");return}let t=this.buildCustomerMessage(n);this.busyNotify.set(!0),this.errorMessage.set(""),this.statusMessage.set("");try{let r=await this.orderApi.queueWhatsAppConfirmation({orderId:n.orderId,customerName:n.customer.name,customerPhone:n.customer.phone,message:t});this.statusMessage.set(r.providerMessageId?`WhatsApp confirmation queued (${r.providerMessageId}).`:"WhatsApp confirmation queued.")}catch(r){this.errorMessage.set(this.extractErrorMessage(r))}finally{this.busyNotify.set(!1)}}async confirmDelivery(){let n=this.selectedOrder();if(!n){this.errorMessage.set("Select an order first.");return}if(!this.deliveryOtpInput.trim()){this.errorMessage.set("Delivery OTP is required.");return}let t;if(this.collectDeliveryFee){let r=Number.parseFloat(this.collectionAmountInput);if(!Number.isFinite(r)||r<0){this.errorMessage.set("Collection amount must be a non-negative number.");return}t=r}this.busyConfirm.set(!0),this.errorMessage.set(""),this.statusMessage.set("");try{let r=await this.orderApi.confirmDelivery(n.orderId,{otpCode:this.deliveryOtpInput.trim(),proofNote:this.proofNoteInput.trim()||void 0,confirmedBy:this.confirmedByInput.trim()||"Dispatch Team",collectDeliveryFee:this.collectDeliveryFee,collectionAmount:t,collectionMethod:this.collectDeliveryFee?this.collectionMethod:void 0,collectionNotes:this.collectDeliveryFee&&this.collectionNotesInput.trim()||void 0});if(!r){this.errorMessage.set("Order not found.");return}let i=this.tracking();await this.trackingService.updateTrackingLocation(n.orderId,{lat:Number.parseFloat(this.latInput||"0")||i?.current.lat||17.385,lng:Number.parseFloat(this.lngInput||"0")||i?.current.lng||78.4867,status:"delivered",etaMinutes:0}),this.orders.update(o=>o.map(s=>s.orderId===r.orderId?r:s)),await this.loadTrackingForSelectedOrder(),this.statusMessage.set("Delivery confirmed successfully.")}catch(r){this.errorMessage.set(this.extractErrorMessage(r))}finally{this.busyConfirm.set(!1)}}deliveryLabel(n){switch(n){case"assigned":return"Assigned";case"picked_up":return"Picked Up";case"on_the_way":return"On The Way";case"nearby":return"Nearby";case"delivered":return"Delivered";default:return n}}async loadOrders(){this.loading.set(!0),this.errorMessage.set(""),this.statusMessage.set("");try{let n=await this.orderApi.listOrders();this.orders.set(n);let t=n.filter(r=>r.status!=="cancelled"&&r.status!=="delivered");(!this.selectedOrderId()||!t.some(r=>r.orderId===this.selectedOrderId()))&&t.length>0&&this.selectedOrderId.set(t[0].orderId),this.selectedOrderId()?await this.loadTrackingForSelectedOrder():this.tracking.set(null)}catch(n){this.errorMessage.set(this.extractErrorMessage(n))}finally{this.loading.set(!1)}}async loadTrackingForSelectedOrder(){let n=this.selectedOrderId();if(!n){this.tracking.set(null);return}try{let t=await this.trackingService.getOrder(n);this.tracking.set(t),t?(this.latInput=t.current.lat.toFixed(6),this.lngInput=t.current.lng.toFixed(6),this.etaInput=String(t.etaMinutes),this.deliveryStatus=t.status):(this.latInput="",this.lngInput="",this.etaInput="20",this.deliveryStatus="on_the_way");let r=this.selectedOrder();r&&(this.collectDeliveryFee=r.deliveryFeeMode==="collect_at_drop",this.collectionAmountInput=String(r.totals.deliveryFeeDueAtDrop??r.totals.deliveryFee))}catch(t){this.errorMessage.set(this.extractErrorMessage(t))}}buildCustomerMessage(n){let t=this.etaInput||"0",r=this.deliveryLabel(this.deliveryStatus),i=n.totals.deliveryFeeDueAtDrop??0,o=i>0?` Please pay delivery charge INR ${i} at drop location.`:"";return`Hi ${n.customer.name}, your Green Spoon order ${n.orderId} is currently ${r}. Estimated delivery in ${t} minutes.${o}`}extractErrorMessage(n){return n instanceof _e?typeof n.error?.message=="string"?n.error.message:`Request failed with status ${n.status}.`:n instanceof Error?n.message:"Unexpected error. Please try again."}static \u0275fac=function(t){return new(t||e)(w(An),w(Dr))};static \u0275cmp=re({type:e,selectors:[["app-admin-dispatch"]],decls:13,vars:3,consts:[[1,"dispatch-shell"],[1,"dispatch-head"],[1,"kicker"],[1,"error-box"],[1,"success-box"],[1,"placeholder"],[1,"dispatch-grid"],[1,"panel"],["for","orderSelect"],["id","orderSelect",3,"ngModelChange","ngModel"],[3,"value"],[1,"form-grid"],["for","latInput"],["id","latInput","type","text","placeholder","17.385000",3,"ngModelChange","ngModel"],["for","lngInput"],["id","lngInput","type","text","placeholder","78.486700",3,"ngModelChange","ngModel"],["for","etaInput"],["id","etaInput","type","number","min","0",3,"ngModelChange","ngModel"],["for","deliveryStatus"],["id","deliveryStatus",3,"ngModelChange","ngModel"],["type","button",1,"primary-btn",3,"click","disabled"],[1,"tracking-preview"],[1,"panel","notify-panel"],["type","button",1,"secondary-btn",3,"click","disabled"],["for","deliveryOtpInput"],["id","deliveryOtpInput","type","text","placeholder","Enter OTP shared by customer",3,"ngModelChange","ngModel"],["for","confirmedByInput"],["id","confirmedByInput","type","text","placeholder","Dispatch staff name",3,"ngModelChange","ngModel"],["for","proofNoteInput"],["id","proofNoteInput","type","text","placeholder","Photo/signature/remarks",3,"ngModelChange","ngModel"],[1,"inline-check"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"order-info"],[1,"track-link",3,"routerLink"],["for","collectionAmountInput"],["id","collectionAmountInput","type","number","min","0",3,"ngModelChange","ngModel"],["for","collectionMethod"],["id","collectionMethod",3,"ngModelChange","ngModel"],["value","cash"],["value","upi"],["for","collectionNotesInput"],["id","collectionNotesInput","type","text","placeholder","Optional notes",3,"ngModelChange","ngModel"]],template:function(t,r){t&1&&(f(0,"main",0)(1,"section",1)(2,"p",2),l(3,"Dispatch Console"),u(),f(4,"h1"),l(5,"Update Rider Location and Customer Notification"),u(),f(6,"p"),l(7,"Select an order, push tracking status, and queue WhatsApp confirmation logs."),u()(),j(8,LT,2,1,"section",3),j(9,jT,2,1,"section",4),j(10,VT,2,0,"section",5)(11,BT,2,0,"section",5)(12,XT,62,18),u()),t&2&&(h(8),V(r.errorMessage()?8:-1),h(),V(r.statusMessage()?9:-1),h(),V(r.loading()?10:r.activeOrders().length===0?11:12))},dependencies:[Pe,On,Vl,Bl,$t,Sh,Dh,Ki,Tn,Th,ln,we,wt],styles:['.dispatch-shell[_ngcontent-%COMP%]{width:min(1160px,100%);margin:0 auto;padding:1.2rem 1rem 3rem;color:#183f2b}.dispatch-head[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-family:"Baloo 2",sans-serif;font-size:clamp(1.65rem,3vw,2.5rem)}.kicker[_ngcontent-%COMP%]{margin:0 0 .35rem;font-family:Fredoka,sans-serif;font-size:.82rem;letter-spacing:.18em;color:#1f7a3f;text-transform:uppercase;font-weight:700}.dispatch-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.45rem 0 0;font-family:Fredoka,sans-serif;color:#3e5f4d}.dispatch-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:.95rem;margin-top:1rem}.panel[_ngcontent-%COMP%]{border-radius:18px;border:1px solid rgba(31,103,58,.2);background:#fff;box-shadow:0 16px 30px #11402414;padding:1rem}.panel[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 .6rem;font-family:"Baloo 2",sans-serif}label[_ngcontent-%COMP%]{display:block;font-family:Fredoka,sans-serif;font-weight:600;margin:.55rem 0 .28rem}.inline-check[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.45rem;margin-top:.75rem}.inline-check[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:auto}select[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{width:100%;border:1px solid rgba(27,95,55,.22);border-radius:12px;background:#f6faf7;padding:.55rem .62rem;font-family:Fredoka,sans-serif;color:#1f4d33}.order-info[_ngcontent-%COMP%]{margin-top:.8rem;padding:.7rem;border-radius:12px;background:#f5fbf7}.order-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .tracking-preview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.35rem 0;font-family:Fredoka,sans-serif;color:#355846}.track-link[_ngcontent-%COMP%]{margin-top:.65rem;display:inline-flex;text-decoration:none;font-family:Fredoka,sans-serif;font-weight:700;color:#1f7a3f}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:.4rem .6rem}.primary-btn[_ngcontent-%COMP%], .secondary-btn[_ngcontent-%COMP%]{margin-top:.9rem;border:0;border-radius:12px;padding:.6rem .95rem;font-family:Fredoka,sans-serif;font-weight:700;cursor:pointer}.primary-btn[_ngcontent-%COMP%]{background:#1f7a3f;color:#fff}.secondary-btn[_ngcontent-%COMP%]{background:#174d31;color:#fff}.primary-btn[_ngcontent-%COMP%]:disabled, .secondary-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.tracking-preview[_ngcontent-%COMP%]{margin-top:.8rem;border-radius:12px;padding:.7rem;background:#f5fbf7}.notify-panel[_ngcontent-%COMP%]{margin-top:.95rem}.error-box[_ngcontent-%COMP%], .success-box[_ngcontent-%COMP%]{border-radius:12px;padding:.62rem .8rem;font-family:Fredoka,sans-serif;margin-top:.95rem}.error-box[_ngcontent-%COMP%]{border:1px solid rgba(167,42,42,.25);background:#fff1f1;color:#9f2424}.success-box[_ngcontent-%COMP%]{border:1px solid rgba(30,110,61,.2);background:#edf9ef;color:#236940}.placeholder[_ngcontent-%COMP%]{margin-top:1rem;border-radius:16px;border:1px dashed rgba(37,84,56,.25);background:#f5fbf6;min-height:120px;display:grid;place-items:center;font-family:Fredoka,sans-serif;font-weight:600}@media(max-width:860px){.dispatch-grid[_ngcontent-%COMP%], .form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}']})};var eO=e=>["/track",e],tO=(e,n)=>n.orderId,nO=(e,n)=>n.id+"-"+n.quantity;function rO(e,n){if(e&1){let t=se();f(0,"button",10),U("click",function(){N(t);let i=C();return k(i.requestPhoneOtp())}),l(1,"Request OTP"),u()}if(e&2){let t=C();$("disabled",t.loading())}}function iO(e,n){if(e&1&&(f(0,"p",17),l(1),u()),e&2){let t=C(2);h(),S("Demo OTP: ",t.debugOtpHint())}}function oO(e,n){if(e&1){let t=se();f(0,"label",15),l(1,"OTP"),u(),f(2,"input",16),J("ngModelChange",function(i){N(t);let o=C();return ee(o.otpInput,i)||(o.otpInput=i),k(i)}),u(),j(3,iO,2,1,"p",17),f(4,"div",18)(5,"button",10),U("click",function(){N(t);let i=C();return k(i.verifyPhoneOtpAndSearch())}),l(6," Verify OTP and Find Orders "),u(),f(7,"button",19),U("click",function(){N(t);let i=C();return k(i.resetPhoneLookup())}),l(8," Reset "),u()()}if(e&2){let t=C();h(2),Q("ngModel",t.otpInput),h(),V(t.debugOtpHint()?3:-1),h(2),$("disabled",t.loading()),h(2),$("disabled",t.loading())}}function sO(e,n){if(e&1&&(f(0,"section",11),l(1),u()),e&2){let t=C();h(),I(t.errorMessage())}}function aO(e,n){if(e&1&&(f(0,"section",12),l(1),u()),e&2){let t=C();h(),I(t.statusMessage())}}function cO(e,n){e&1&&(f(0,"section",13),l(1,"Searching orders..."),u())}function lO(e,n){if(e&1&&(f(0,"div",26),ge(1,"img",30),f(2,"div")(3,"p"),l(4),u(),f(5,"small"),l(6),u()()()),e&2){let t=n.$implicit;h(),$("src",t.image,jt)("alt",t.name),h(3),I(t.name),h(2),qe("",t.quantity," x INR ",t.price)}}function uO(e,n){if(e&1){let t=se();f(0,"article",20)(1,"div",21)(2,"div")(3,"p",22),l(4),u(),f(5,"h2"),l(6),u()(),f(7,"span",23),l(8),u()(),f(9,"p",24),l(10),Ze(11,"date"),u(),f(12,"p",24),l(13),u(),f(14,"p",24),l(15),u(),f(16,"div",25),Y(17,lO,7,5,"div",26,nO),u(),f(19,"div",27)(20,"a",28),l(21,"Track Order"),u(),f(22,"button",29),U("click",function(){let i=N(t).$implicit,o=C(2);return k(o.reorder(i))}),l(23,"Reorder"),u()()()}if(e&2){let t=n.$implicit,r=C(2);h(4),S("Order ",t.orderId),h(2),I(t.customer.name),h(2),I(r.statusLabel(t.status)),h(2),I(Ye(11,8,t.createdAt,"medium")),h(3),qe("",t.address.line1,", ",t.address.city),h(2),S("Total: INR ",t.totals.grandTotal),h(2),K(t.items),h(3),$("routerLink",qr(11,eO,t.orderId))}}function dO(e,n){if(e&1&&(f(0,"section",14),Y(1,uO,24,13,"article",20,tO),u()),e&2){let t=C();h(),K(t.foundOrders())}}var Kl=class e{constructor(n,t,r){this.orderApi=n;this.cart=t;this.router=r}loading=L(!1);errorMessage=L("");statusMessage=L("");foundOrders=L([]);otpRequested=L(!1);otpRequestId=L("");debugOtpHint=L("");phoneInput="";otpInput="";orderIdInput="";async requestPhoneOtp(){let n=this.normalizePhone(this.phoneInput);if(n.length<10){this.errorMessage.set("Enter a valid phone number.");return}this.loading.set(!0),this.errorMessage.set(""),this.statusMessage.set("");try{let t=await this.orderApi.requestCustomerLookupOtp({phone:n});this.otpRequested.set(!0),this.otpRequestId.set(t.requestId),this.debugOtpHint.set(t.debugOtp??""),this.statusMessage.set(t.debugOtp?`OTP sent. Demo OTP: ${t.debugOtp}`:"OTP sent to your registered phone number.")}catch(t){this.errorMessage.set(this.extractErrorMessage(t))}finally{this.loading.set(!1)}}async verifyPhoneOtpAndSearch(){let n=this.normalizePhone(this.phoneInput);if(n.length<10){this.errorMessage.set("Enter a valid phone number.");return}if(!this.otpRequested()||!this.otpRequestId()){this.errorMessage.set("Request OTP first.");return}if(!this.otpInput.trim()){this.errorMessage.set("Enter the OTP.");return}this.loading.set(!0),this.errorMessage.set(""),this.statusMessage.set(""),this.foundOrders.set([]);try{let t=await this.orderApi.lookupCustomerOrdersByPhone({phone:n,requestId:this.otpRequestId(),otpCode:this.otpInput.trim()});this.foundOrders.set(t),t.length===0?this.statusMessage.set("No orders found for this phone number."):this.statusMessage.set(`Found ${t.length} order(s).`)}catch(t){this.errorMessage.set(this.extractErrorMessage(t))}finally{this.loading.set(!1)}}resetPhoneLookup(){this.otpRequested.set(!1),this.otpRequestId.set(""),this.debugOtpHint.set(""),this.otpInput="",this.statusMessage.set(""),this.errorMessage.set(""),this.foundOrders.set([])}async searchByOrderId(){let n=this.orderIdInput.trim();if(!n){this.errorMessage.set("Enter an order ID.");return}this.loading.set(!0),this.errorMessage.set(""),this.statusMessage.set(""),this.foundOrders.set([]);try{let t=await this.orderApi.getOrder(n);if(!t){this.statusMessage.set("No order found with this ID.");return}this.foundOrders.set([t])}catch(t){this.errorMessage.set(this.extractErrorMessage(t))}finally{this.loading.set(!1)}}async reorder(n){this.cart.clear();for(let t of n.items)this.cart.add({id:t.id,name:t.name,type:t.type,image:t.image,price:t.price,calories:t.calories},t.quantity);this.statusMessage.set(`Items from ${n.orderId} added to cart.`),await this.router.navigate(["/cart"])}statusLabel(n){return n.replace(/_/g," ")}normalizePhone(n){return n.replace(/\D/g,"")}extractErrorMessage(n){return n instanceof _e?typeof n.error?.message=="string"?n.error.message:`Request failed with status ${n.status}.`:n instanceof Error?n.message:"Unexpected error. Please try again."}static \u0275fac=function(t){return new(t||e)(w(An),w(Ht),w(Re))};static \u0275cmp=re({type:e,selectors:[["app-my-orders"]],decls:29,vars:7,consts:[[1,"orders-shell"],[1,"orders-head"],[1,"kicker"],[1,"search-grid"],[1,"search-card"],["for","phoneInput"],["id","phoneInput","type","tel","placeholder","e.g. 9000010021",3,"ngModelChange","ngModel"],["type","button",3,"disabled"],["for","orderIdInput"],["id","orderIdInput","type","text","placeholder","e.g. GS-123456-111",3,"ngModelChange","ngModel"],["type","button",3,"click","disabled"],[1,"error-box"],[1,"status-box"],[1,"placeholder"],[1,"results-grid"],["for","otpInput"],["id","otpInput","type","text","placeholder","Enter OTP",3,"ngModelChange","ngModel"],[1,"debug-hint"],[1,"otp-actions"],["type","button",1,"ghost-btn",3,"click","disabled"],[1,"order-card"],[1,"card-head"],[1,"order-id"],[1,"status-chip"],[1,"meta"],[1,"items-list"],[1,"item-row"],[1,"actions"],[3,"routerLink"],["type","button",3,"click"],[3,"src","alt"]],template:function(t,r){t&1&&(f(0,"main",0)(1,"section",1)(2,"p",2),l(3,"My Orders"),u(),f(4,"h1"),l(5,"Find and Track Your Green Spoon Orders"),u(),f(6,"p"),l(7,"Search using your phone number or your order reference."),u()(),f(8,"section",3)(9,"article",4)(10,"h2"),l(11,"Search By Phone"),u(),f(12,"label",5),l(13,"Phone Number"),u(),f(14,"input",6),J("ngModelChange",function(o){return ee(r.phoneInput,o)||(r.phoneInput=o),o}),u(),j(15,rO,2,1,"button",7)(16,oO,9,4),u(),f(17,"article",4)(18,"h2"),l(19,"Search By Order ID"),u(),f(20,"label",8),l(21,"Order ID"),u(),f(22,"input",9),J("ngModelChange",function(o){return ee(r.orderIdInput,o)||(r.orderIdInput=o),o}),u(),f(23,"button",10),U("click",function(){return r.searchByOrderId()}),l(24,"Find Order"),u()()(),j(25,sO,2,1,"section",11),j(26,aO,2,1,"section",12),j(27,cO,2,0,"section",13)(28,dO,3,0,"section",14),u()),t&2&&(h(14),Q("ngModel",r.phoneInput),h(),V(r.otpRequested()?16:15),h(7),Q("ngModel",r.orderIdInput),h(),$("disabled",r.loading()),h(2),V(r.errorMessage()?25:-1),h(),V(r.statusMessage()?26:-1),h(),V(r.loading()?27:r.foundOrders().length>0?28:-1))},dependencies:[Pe,On,$t,Tn,ln,we,wt],styles:['.orders-shell[_ngcontent-%COMP%]{width:min(1160px,100%);margin:0 auto;padding:1.2rem 1rem 3rem;color:#1b412d}.kicker[_ngcontent-%COMP%]{margin:0 0 .35rem;font-family:Fredoka,sans-serif;font-size:.82rem;letter-spacing:.18em;color:#1f7a3f;text-transform:uppercase;font-weight:700}.orders-head[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-family:"Baloo 2",sans-serif;font-size:clamp(1.65rem,3vw,2.5rem)}.orders-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.45rem 0 0;font-family:Fredoka,sans-serif;color:#3e5f4d}.search-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:.9rem;margin-top:1rem}.search-card[_ngcontent-%COMP%]{border-radius:18px;border:1px solid rgba(31,103,58,.2);background:#fff;box-shadow:0 16px 30px #11402414;padding:1rem}.search-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 .6rem;font-family:"Baloo 2",sans-serif}label[_ngcontent-%COMP%]{display:block;font-family:Fredoka,sans-serif;font-weight:600;margin-bottom:.3rem}input[_ngcontent-%COMP%]{width:100%;border:1px solid rgba(27,95,55,.24);border-radius:12px;background:#f6faf7;padding:.55rem .62rem;font-family:Fredoka,sans-serif;color:#1f4d33}button[_ngcontent-%COMP%]{margin-top:.75rem;border:0;border-radius:12px;padding:.52rem .9rem;background:#1f7a3f;color:#fff;font-family:Fredoka,sans-serif;font-weight:700;cursor:pointer}button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.otp-actions[_ngcontent-%COMP%]{margin-top:.6rem;display:flex;flex-wrap:wrap;gap:.45rem}.otp-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:0}.ghost-btn[_ngcontent-%COMP%]{background:#13422a}.debug-hint[_ngcontent-%COMP%]{margin:.45rem 0 0;font-family:Fredoka,sans-serif;font-size:.86rem;color:#2f6a46}.error-box[_ngcontent-%COMP%], .status-box[_ngcontent-%COMP%]{margin-top:.9rem;border-radius:12px;padding:.62rem .8rem;font-family:Fredoka,sans-serif}.error-box[_ngcontent-%COMP%]{border:1px solid rgba(167,42,42,.25);background:#fff1f1;color:#9f2424}.status-box[_ngcontent-%COMP%]{border:1px solid rgba(30,110,61,.2);background:#edf9ef;color:#236940}.placeholder[_ngcontent-%COMP%]{margin-top:1rem;border-radius:16px;border:1px dashed rgba(37,84,56,.25);background:#f5fbf6;min-height:120px;display:grid;place-items:center;font-family:Fredoka,sans-serif;font-weight:600}.results-grid[_ngcontent-%COMP%]{margin-top:1rem;display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:.9rem}.order-card[_ngcontent-%COMP%]{border-radius:18px;border:1px solid rgba(31,103,58,.2);background:#fff;box-shadow:0 16px 30px #11402414;padding:1rem}.card-head[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:.6rem}.order-id[_ngcontent-%COMP%]{margin:0;font-family:Fredoka,sans-serif;color:#2f7a4a;font-weight:700;font-size:.82rem}.card-head[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:.25rem 0 0;font-family:"Baloo 2",sans-serif;font-size:1.3rem}.status-chip[_ngcontent-%COMP%]{border-radius:999px;padding:.22rem .65rem;font-family:Fredoka,sans-serif;font-weight:700;font-size:.78rem;background:#ecf6ed;color:#1a693a;text-transform:capitalize}.meta[_ngcontent-%COMP%]{margin:.45rem 0 0;font-family:Fredoka,sans-serif;color:#456251}.items-list[_ngcontent-%COMP%]{margin-top:.75rem;display:grid;gap:.5rem}.item-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:48px 1fr;gap:.55rem;align-items:center}.item-row[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:10px;object-fit:cover}.item-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-family:Fredoka,sans-serif;font-weight:600}.item-row[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#4e6c5a;font-family:Fredoka,sans-serif}.actions[_ngcontent-%COMP%]{margin-top:.9rem;display:flex;gap:.55rem}.actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0;text-decoration:none;border:0;border-radius:10px;padding:.45rem .72rem;font-family:Fredoka,sans-serif;font-weight:700;cursor:pointer}.actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background:#1f7a3f;color:#fff}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#10452b;color:#fff}@media(max-width:860px){.search-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}']})};var c_=(e,n)=>n.email;function fO(e,n){if(e&1&&(f(0,"p",4),l(1),u()),e&2){let t=C();h(),I(t.infoMessage)}}function pO(e,n){if(e&1&&(f(0,"p",5),l(1),u()),e&2){let t=C();h(),I(t.errorMessage)}}function hO(e,n){if(e&1){let t=se();f(0,"button",14),U("click",function(){let i=N(t).$implicit,o=C();return k(o.useDemo(i))}),l(1),u()}if(e&2){let t=n.$implicit,r=C();$("disabled",r.isSubmitting),h(),S(" ",t.label," ")}}function mO(e,n){if(e&1&&(f(0,"small"),l(1),u()),e&2){let t=n.$implicit;h(),qe("",t.email," / ",t.password)}}var Ql=class e{constructor(n,t,r){this.auth=n;this.router=t;this.route=r;if(this.auth.isAuthenticated()){let o=this.route.snapshot.queryParamMap.get("returnUrl")||"/";this.router.navigateByUrl(o);return}let i=this.route.snapshot.queryParamMap.get("reason");i==="forbidden"?this.infoMessage="Your account does not have permission for that page.":i==="session_expired"&&(this.infoMessage="Your session expired. Please sign in again.")}demoAccounts=[{label:"Platform Admin",email:"admin@greenspoon.com",password:"Admin@123"},{label:"Owner",email:"owner@greenspoon.com",password:"Owner@123"},{label:"Manager",email:"manager@greenspoon.com",password:"Manager@123"},{label:"Dispatch",email:"dispatch@greenspoon.com",password:"Dispatch@123"},{label:"Customer",email:"customer@greenspoon.com",password:"Customer@123"}];email="";password="";isSubmitting=!1;errorMessage="";infoMessage="";async submit(){if(this.errorMessage="",this.infoMessage="",!this.email.trim()||!this.password.trim()){this.errorMessage="Email and password are required.";return}this.isSubmitting=!0;try{let n=await this.auth.login(this.email,this.password);if(!n.ok){this.errorMessage=n.message||"Login failed.";return}let t=this.route.snapshot.queryParamMap.get("returnUrl");if(t){await this.router.navigateByUrl(t);return}await this.router.navigateByUrl(this.resolveLandingUrl())}finally{this.isSubmitting=!1}}useDemo(n){this.email=n.email,this.password=n.password,this.errorMessage=""}resolveLandingUrl(){let n=this.auth.session()?.role;return n?n==="dispatch"?"/admin/dispatch":this.canAccessAdminOrders(n)?"/admin/orders":"/":"/"}canAccessAdminOrders(n){return["platform_admin","restaurant_owner","manager"].includes(n)}static \u0275fac=function(t){return new(t||e)(w(Ct),w(Re),w(vt))};static \u0275cmp=re({type:e,selectors:[["app-login"]],decls:26,vars:6,consts:[[1,"login-shell"],[1,"login-card"],[1,"kicker"],[1,"lead"],[1,"info"],[1,"error"],["for","emailInput"],["id","emailInput","type","email","placeholder","you@greenspoon.com",3,"ngModelChange","ngModel"],["for","passwordInput"],["id","passwordInput","type","password","placeholder","Enter password",3,"ngModelChange","ngModel"],["type","button",1,"submit-btn",3,"click","disabled"],[1,"demo-users"],[1,"demo-grid"],["type","button",1,"demo-btn",3,"disabled"],["type","button",1,"demo-btn",3,"click","disabled"]],template:function(t,r){t&1&&(f(0,"main",0)(1,"section",1)(2,"p",2),l(3,"Enterprise Access"),u(),f(4,"h1"),l(5,"Sign In"),u(),f(6,"p",3),l(7,"Use your role account to access admin and dispatch consoles."),u(),j(8,fO,2,1,"p",4),j(9,pO,2,1,"p",5),f(10,"label",6),l(11,"Email"),u(),f(12,"input",7),J("ngModelChange",function(o){return ee(r.email,o)||(r.email=o),o}),u(),f(13,"label",8),l(14,"Password"),u(),f(15,"input",9),J("ngModelChange",function(o){return ee(r.password,o)||(r.password=o),o}),u(),f(16,"button",10),U("click",function(){return r.submit()}),l(17),u(),f(18,"div",11)(19,"p"),l(20,"Demo users"),u(),f(21,"div",12),Y(22,hO,2,2,"button",13,c_),u(),Y(24,mO,2,2,"small",null,c_),u()()()),t&2&&(h(8),V(r.infoMessage?8:-1),h(),V(r.errorMessage?9:-1),h(3),Q("ngModel",r.email),h(3),Q("ngModel",r.password),h(),$("disabled",r.isSubmitting),h(),S(" ",r.isSubmitting?"Signing in...":"Sign In"," "),h(5),K(r.demoAccounts),h(2),K(r.demoAccounts))},dependencies:[Pe,On,$t,Tn,ln],styles:['.login-shell[_ngcontent-%COMP%]{min-height:calc(100vh - 90px);display:grid;place-items:center;padding:1.2rem 1rem 2rem}.login-card[_ngcontent-%COMP%]{width:min(460px,100%);border-radius:24px;border:1px solid rgba(20,82,45,.22);background:#fff;box-shadow:0 22px 38px #0d3b1f26;padding:1.2rem 1.1rem;color:#1e472f}.kicker[_ngcontent-%COMP%]{margin:0 0 .3rem;font-family:Fredoka,sans-serif;font-size:.82rem;letter-spacing:.16em;color:#1f7a3f;text-transform:uppercase;font-weight:700}h1[_ngcontent-%COMP%]{margin:0;font-family:"Baloo 2",sans-serif;font-size:clamp(1.7rem,3vw,2.35rem)}.lead[_ngcontent-%COMP%]{margin:.45rem 0 .85rem;font-family:Fredoka,sans-serif;color:#476453}label[_ngcontent-%COMP%]{display:block;margin-top:.65rem;margin-bottom:.28rem;font-family:Fredoka,sans-serif;font-weight:600}input[_ngcontent-%COMP%]{width:100%;border:1px solid rgba(25,92,55,.24);border-radius:12px;background:#f6faf7;padding:.6rem .62rem;font-family:Fredoka,sans-serif;color:#1f4d33}.submit-btn[_ngcontent-%COMP%]{width:100%;margin-top:.95rem;border:0;border-radius:12px;padding:.58rem .9rem;background:linear-gradient(130deg,#1d733c,#84cd3c);color:#fff;font-family:Fredoka,sans-serif;font-weight:700;cursor:pointer}.submit-btn[_ngcontent-%COMP%]:disabled{opacity:.55;cursor:not-allowed}.info[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]{border-radius:10px;padding:.52rem .62rem;font-family:Fredoka,sans-serif;margin:.35rem 0}.info[_ngcontent-%COMP%]{border:1px solid rgba(31,110,64,.2);background:#edf9ef;color:#236940}.error[_ngcontent-%COMP%]{border:1px solid rgba(167,42,42,.25);background:#fff1f1;color:#9f2424}.demo-users[_ngcontent-%COMP%]{margin-top:1rem;padding:.7rem;border-radius:12px;background:#f4fbf5;border:1px dashed rgba(23,93,54,.24);display:grid;gap:.16rem}.demo-users[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .demo-users[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{margin:0;font-family:Fredoka,sans-serif}.demo-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.35rem}.demo-btn[_ngcontent-%COMP%]{border:1px solid rgba(21,90,52,.26);border-radius:999px;background:#fff;color:#205535;font-family:Fredoka,sans-serif;font-weight:700;font-size:.78rem;padding:.35rem .65rem;cursor:pointer}.demo-btn[_ngcontent-%COMP%]:disabled{opacity:.55;cursor:not-allowed}.demo-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#84cd3c24}']})};var Jl=(e,n)=>{let t=v(Ct),r=v(Re);if(!t.isAuthenticated())return r.createUrlTree(["/login"],{queryParams:{returnUrl:n.url}});let i=e.data?.roles??[];return i.length>0&&!t.hasAnyRole(i)?r.createUrlTree(["/login"],{queryParams:{returnUrl:n.url,reason:"forbidden"}}):!0};var kh=class e{storageKey="greenspoon-tenants-v1";defaultPlans=[{plan:"monthly",durationDays:30,amount:4999,currency:"INR"},{plan:"quarterly",durationDays:90,amount:13999,currency:"INR"},{plan:"yearly",durationDays:365,amount:49999,currency:"INR"}];async listPlans(){return[...this.defaultPlans]}async listTenants(){let n=this.readAll();return Object.values(n).sort((t,r)=>t.tenantId.localeCompare(r.tenantId))}async createTenant(n){let t=this.readAll();if(t[n.tenantId])throw new Error("tenantId already exists.");let r=Date.now(),i=this.defaultPlans.find(s=>s.plan===n.plan)??this.defaultPlans[0],o={tenantId:n.tenantId,name:n.name,createdAt:r,updatedAt:r,subscription:{tenantId:n.tenantId,plan:i.plan,status:n.status,amount:i.amount,currency:i.currency,startAt:r,currentPeriodStart:r,currentPeriodEnd:r+i.durationDays*24*60*60*1e3,updatedAt:r}};return t[n.tenantId]=o,this.persistAll(t),o}async getTenantSubscription(n){return this.readAll()[n]?.subscription??null}async updateTenantSubscription(n,t){let r=this.readAll(),i=r[n];if(!i?.subscription)return null;let o=Date.now(),s=this.defaultPlans.find(d=>d.plan===t.plan)??this.defaultPlans[0],a=t.startAt??o,c=R(_({},i.subscription),{plan:t.plan,status:t.status,amount:s.amount,currency:s.currency,startAt:a,currentPeriodStart:a,currentPeriodEnd:a+s.durationDays*24*60*60*1e3,updatedAt:o});return r[n]=R(_({},i),{updatedAt:o,subscription:c}),this.persistAll(r),c}async updateTenantSubscriptionStatus(n,t){let r=this.readAll(),i=r[n];if(!i?.subscription)return null;let o=Date.now(),s=R(_({},i.subscription),{status:t.status,updatedAt:o});return r[n]=R(_({},i),{updatedAt:o,subscription:s}),this.persistAll(r),s}readAll(){try{if(!this.canUseStorage())return{};let n=localStorage.getItem(this.storageKey);if(!n)return{};let t=JSON.parse(n);return t&&typeof t=="object"?t:{}}catch{return{}}}persistAll(n){this.canUseStorage()&&localStorage.setItem(this.storageKey,JSON.stringify(n))}canUseStorage(){return typeof window<"u"&&typeof localStorage<"u"}static \u0275fac=function(t){return new(t||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})},Fh=class e{constructor(n){this.http=n}baseUrl=xe.api.baseUrl;listPlans(){return he(this.http.get(`${this.baseUrl}/subscriptions/plans`))}listTenants(){return he(this.http.get(`${this.baseUrl}/tenants`))}createTenant(n){return he(this.http.post(`${this.baseUrl}/tenants`,n))}async getTenantSubscription(n){try{return await he(this.http.get(`${this.baseUrl}/tenants/${encodeURIComponent(n)}/subscription`))}catch(t){if(this.isNotFound(t))return null;throw t}}async updateTenantSubscription(n,t){try{return await he(this.http.put(`${this.baseUrl}/tenants/${encodeURIComponent(n)}/subscription`,t))}catch(r){if(this.isNotFound(r))return null;throw r}}async updateTenantSubscriptionStatus(n,t){try{return await he(this.http.patch(`${this.baseUrl}/tenants/${encodeURIComponent(n)}/subscription/status`,t))}catch(r){if(this.isNotFound(r))return null;throw r}}isNotFound(n){return n instanceof _e&&n.status===404}static \u0275fac=function(t){return new(t||e)(T(Mn))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})},Xl=class e{constructor(n,t){this.local=n;this.remote=t;this.adapter=xe.api.orderApiMode==="http"?this.remote:this.local}adapter;listPlans(){return this.adapter.listPlans()}listTenants(){return this.adapter.listTenants()}createTenant(n){return this.adapter.createTenant(n)}getTenantSubscription(n){return this.adapter.getTenantSubscription(n)}updateTenantSubscription(n,t){return this.adapter.updateTenantSubscription(n,t)}updateTenantSubscriptionStatus(n,t){return this.adapter.updateTenantSubscriptionStatus(n,t)}static \u0275fac=function(t){return new(t||e)(T(kh),T(Fh))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};var l_=(e,n)=>n.plan,yO=(e,n)=>n.tenantId;function vO(e,n){if(e&1&&(f(0,"option",11),l(1),u()),e&2){let t=n.$implicit,r=C();$("value",t.plan),h(),qe("",r.planLabel(t.plan)," - INR ",t.amount)}}function CO(e,n){if(e&1&&(f(0,"option",11),l(1),u()),e&2){let t=n.$implicit,r=C();$("value",t),h(),I(r.statusLabel(t))}}function _O(e,n){if(e&1&&(f(0,"section",17),l(1),u()),e&2){let t=C();h(),I(t.errorMessage())}}function bO(e,n){if(e&1&&(f(0,"section",18),l(1),u()),e&2){let t=C();h(),I(t.statusMessage())}}function DO(e,n){e&1&&(f(0,"section",19),l(1,"Loading tenants..."),u())}function EO(e,n){e&1&&(f(0,"section",19),l(1,"No tenants found."),u())}function wO(e,n){if(e&1&&(f(0,"p")(1,"strong"),l(2,"Current Plan:"),u(),l(3),u(),f(4,"p")(5,"strong"),l(6,"Period End:"),u(),l(7),Ze(8,"date"),u()),e&2){let t=C().$implicit,r=C(2);h(3),qe(" ",r.planLabel(t.subscription.plan)," (INR ",t.subscription.amount,") "),h(4),S(" ",Ye(8,3,t.subscription.currentPeriodEnd,"medium")," ")}}function MO(e,n){e&1&&(f(0,"p")(1,"strong"),l(2,"Subscription:"),u(),l(3," Missing"),u())}function IO(e,n){if(e&1&&(f(0,"option",11),l(1),u()),e&2){let t=n.$implicit,r=C(3);$("value",t.plan),h(),I(r.planLabel(t.plan))}}function SO(e,n){if(e&1&&(f(0,"option",11),l(1),u()),e&2){let t=n.$implicit,r=C(3);$("value",t),h(),I(r.statusLabel(t))}}function xO(e,n){if(e&1){let t=se();f(0,"article",21)(1,"div",22)(2,"div")(3,"p",23),l(4),u(),f(5,"h2"),l(6),u()(),f(7,"span",24),l(8),u()(),f(9,"div",25)(10,"p")(11,"strong"),l(12,"Created:"),u(),l(13),Ze(14,"date"),u(),f(15,"p")(16,"strong"),l(17,"Updated:"),u(),l(18),Ze(19,"date"),u(),j(20,wO,9,6)(21,MO,4,0,"p"),u(),f(22,"div",26)(23,"label",27),l(24,"Plan"),u(),f(25,"select",28),J("ngModelChange",function(i){let o=N(t).$implicit,s=C(2);return ee(s.draft(o.tenantId).plan,i)||(s.draft(o.tenantId).plan=i),k(i)}),Y(26,IO,2,2,"option",11,l_),u(),f(28,"label",27),l(29,"Status"),u(),f(30,"select",28),J("ngModelChange",function(i){let o=N(t).$implicit,s=C(2);return ee(s.draft(o.tenantId).status,i)||(s.draft(o.tenantId).status=i),k(i)}),Y(31,SO,2,2,"option",11,at),u()(),f(33,"div",29)(34,"button",30),U("click",function(){let i=N(t).$implicit,o=C(2);return k(o.saveSubscription(i))}),l(35),u(),f(36,"button",31),U("click",function(){let i=N(t).$implicit,o=C(2);return k(o.setStatus(i,"suspended"))}),l(37," Suspend "),u(),f(38,"button",32),U("click",function(){let i=N(t).$implicit,o=C(2);return k(o.setStatus(i,"active"))}),l(39," Activate "),u()()()}if(e&2){let t=n.$implicit,r=C(2);h(4),I(t.tenantId),h(2),I(t.name),h(2),I(r.statusLabel(r.draft(t.tenantId).status)),h(5),S(" ",Ye(14,16,t.createdAt,"medium")),h(5),S(" ",Ye(19,19,t.updatedAt,"mediumTime")),h(2),V(t.subscription?20:21),h(3),$("for","plan-"+t.tenantId),h(2),$("id","plan-"+t.tenantId),Q("ngModel",r.draft(t.tenantId).plan),h(),K(r.plans()),h(2),$("for","status-"+t.tenantId),h(2),$("id","status-"+t.tenantId),Q("ngModel",r.draft(t.tenantId).status),h(),K(r.statusOptions),h(3),$("disabled",r.busySaveTenant()===t.tenantId),h(),S(" ",r.busySaveTenant()===t.tenantId?"Saving...":"Save Plan + Status"," "),h(),$("disabled",r.busySaveTenant()===t.tenantId),h(2),$("disabled",r.busySaveTenant()===t.tenantId)}}function TO(e,n){if(e&1&&(f(0,"section",20),Y(1,xO,40,22,"article",21,yO),u()),e&2){let t=C();h(),K(t.tenants())}}var eu=class e{constructor(n){this.tenantApi=n}loading=L(!0);busyCreate=L(!1);busySaveTenant=L("");statusMessage=L("");errorMessage=L("");plans=L([]);tenants=L([]);tenantIdInput="";tenantNameInput="";tenantPlanInput="monthly";tenantStatusInput="trial";statusOptions=["trial","active","past_due","suspended","cancelled"];drafts={};ngOnInit(){this.loadData()}async refresh(){await this.loadData()}draft(n){if(!this.drafts[n]){let t=this.tenants().find(r=>r.tenantId===n);this.drafts[n]={plan:t?.subscription?.plan??this.tenantPlanInput,status:t?.subscription?.status??this.tenantStatusInput}}return this.drafts[n]}async createTenant(){let n=this.tenantIdInput.trim(),t=this.tenantNameInput.trim();if(!n||!t){this.errorMessage.set("Tenant ID and name are required.");return}this.busyCreate.set(!0),this.errorMessage.set(""),this.statusMessage.set("");try{let r=await this.tenantApi.createTenant({tenantId:n,name:t,plan:this.tenantPlanInput,status:this.tenantStatusInput});this.tenants.update(i=>[...i,r].sort((o,s)=>o.tenantId.localeCompare(s.tenantId))),this.drafts[r.tenantId]={plan:r.subscription?.plan??this.tenantPlanInput,status:r.subscription?.status??this.tenantStatusInput},this.tenantIdInput="",this.tenantNameInput="",this.tenantPlanInput="monthly",this.tenantStatusInput="trial",this.statusMessage.set(`Tenant ${r.tenantId} created.`)}catch(r){this.errorMessage.set(this.extractErrorMessage(r))}finally{this.busyCreate.set(!1)}}async saveSubscription(n){let t=this.draft(n.tenantId);this.busySaveTenant.set(n.tenantId),this.errorMessage.set(""),this.statusMessage.set("");try{let r=await this.tenantApi.updateTenantSubscription(n.tenantId,{plan:t.plan,status:t.status});if(!r){this.errorMessage.set("Subscription not found for this tenant.");return}this.tenants.update(i=>i.map(o=>o.tenantId===n.tenantId?R(_({},o),{subscription:r,updatedAt:Date.now()}):o)),this.statusMessage.set(`Subscription updated for ${n.tenantId}.`)}catch(r){this.errorMessage.set(this.extractErrorMessage(r))}finally{this.busySaveTenant.set("")}}async setStatus(n,t){this.busySaveTenant.set(n.tenantId),this.errorMessage.set(""),this.statusMessage.set("");try{let r=await this.tenantApi.updateTenantSubscriptionStatus(n.tenantId,{status:t});if(!r){this.errorMessage.set("Subscription not found for this tenant.");return}this.draft(n.tenantId).status=r.status,this.tenants.update(i=>i.map(o=>o.tenantId===n.tenantId?R(_({},o),{subscription:r,updatedAt:Date.now()}):o)),this.statusMessage.set(`Status updated to ${r.status} for ${n.tenantId}.`)}catch(r){this.errorMessage.set(this.extractErrorMessage(r))}finally{this.busySaveTenant.set("")}}planLabel(n){switch(n){case"monthly":return"Monthly";case"quarterly":return"Quarterly";case"yearly":return"Yearly";default:return n}}statusLabel(n){return n.replace("_"," ")}async loadData(){this.loading.set(!0),this.errorMessage.set(""),this.statusMessage.set("");try{let[n,t]=await Promise.all([this.tenantApi.listPlans(),this.tenantApi.listTenants()]);this.plans.set(n),this.tenants.set(t);for(let r of t)this.drafts[r.tenantId]={plan:r.subscription?.plan??"monthly",status:r.subscription?.status??"trial"}}catch(n){this.errorMessage.set(this.extractErrorMessage(n))}finally{this.loading.set(!1)}}extractErrorMessage(n){return n instanceof _e?typeof n.error?.message=="string"?n.error.message:`Request failed with status ${n.status}.`:n instanceof Error?n.message:"Unexpected error. Please try again."}static \u0275fac=function(t){return new(t||e)(w(Xl))};static \u0275cmp=re({type:e,selectors:[["app-admin-tenants"]],decls:38,vars:9,consts:[[1,"tenant-shell"],[1,"tenant-head"],[1,"kicker"],[1,"create-card"],[1,"create-grid"],["for","tenantIdInput"],["id","tenantIdInput","type","text","placeholder","e.g. greenspoon-tenant-a",3,"ngModelChange","ngModel"],["for","tenantNameInput"],["id","tenantNameInput","type","text","placeholder","e.g. Green Spoon Tenant A",3,"ngModelChange","ngModel"],["for","tenantPlanInput"],["id","tenantPlanInput",3,"ngModelChange","ngModel"],[3,"value"],["for","tenantStatusInput"],["id","tenantStatusInput",3,"ngModelChange","ngModel"],["type","button",1,"primary-btn",3,"click","disabled"],[1,"toolbar"],["type","button",1,"refresh-btn",3,"click"],[1,"error-box"],[1,"success-box"],[1,"placeholder"],[1,"tenant-grid"],[1,"tenant-card"],[1,"card-head"],[1,"tenant-id"],[1,"status-chip"],[1,"meta-grid"],[1,"edit-grid"],[3,"for"],[3,"ngModelChange","id","ngModel"],[1,"actions"],["type","button",3,"click","disabled"],["type","button",1,"danger-btn",3,"click","disabled"],["type","button",1,"success-btn",3,"click","disabled"]],template:function(t,r){t&1&&(f(0,"main",0)(1,"section",1)(2,"p",2),l(3,"Platform Console"),u(),f(4,"h1"),l(5,"Tenant and Subscription Operations"),u(),f(6,"p"),l(7,"Create tenants, assign plans, and control operational subscription status."),u()(),f(8,"section",3)(9,"h2"),l(10,"Create Tenant"),u(),f(11,"div",4)(12,"label",5),l(13,"Tenant ID"),u(),f(14,"input",6),J("ngModelChange",function(o){return ee(r.tenantIdInput,o)||(r.tenantIdInput=o),o}),u(),f(15,"label",7),l(16,"Tenant Name"),u(),f(17,"input",8),J("ngModelChange",function(o){return ee(r.tenantNameInput,o)||(r.tenantNameInput=o),o}),u(),f(18,"label",9),l(19,"Plan"),u(),f(20,"select",10),J("ngModelChange",function(o){return ee(r.tenantPlanInput,o)||(r.tenantPlanInput=o),o}),Y(21,vO,2,3,"option",11,l_),u(),f(23,"label",12),l(24,"Initial Status"),u(),f(25,"select",13),J("ngModelChange",function(o){return ee(r.tenantStatusInput,o)||(r.tenantStatusInput=o),o}),Y(26,CO,2,2,"option",11,at),u()(),f(28,"button",14),U("click",function(){return r.createTenant()}),l(29),u()(),f(30,"section",15)(31,"button",16),U("click",function(){return r.refresh()}),l(32,"Refresh"),u()(),j(33,_O,2,1,"section",17),j(34,bO,2,1,"section",18),j(35,DO,2,0,"section",19)(36,EO,2,0,"section",19)(37,TO,3,0,"section",20),u()),t&2&&(h(14),Q("ngModel",r.tenantIdInput),h(3),Q("ngModel",r.tenantNameInput),h(3),Q("ngModel",r.tenantPlanInput),h(),K(r.plans()),h(4),Q("ngModel",r.tenantStatusInput),h(),K(r.statusOptions),h(2),$("disabled",r.busyCreate()),h(),S(" ",r.busyCreate()?"Creating...":"Create Tenant"," "),h(4),V(r.errorMessage()?33:-1),h(),V(r.statusMessage()?34:-1),h(),V(r.loading()?35:r.tenants().length===0?36:37))},dependencies:[Pe,On,Vl,Bl,$t,Ki,Tn,ln,wt],styles:['.tenant-shell[_ngcontent-%COMP%]{width:min(1160px,100%);margin:0 auto;padding:1.2rem 1rem 3rem;color:#1b412d}.kicker[_ngcontent-%COMP%]{margin:0 0 .35rem;font-family:Fredoka,sans-serif;font-size:.82rem;letter-spacing:.18em;color:#1f7a3f;text-transform:uppercase;font-weight:700}.tenant-head[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-family:"Baloo 2",sans-serif;font-size:clamp(1.65rem,3vw,2.5rem)}.tenant-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.45rem 0 0;font-family:Fredoka,sans-serif;color:#3e5f4d}.create-card[_ngcontent-%COMP%]{margin-top:1rem;border-radius:18px;border:1px solid rgba(31,103,58,.2);background:#fff;box-shadow:0 16px 30px #11402414;padding:1rem}.create-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 .7rem;font-family:"Baloo 2",sans-serif}.create-grid[_ngcontent-%COMP%], .edit-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:.55rem .7rem}label[_ngcontent-%COMP%]{display:block;font-family:Fredoka,sans-serif;font-weight:600;margin-bottom:.2rem}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;border:1px solid rgba(27,95,55,.24);border-radius:12px;background:#f6faf7;padding:.55rem .62rem;font-family:Fredoka,sans-serif;color:#1f4d33}.primary-btn[_ngcontent-%COMP%], .refresh-btn[_ngcontent-%COMP%], .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:.8rem;border:0;border-radius:12px;padding:.52rem .9rem;background:#1f7a3f;color:#fff;font-family:Fredoka,sans-serif;font-weight:700;cursor:pointer}.primary-btn[_ngcontent-%COMP%]:disabled, .refresh-btn[_ngcontent-%COMP%]:disabled, .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.toolbar[_ngcontent-%COMP%]{margin-top:.9rem;display:flex;justify-content:flex-end}.error-box[_ngcontent-%COMP%], .success-box[_ngcontent-%COMP%]{margin-top:.9rem;border-radius:12px;padding:.62rem .8rem;font-family:Fredoka,sans-serif}.error-box[_ngcontent-%COMP%]{border:1px solid rgba(167,42,42,.25);background:#fff1f1;color:#9f2424}.success-box[_ngcontent-%COMP%]{border:1px solid rgba(30,110,61,.2);background:#edf9ef;color:#236940}.placeholder[_ngcontent-%COMP%]{margin-top:1rem;border-radius:16px;border:1px dashed rgba(37,84,56,.25);background:#f5fbf6;min-height:120px;display:grid;place-items:center;font-family:Fredoka,sans-serif;font-weight:600}.tenant-grid[_ngcontent-%COMP%]{margin-top:1rem;display:grid;grid-template-columns:repeat(auto-fit,minmax(340px,1fr));gap:.9rem}.tenant-card[_ngcontent-%COMP%]{border-radius:18px;border:1px solid rgba(31,103,58,.2);background:#fff;box-shadow:0 16px 30px #11402414;padding:1rem}.card-head[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;gap:.7rem}.tenant-id[_ngcontent-%COMP%]{margin:0;font-family:Fredoka,sans-serif;font-size:.8rem;font-weight:700;color:#2f7a4a}.card-head[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:.24rem 0 0;font-family:"Baloo 2",sans-serif;font-size:1.2rem}.status-chip[_ngcontent-%COMP%]{border-radius:999px;padding:.22rem .65rem;font-family:Fredoka,sans-serif;font-weight:700;font-size:.78rem;background:#ecf6ed;color:#1a693a;text-transform:capitalize}.meta-grid[_ngcontent-%COMP%]{margin-top:.65rem;display:grid;gap:.28rem}.meta-grid[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-family:Fredoka,sans-serif;color:#355545}.actions[_ngcontent-%COMP%]{margin-top:.7rem;display:flex;flex-wrap:wrap;gap:.55rem}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:0}.actions[_ngcontent-%COMP%]   .danger-btn[_ngcontent-%COMP%]{background:#8f2727}.actions[_ngcontent-%COMP%]   .success-btn[_ngcontent-%COMP%]{background:#1f7a3f}@media(max-width:860px){.create-grid[_ngcontent-%COMP%], .edit-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}']})};var Qi=class e{blockStateSignal=L(null);blockState=this.blockStateSignal.asReadonly();setBlocked(n){this.blockStateSignal.set(R(_({},n),{detectedAt:Date.now()}))}clear(){this.blockStateSignal.set(null)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};function AO(e,n){if(e&1&&(f(0,"p")(1,"strong"),l(2,"Period End:"),u(),l(3),Ze(4,"date"),u()),e&2){let t=C(2);h(3),S(" ",Ye(4,1,t.state().currentPeriodEnd,"medium"))}}function PO(e,n){if(e&1&&(f(0,"div",3)(1,"p")(2,"strong"),l(3,"Tenant:"),u(),l(4),u(),f(5,"p")(6,"strong"),l(7,"Status:"),u(),l(8),u(),j(9,AO,5,4,"p"),f(10,"p")(11,"strong"),l(12,"Message:"),u(),l(13),u()()),e&2){let t=C();h(4),S(" ",t.state().tenantId||"Unknown"),h(4),S(" ",t.state().subscriptionStatus||"Unknown"),h(),V(t.state().currentPeriodEnd?9:-1),h(4),S(" ",t.state().message)}}function RO(e,n){if(e&1){let t=se();f(0,"a",8),U("click",function(){N(t);let i=C();return k(i.clearState())}),l(1,"Open Tenant Console"),u()}}function NO(e,n){if(e&1){let t=se();f(0,"a",9),U("click",function(){N(t);let i=C();return k(i.clearState())}),l(1,"Contact Platform Support"),u()}}var tu=class e{constructor(n,t){this.subscriptionState=n;this.auth=t}state(){return this.subscriptionState.blockState()}isPlatformAdmin(){return this.auth.hasAnyRole(["platform_admin"])}clearState(){this.subscriptionState.clear()}static \u0275fac=function(t){return new(t||e)(w(Qi),w(Ct))};static \u0275cmp=re({type:e,selectors:[["app-subscription-blocked"]],decls:14,vars:2,consts:[[1,"blocked-shell"],[1,"blocked-card"],[1,"kicker"],[1,"details"],[1,"actions"],["routerLink","/admin/tenants"],["routerLink","/contact"],["routerLink","/",3,"click"],["routerLink","/admin/tenants",3,"click"],["routerLink","/contact",3,"click"]],template:function(t,r){t&1&&(f(0,"main",0)(1,"section",1)(2,"p",2),l(3,"Subscription Required"),u(),f(4,"h1"),l(5,"Tenant Subscription Is Not Active"),u(),f(6,"p"),l(7," Order processing is currently blocked. Renew or reactivate the subscription to continue operations. "),u(),j(8,PO,14,4,"div",3),f(9,"div",4),j(10,RO,2,0,"a",5)(11,NO,2,0,"a",6),f(12,"a",7),U("click",function(){return r.clearState()}),l(13,"Back To Home"),u()()()()),t&2&&(h(8),V(r.state()?8:-1),h(2),V(r.isPlatformAdmin()?10:11))},dependencies:[Pe,we,wt],styles:['.blocked-shell[_ngcontent-%COMP%]{min-height:calc(100vh - 90px);display:grid;place-items:center;padding:1.3rem 1rem 2.2rem}.blocked-card[_ngcontent-%COMP%]{width:min(620px,100%);border-radius:22px;border:1px solid rgba(124,44,24,.28);background:#fffaf5;box-shadow:0 18px 32px #71281729;padding:1.2rem 1.05rem;color:#4f2b1f}.kicker[_ngcontent-%COMP%]{margin:0 0 .35rem;font-family:Fredoka,sans-serif;font-size:.82rem;letter-spacing:.18em;color:#a34f2e;text-transform:uppercase;font-weight:700}h1[_ngcontent-%COMP%]{margin:0;font-family:"Baloo 2",sans-serif;font-size:clamp(1.65rem,3vw,2.35rem)}p[_ngcontent-%COMP%]{font-family:Fredoka,sans-serif}.details[_ngcontent-%COMP%]{margin-top:.82rem;border-radius:14px;border:1px solid rgba(157,80,42,.22);background:#fff3e8;padding:.7rem;display:grid;gap:.25rem}.details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.actions[_ngcontent-%COMP%]{margin-top:.9rem;display:flex;gap:.55rem;flex-wrap:wrap}.actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;border-radius:10px;background:#8f4024;color:#fff;font-family:Fredoka,sans-serif;font-weight:700;padding:.45rem .75rem}']})};var u_=[{path:"",component:Ml},{path:"menu",component:Il},{path:"cart",component:Sl},{path:"checkout",component:zl},{path:"my-orders",component:Kl},{path:"login",component:Ql},{path:"subscription-blocked",component:tu},{path:"track/:orderId",component:ql},{path:"about",component:Wl},{path:"contact",component:Gl},{path:"admin/tenants",component:eu,canActivate:[Jl],data:{roles:["platform_admin"]}},{path:"admin/orders",component:Zl,canActivate:[Jl],data:{roles:["platform_admin","restaurant_owner","manager"]}},{path:"admin/dispatch",component:Yl,canActivate:[Jl],data:{roles:["platform_admin","restaurant_owner","manager","dispatch"]}},{path:"**",redirectTo:""}];var d_=new os(()=>!1),f_=(e,n)=>{let t=v(Ct),r=v(Re),i=v(Qi);if(!t.shouldAttachToken(e.url))return n(e);let o=t.accessToken(),s=o?e.clone({setHeaders:{Authorization:`Bearer ${o}`}}):e;return n(s).pipe(dn(a=>{if(a instanceof _e&&a.status===402){let c=a.error?.details??{};return i.setBlocked({tenantId:c.tenantId,subscriptionStatus:c.subscriptionStatus,currentPeriodEnd:c.currentPeriodEnd??null,message:typeof a.error?.message=="string"?a.error.message:"Subscription is inactive for this tenant."}),r.navigate(["/subscription-blocked"]),Pn(()=>a)}return!(a instanceof _e)||a.status!==401||e.context.get(d_)?Pn(()=>a):fe(t.refreshAccessToken()).pipe(Qe(c=>{if(!c)return fe(t.logout()).subscribe({complete:()=>{r.navigate(["/login"],{queryParams:{reason:"session_expired",returnUrl:r.url||"/"}})}}),Pn(()=>a);let d=t.accessToken();if(!d)return Pn(()=>a);let p=e.clone({setHeaders:{Authorization:`Bearer ${d}`},context:e.context.set(d_,!0)});return n(p)}),dn(c=>(fe(t.logout()).subscribe({complete:()=>{r.navigate(["/login"],{queryParams:{reason:"session_expired",returnUrl:r.url||"/"}})}}),Pn(()=>c))))}))};var p_={providers:[Rd(),Up(Hp([f_])),yh(u_)]};var kO=()=>({exact:!0});function FO(e,n){e&1&&(f(0,"a",8),l(1,"My Orders"),u())}function LO(e,n){e&1&&(f(0,"a",11),l(1,"Tenants"),u())}function jO(e,n){e&1&&(f(0,"a",12),l(1,"Orders"),u())}function VO(e,n){e&1&&(f(0,"a",13),l(1,"Dispatch"),u())}function BO(e,n){if(e&1){let t=se();f(0,"div",18)(1,"strong"),l(2),u(),f(3,"small"),l(4),u()(),f(5,"button",19),U("click",function(){N(t);let i=C();return k(i.logout())}),l(6,"Logout"),u()}if(e&2){let t=C();h(2),I(t.currentUserName()),h(2),I(t.currentRoleLabel())}}function UO(e,n){e&1&&(f(0,"a",15),l(1,"Login"),u())}var nu=class e{constructor(n,t,r){this.cart=n;this.auth=t;this.router=r}cartCount(){return this.cart.itemCount()}isAuthenticated(){return this.auth.isAuthenticated()}canAccessAdmin(){return this.auth.hasAnyRole(["platform_admin","restaurant_owner","manager"])}canAccessTenantOps(){return this.auth.hasAnyRole(["platform_admin"])}canAccessDispatch(){return this.auth.hasAnyRole(["platform_admin","restaurant_owner","manager","dispatch"])}showMyOrders(){let n=this.auth.session();return n?n.role==="customer":!0}currentUserName(){return this.auth.session()?.name??""}currentRoleLabel(){let n=this.auth.session()?.role;return n?this.roleLabel(n):""}async logout(){await this.auth.logout(),await this.router.navigate(["/"])}roleLabel(n){switch(n){case"platform_admin":return"Platform Admin";case"restaurant_owner":return"Owner";case"manager":return"Manager";case"dispatch":return"Dispatch";case"kitchen":return"Kitchen";case"rider":return"Rider";case"customer":return"Customer";default:return n}}static \u0275fac=function(t){return new(t||e)(w(Ht),w(Ct),w(Re))};static \u0275cmp=re({type:e,selectors:[["app-header"]],decls:27,vars:8,consts:[[1,"site-header"],[1,"header-inner"],["routerLink","/","aria-label","Green Spoon Home",1,"brand"],[1,"brand-green"],[1,"brand-spoon"],["aria-label","Primary navigation",1,"main-nav"],["routerLink","/","routerLinkActive","active",3,"routerLinkActiveOptions"],["routerLink","/menu","routerLinkActive","active"],["routerLink","/my-orders","routerLinkActive","active"],["routerLink","/about","routerLinkActive","active"],["routerLink","/contact","routerLinkActive","active"],["routerLink","/admin/tenants","routerLinkActive","active"],["routerLink","/admin/orders","routerLinkActive","active"],["routerLink","/admin/dispatch","routerLinkActive","active"],[1,"right-actions"],["routerLink","/login","routerLinkActive","active-auth",1,"login-link"],["routerLink","/cart","aria-label","Open cart",1,"cart-link"],[1,"cart-count"],["aria-label","Signed in user",1,"user-chip"],["type","button",1,"logout-btn",3,"click"]],template:function(t,r){t&1&&(f(0,"header",0)(1,"div",1)(2,"a",2)(3,"span",3),l(4,"Green"),u(),f(5,"span",4),l(6,"Spoon"),u()(),f(7,"nav",5)(8,"a",6),l(9,"Home"),u(),f(10,"a",7),l(11,"Menu"),u(),j(12,FO,2,0,"a",8),f(13,"a",9),l(14,"About"),u(),f(15,"a",10),l(16,"Contact"),u(),j(17,LO,2,0,"a",11),j(18,jO,2,0,"a",12),j(19,VO,2,0,"a",13),u(),f(20,"div",14),j(21,BO,7,2)(22,UO,2,0,"a",15),f(23,"a",16),l(24," Cart "),f(25,"span",17),l(26),u()()()()()),t&2&&(h(8),$("routerLinkActiveOptions",yp(7,kO)),h(4),V(r.showMyOrders()?12:-1),h(5),V(r.canAccessTenantOps()?17:-1),h(),V(r.canAccessAdmin()?18:-1),h(),V(r.canAccessDispatch()?19:-1),h(2),V(r.isAuthenticated()?21:22),h(5),I(r.cartCount()))},dependencies:[Ch,we,gh],styles:[".site-header[_ngcontent-%COMP%]{position:sticky;top:0;left:0;width:100%;z-index:1200;padding:.85rem 1rem}.header-inner[_ngcontent-%COMP%]{width:min(1160px,100%);margin-inline:auto;display:flex;align-items:center;gap:1rem;padding:.55rem .75rem;border-radius:999px;border:1px solid rgba(16,70,38,.18);background:#ffffffe6;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);box-shadow:0 14px 30px #0b2f1924}.brand[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.25rem;text-decoration:none;font-family:Modak,cursive;font-size:clamp(1.5rem,3vw,2rem);line-height:1;letter-spacing:.6px;margin-left:.4rem}.brand-green[_ngcontent-%COMP%]{color:#0f4f2a}.brand-spoon[_ngcontent-%COMP%]{color:#85cd3c}.main-nav[_ngcontent-%COMP%]{margin-left:auto;margin-right:.5rem;display:flex;align-items:center;gap:.25rem}.right-actions[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.55rem}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-family:Fredoka,sans-serif;color:#234c34;font-weight:600;font-size:.92rem;padding:.45rem .8rem;border-radius:999px;transition:background-color .2s ease,color .2s ease}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#85cd3c29}.main-nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:linear-gradient(120deg,#1f7a3f,#84cd3c);color:#fff}.login-link[_ngcontent-%COMP%], .logout-btn[_ngcontent-%COMP%]{border-radius:999px;border:1px solid rgba(25,99,56,.2);text-decoration:none;font-family:Fredoka,sans-serif;font-weight:700;font-size:.86rem;padding:.4rem .78rem;color:#1b6037;background:#fff}.logout-btn[_ngcontent-%COMP%]{cursor:pointer}.active-auth[_ngcontent-%COMP%], .login-link[_ngcontent-%COMP%]:hover, .logout-btn[_ngcontent-%COMP%]:hover{background:#84cd3c2e}.user-chip[_ngcontent-%COMP%]{border-radius:12px;border:1px solid rgba(17,82,43,.2);background:#f1faf2eb;padding:.32rem .6rem;min-width:132px;display:flex;flex-direction:column;line-height:1.1}.user-chip[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .user-chip[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-family:Fredoka,sans-serif}.user-chip[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:.78rem;color:#114f2d}.user-chip[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.7rem;color:#346148}.cart-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.4rem;text-decoration:none;border-radius:999px;background:#123e28;color:#fff;font-family:Fredoka,sans-serif;font-weight:700;padding:.45rem .95rem;box-shadow:0 10px 18px #0c361d40}.cart-count[_ngcontent-%COMP%]{min-width:20px;height:20px;border-radius:999px;background:#84cd3c;color:#103623;font-size:.72rem;font-weight:800;display:inline-flex;align-items:center;justify-content:center;line-height:1}@media(max-width:780px){.site-header[_ngcontent-%COMP%]{padding-inline:.55rem}.header-inner[_ngcontent-%COMP%]{border-radius:18px;flex-wrap:wrap;justify-content:center;row-gap:.5rem}.main-nav[_ngcontent-%COMP%]{order:3;width:100%;justify-content:center;margin:0;flex-wrap:wrap;padding-bottom:.2rem}.right-actions[_ngcontent-%COMP%]{width:100%;justify-content:center;flex-wrap:wrap}.brand[_ngcontent-%COMP%]{margin-left:0}.user-chip[_ngcontent-%COMP%]{min-width:0}}"]})};var ru=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=re({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){t&1&&ge(0,"app-header")(1,"router-outlet")},dependencies:[Cs,nu],encapsulation:2})};kp(ru,p_).catch(e=>console.error(e));
