var __=Object.defineProperty,b_=Object.defineProperties;var D_=Object.getOwnPropertyDescriptors;var Bh=Object.getOwnPropertySymbols;var E_=Object.prototype.hasOwnProperty,M_=Object.prototype.propertyIsEnumerable;var Uh=(e,n,t)=>n in e?__(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,_=(e,n)=>{for(var t in n||={})E_.call(n,t)&&Uh(e,t,n[t]);if(Bh)for(var t of Bh(n))M_.call(n,t)&&Uh(e,t,n[t]);return e},F=(e,n)=>b_(e,D_(n));var Ke=null,js=!1,du=1,w_=null,rt=Symbol("SIGNAL");function Z(e){let n=Ke;return Ke=e,n}function Us(){return Ke}var oo={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function so(e){if(js)throw new Error("");if(Ke===null)return;Ke.consumerOnSignalRead(e);let n=Ke.producersTail;if(n!==void 0&&n.producer===e)return;let t,r=Ke.recomputing;if(r&&(t=n!==void 0?n.nextProducer:Ke.producers,t!==void 0&&t.producer===e)){Ke.producersTail=t,t.lastReadVersion=e.version;return}let i=e.consumersTail;if(i!==void 0&&i.consumer===Ke&&(!r||S_(i,Ke)))return;let o=ci(Ke),s={producer:e,consumer:Ke,nextProducer:t,prevConsumer:i,lastReadVersion:e.version,nextConsumer:void 0};Ke.producersTail=s,n!==void 0?n.nextProducer=s:Ke.producers=s,o&&Wh(e,s)}function Hh(){du++}function fu(e){if(!(ci(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===du)){if(!e.producerMustRecompute(e)&&!$s(e)){uu(e);return}e.producerRecomputeValue(e),uu(e)}}function pu(e){if(e.consumers===void 0)return;let n=js;js=!0;try{for(let t=e.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||I_(r)}}finally{js=n}}function hu(){return Ke?.consumerAllowSignalWrites!==!1}function I_(e){e.dirty=!0,pu(e),e.consumerMarkedDirty?.(e)}function uu(e){e.dirty=!1,e.lastCleanEpoch=du}function ao(e){return e&&$h(e),Z(e)}function $h(e){e.producersTail=void 0,e.recomputing=!0}function Hs(e,n){Z(n),e&&zh(e)}function zh(e){e.recomputing=!1;let n=e.producersTail,t=n!==void 0?n.nextProducer:e.producers;if(t!==void 0){if(ci(e))do t=mu(t);while(t!==void 0);n!==void 0?n.nextProducer=void 0:e.producers=void 0}}function $s(e){for(let n=e.producers;n!==void 0;n=n.nextProducer){let t=n.producer,r=n.lastReadVersion;if(r!==t.version||(fu(t),r!==t.version))return!0}return!1}function co(e){if(ci(e)){let n=e.producers;for(;n!==void 0;)n=mu(n)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function Wh(e,n){let t=e.consumersTail,r=ci(e);if(t!==void 0?(n.nextConsumer=t.nextConsumer,t.nextConsumer=n):(n.nextConsumer=void 0,e.consumers=n),n.prevConsumer=t,e.consumersTail=n,!r)for(let i=e.producers;i!==void 0;i=i.nextProducer)Wh(i.producer,i)}function mu(e){let n=e.producer,t=e.nextProducer,r=e.nextConsumer,i=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:n.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(n.consumers=r,!ci(n)){let o=n.producers;for(;o!==void 0;)o=mu(o)}return t}function ci(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function gu(e){w_?.(e)}function S_(e,n){let t=n.producersTail;if(t!==void 0){let r=n.producers;do{if(r===e)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function yu(e,n){return Object.is(e,n)}function zs(e,n){let t=Object.create(x_);t.computation=e,n!==void 0&&(t.equal=n);let r=()=>{if(fu(t),so(t),t.value===Bs)throw t.error;return t.value};return r[rt]=t,gu(t),r}var cu=Symbol("UNSET"),lu=Symbol("COMPUTING"),Bs=Symbol("ERRORED"),x_=F(_({},oo),{value:cu,dirty:!0,error:null,equal:yu,kind:"computed",producerMustRecompute(e){return e.value===cu||e.value===lu},producerRecomputeValue(e){if(e.value===lu)throw new Error("");let n=e.value;e.value=lu;let t=ao(e),r,i=!1;try{r=e.computation(),Z(null),i=n!==cu&&n!==Bs&&r!==Bs&&e.equal(n,r)}catch(o){r=Bs,e.error=o}finally{Hs(e,t)}if(i){e.value=n;return}e.value=r,e.version++}});function T_(){throw new Error}var Gh=T_;function qh(e){Gh(e)}function vu(e){Gh=e}var O_=null;function Cu(e,n){let t=Object.create(Ws);t.value=e,n!==void 0&&(t.equal=n);let r=()=>Zh(t);return r[rt]=t,gu(t),[r,s=>lo(t,s),s=>Yh(t,s)]}function Zh(e){return so(e),e.value}function lo(e,n){hu()||qh(e),e.equal(e.value,n)||(e.value=n,A_(e))}function Yh(e,n){hu()||qh(e),lo(e,n(e.value))}var Ws=F(_({},oo),{equal:yu,value:void 0,kind:"signal"});function A_(e){e.version++,Hh(),pu(e),O_?.(e)}function _u(e){let n=Z(null);try{return e()}finally{Z(n)}}function X(e){return typeof e=="function"}function li(e){let t=e(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Gs=li(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function uo(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var He=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(X(r))try{r()}catch(o){n=o instanceof Gs?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Kh(o)}catch(s){n=n??[],s instanceof Gs?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Gs(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Kh(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&uo(t,n)}remove(n){let{_finalizers:t}=this;t&&uo(t,n),n instanceof e&&n._removeParent(this)}};He.EMPTY=(()=>{let e=new He;return e.closed=!0,e})();var bu=He.EMPTY;function qs(e){return e instanceof He||e&&"closed"in e&&X(e.remove)&&X(e.add)&&X(e.unsubscribe)}function Kh(e){X(e)?e():e.unsubscribe()}var Zt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ui={setTimeout(e,n,...t){let{delegate:r}=ui;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=ui;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Zs(e){ui.setTimeout(()=>{let{onUnhandledError:n}=Zt;if(n)n(e);else throw e})}function fo(){}var Qh=Du("C",void 0,void 0);function Jh(e){return Du("E",void 0,e)}function Xh(e){return Du("N",e,void 0)}function Du(e,n,t){return{kind:e,value:n,error:t}}var wr=null;function di(e){if(Zt.useDeprecatedSynchronousErrorHandling){let n=!wr;if(n&&(wr={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:r}=wr;if(wr=null,t)throw r}}else e()}function em(e){Zt.useDeprecatedSynchronousErrorHandling&&wr&&(wr.errorThrown=!0,wr.error=e)}var Ir=class extends He{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,qs(n)&&n.add(this)):this.destination=N_}static create(n,t,r){return new Qn(n,t,r)}next(n){this.isStopped?Mu(Xh(n),this):this._next(n)}error(n){this.isStopped?Mu(Jh(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Mu(Qh,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},P_=Function.prototype.bind;function Eu(e,n){return P_.call(e,n)}var wu=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){Ys(r)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){Ys(r)}else Ys(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Ys(t)}}},Qn=class extends Ir{constructor(n,t,r){super();let i;if(X(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Zt.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&Eu(n.next,o),error:n.error&&Eu(n.error,o),complete:n.complete&&Eu(n.complete,o)}):i=n}this.destination=new wu(i)}};function Ys(e){Zt.useDeprecatedSynchronousErrorHandling?em(e):Zs(e)}function R_(e){throw e}function Mu(e,n){let{onStoppedNotification:t}=Zt;t&&ui.setTimeout(()=>t(e,n))}var N_={closed:!0,next:fo,error:R_,complete:fo};var fi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Yt(e){return e}function Iu(...e){return Su(e)}function Su(e){return e.length===0?Yt:e.length===1?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}var re=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=F_(t)?t:new Qn(t,r,i);return di(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=tm(r),new r((i,o)=>{let s=new Qn({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[fi](){return this}pipe(...t){return Su(t)(this)}toPromise(t){return t=tm(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=n=>new e(n),e})();function tm(e){var n;return(n=e??Zt.Promise)!==null&&n!==void 0?n:Promise}function k_(e){return e&&X(e.next)&&X(e.error)&&X(e.complete)}function F_(e){return e&&e instanceof Ir||k_(e)&&qs(e)}function L_(e){return X(e?.lift)}function le(e){return n=>{if(L_(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ue(e,n,t,r,i){return new xu(e,n,t,r,i)}var xu=class extends Ir{constructor(n,t,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){n.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};var nm=li(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Oe=(()=>{class e extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Ks(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new nm}next(t){di(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){di(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){di(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?bu:(this.currentObservers=null,o.push(t),new He(()=>{this.currentObservers=null,uo(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new re;return t.source=this,t}}return e.create=(n,t)=>new Ks(n,t),e})(),Ks=class extends Oe{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,n)}error(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&r!==void 0?r:bu}};var $e=class extends Oe{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var ut=new re(e=>e.complete());function rm(e){return e&&X(e.schedule)}function im(e){return e[e.length-1]}function Qs(e){return X(im(e))?e.pop():void 0}function Jn(e){return rm(im(e))?e.pop():void 0}function sm(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{f(r.next(h))}catch(m){s(m)}}function c(h){try{f(r.throw(h))}catch(m){s(m)}}function f(h){h.done?o(h.value):i(h.value).then(a,c)}f((r=r.apply(e,n||[])).next())})}function om(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Sr(e){return this instanceof Sr?(this.v=e,this):new Sr(e)}function am(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(M){return Promise.resolve(M).then(g,m)}}function a(g,M){r[g]&&(i[g]=function(L){return new Promise(function(N,k){o.push([g,L,N,k])>1||c(g,L)})},M&&(i[g]=M(i[g])))}function c(g,M){try{f(r[g](M))}catch(L){y(o[0][3],L)}}function f(g){g.value instanceof Sr?Promise.resolve(g.value.v).then(h,m):y(o[0][2],g)}function h(g){c("next",g)}function m(g){c("throw",g)}function y(g,M){g(M),o.shift(),o.length&&c(o[0][0],o[0][1])}}function cm(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof om=="function"?om(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(f){o({value:f,done:a})},s)}}var Js=e=>e&&typeof e.length=="number"&&typeof e!="function";function Xs(e){return X(e?.then)}function ea(e){return X(e[fi])}function ta(e){return Symbol.asyncIterator&&X(e?.[Symbol.asyncIterator])}function na(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function V_(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ra=V_();function ia(e){return X(e?.[ra])}function oa(e){return am(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:r,done:i}=yield Sr(t.read());if(i)return yield Sr(void 0);yield yield Sr(r)}}finally{t.releaseLock()}})}function sa(e){return X(e?.getReader)}function Ae(e){if(e instanceof re)return e;if(e!=null){if(ea(e))return j_(e);if(Js(e))return B_(e);if(Xs(e))return U_(e);if(ta(e))return lm(e);if(ia(e))return H_(e);if(sa(e))return $_(e)}throw na(e)}function j_(e){return new re(n=>{let t=e[fi]();if(X(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function B_(e){return new re(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function U_(e){return new re(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Zs)})}function H_(e){return new re(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function lm(e){return new re(n=>{z_(e,n).catch(t=>n.error(t))})}function $_(e){return lm(oa(e))}function z_(e,n){var t,r,i,o;return sm(this,void 0,void 0,function*(){try{for(t=cm(e);r=yield t.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}n.complete()})}function dt(e,n,t,r=0,i=!1){let o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function aa(e,n=0){return le((t,r)=>{t.subscribe(ue(r,i=>dt(r,e,()=>r.next(i),n),()=>dt(r,e,()=>r.complete(),n),i=>dt(r,e,()=>r.error(i),n)))})}function ca(e,n=0){return le((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function um(e,n){return Ae(e).pipe(ca(n),aa(n))}function dm(e,n){return Ae(e).pipe(ca(n),aa(n))}function fm(e,n){return new re(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}function pm(e,n){return new re(t=>{let r;return dt(t,n,()=>{r=e[ra](),dt(t,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>X(r?.return)&&r.return()})}function la(e,n){if(!e)throw new Error("Iterable cannot be null");return new re(t=>{dt(t,n,()=>{let r=e[Symbol.asyncIterator]();dt(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function hm(e,n){return la(oa(e),n)}function mm(e,n){if(e!=null){if(ea(e))return um(e,n);if(Js(e))return fm(e,n);if(Xs(e))return dm(e,n);if(ta(e))return la(e,n);if(ia(e))return pm(e,n);if(sa(e))return hm(e,n)}throw na(e)}function pe(e,n){return n?mm(e,n):Ae(e)}function Q(...e){let n=Jn(e);return pe(e,n)}function Pn(e,n){let t=X(e)?e:()=>e,r=i=>i.error(t());return new re(n?i=>n.schedule(r,0,i):r)}function ua(e){return!!e&&(e instanceof re||X(e.lift)&&X(e.subscribe))}var Rn=li(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function ee(e,n){let t=typeof n=="object";return new Promise((r,i)=>{let o=new Qn({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{t?r(n.defaultValue):i(new Rn)}});e.subscribe(o)})}function ae(e,n){return le((t,r)=>{let i=0;t.subscribe(ue(r,o=>{r.next(e.call(n,o,i++))}))})}var{isArray:W_}=Array;function G_(e,n){return W_(n)?e(...n):e(n)}function da(e){return ae(n=>G_(e,n))}var{isArray:q_}=Array,{getPrototypeOf:Z_,prototype:Y_,keys:K_}=Object;function fa(e){if(e.length===1){let n=e[0];if(q_(n))return{args:n,keys:null};if(Q_(n)){let t=K_(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}function Q_(e){return e&&typeof e=="object"&&Z_(e)===Y_}function pa(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}function ha(...e){let n=Jn(e),t=Qs(e),{args:r,keys:i}=fa(e);if(r.length===0)return pe([],n);let o=new re(J_(r,n,i?s=>pa(i,s):Yt));return t?o.pipe(da(t)):o}function J_(e,n,t=Yt){return r=>{gm(n,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)gm(n,()=>{let f=pe(e[c],n),h=!1;f.subscribe(ue(r,m=>{o[c]=m,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function gm(e,n,t){e?dt(t,e,n):n()}function ym(e,n,t,r,i,o,s,a){let c=[],f=0,h=0,m=!1,y=()=>{m&&!c.length&&!f&&n.complete()},g=L=>f<r?M(L):c.push(L),M=L=>{o&&n.next(L),f++;let N=!1;Ae(t(L,h++)).subscribe(ue(n,k=>{i?.(k),o?g(k):n.next(k)},()=>{N=!0},void 0,()=>{if(N)try{for(f--;c.length&&f<r;){let k=c.shift();s?dt(n,s,()=>M(k)):M(k)}y()}catch(k){n.error(k)}}))};return e.subscribe(ue(n,g,()=>{m=!0,y()})),()=>{a?.()}}function ze(e,n,t=1/0){return X(n)?ze((r,i)=>ae((o,s)=>n(r,o,i,s))(Ae(e(r,i))),t):(typeof n=="number"&&(t=n),le((r,i)=>ym(r,i,e,t)))}function Xn(e=1/0){return ze(Yt,e)}function vm(){return Xn(1)}function pi(...e){return vm()(pe(e,Jn(e)))}function po(e){return new re(n=>{Ae(e()).subscribe(n)})}function Tu(...e){let n=Qs(e),{args:t,keys:r}=fa(e),i=new re(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,f=s;for(let h=0;h<s;h++){let m=!1;Ae(t[h]).subscribe(ue(o,y=>{m||(m=!0,f--),a[h]=y},()=>c--,void 0,()=>{(!c||!m)&&(f||o.next(r?pa(r,a):a),o.complete())}))}});return n?i.pipe(da(n)):i}function ft(e,n){return le((t,r)=>{let i=0;t.subscribe(ue(r,o=>e.call(n,o,i++)&&r.next(o)))})}function hn(e){return le((n,t)=>{let r=null,i=!1,o;r=n.subscribe(ue(t,void 0,void 0,s=>{o=Ae(e(s,hn(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function er(e,n){return X(n)?ze(e,n,1):ze(e,1)}function Ou(e){return le((n,t)=>{let r=!1;n.subscribe(ue(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function Nn(e){return e<=0?()=>ut:le((n,t)=>{let r=0;n.subscribe(ue(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function Cm(e=X_){return le((n,t)=>{let r=!1;n.subscribe(ue(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function X_(){return new Rn}function ho(e){return le((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function kn(e,n){let t=arguments.length>=2;return r=>r.pipe(e?ft((i,o)=>e(i,o,r)):Yt,Nn(1),t?Ou(n):Cm(()=>new Rn))}function ma(e){return e<=0?()=>ut:le((n,t)=>{let r=[];n.subscribe(ue(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Au(...e){let n=Jn(e);return le((t,r)=>{(n?pi(e,t,n):pi(e,t)).subscribe(r)})}function Qe(e,n){return le((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(ue(r,c=>{i?.unsubscribe();let f=0,h=o++;Ae(e(c,h)).subscribe(i=ue(r,m=>r.next(n?n(c,m,h,f++):m),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function mo(e){return le((n,t)=>{Ae(e).subscribe(ue(t,()=>t.complete(),fo)),!t.closed&&n.subscribe(t)})}function it(e,n,t){let r=X(e)||n||t?{next:e,error:n,complete:t}:e;return r?le((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ue(o,c=>{var f;(f=r.next)===null||f===void 0||f.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var f;a=!1,(f=r.error)===null||f===void 0||f.call(r,c),o.error(c)},()=>{var c,f;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(f=r.finalize)===null||f===void 0||f.call(r)}))}):Yt}var Pu;function ga(){return Pu}function mn(e){let n=Pu;return Pu=e,n}var _m=Symbol("NotFound");function hi(e){return e===_m||e?.name==="\u0275NotFound"}var ba="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",T=class extends Error{code;constructor(n,t){super(yn(n,t)),this.code=n}};function nb(e){return`NG0${Math.abs(e)}`}function yn(e,n){return`${nb(e)}${n?": "+n:""}`}var Pt=globalThis;function de(e){for(let n in e)if(e[n]===de)return n;throw Error("")}function wm(e,n){for(let t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Ln(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Ln).join(", ")}]`;if(e==null)return""+e;let n=e.overriddenName||e.name;if(n)return`${n}`;let t=e.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Da(e,n){return e?n?`${e} ${n}`:e:n||""}var rb=de({__forward_ref__:de});function pt(e){return e.__forward_ref__=pt,e.toString=function(){return Ln(this())},e}function We(e){return qu(e)?e():e}function qu(e){return typeof e=="function"&&e.hasOwnProperty(rb)&&e.__forward_ref__===pt}function w(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Rt(e){return{providers:e.providers||[],imports:e.imports||[]}}function bo(e){return ib(e,Ea)}function Zu(e){return bo(e)!==null}function ib(e,n){return e.hasOwnProperty(n)&&e[n]||null}function ob(e){let n=e?.[Ea]??null;return n||null}function Nu(e){return e&&e.hasOwnProperty(va)?e[va]:null}var Ea=de({\u0275prov:de}),va=de({\u0275inj:de}),R=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=w({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Yu(e){return e&&!!e.\u0275providers}var Ku=de({\u0275cmp:de}),Qu=de({\u0275dir:de}),Ju=de({\u0275pipe:de}),Xu=de({\u0275mod:de}),yo=de({\u0275fac:de}),Pr=de({__NG_ELEMENT_ID__:de}),bm=de({__NG_ENV_ID__:de});function ed(e){return Ma(e,"@NgModule"),e[Xu]||null}function Vn(e){return Ma(e,"@Component"),e[Ku]||null}function td(e){return Ma(e,"@Directive"),e[Qu]||null}function Im(e){return Ma(e,"@Pipe"),e[Ju]||null}function Ma(e,n){if(e==null)throw new T(-919,!1)}function vn(e){return typeof e=="string"?e:e==null?"":String(e)}function Sm(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():vn(e)}var xm=de({ngErrorCode:de}),sb=de({ngErrorMessage:de}),ab=de({ngTokenPath:de});function nd(e,n){return Tm("",-200,n)}function wa(e,n){throw new T(-201,!1)}function Tm(e,n,t){let r=new T(n,e);return r[xm]=n,r[sb]=e,t&&(r[ab]=t),r}function cb(e){return e[xm]}var ku;function Om(){return ku}function ot(e){let n=ku;return ku=e,n}function rd(e,n,t){let r=bo(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(n!==void 0)return n;wa(e,"")}var lb={},xr=lb,ub="__NG_DI_FLAG__",Fu=class{injector;constructor(n){this.injector=n}retrieve(n,t){let r=Tr(t)||0;try{return this.injector.get(n,r&8?null:xr,r)}catch(i){if(hi(i))return i;throw i}}};function db(e,n=0){let t=ga();if(t===void 0)throw new T(-203,!1);if(t===null)return rd(e,void 0,n);{let r=fb(n),i=t.retrieve(e,r);if(hi(i)){if(r.optional)return null;throw i}return i}}function A(e,n=0){return(Om()||db)(We(e),n)}function C(e,n){return A(e,Tr(n))}function Tr(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function fb(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function Lu(e){let n=[];for(let t=0;t<e.length;t++){let r=We(e[t]);if(Array.isArray(r)){if(r.length===0)throw new T(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=pb(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}n.push(A(i,o))}else n.push(A(r))}return n}function pb(e){return e[ub]}function tr(e,n){let t=e.hasOwnProperty(yo);return t?e[yo]:null}function Am(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=n[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function Pm(e){return e.flat(Number.POSITIVE_INFINITY)}function Ia(e,n){e.forEach(t=>Array.isArray(t)?Ia(t,n):n(t))}function id(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Do(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Rm(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(i===1)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;){let o=i-2;e[i]=e[o],i--}e[n]=t,e[n+1]=r}}function Sa(e,n,t){let r=gi(e,n);return r>=0?e[r|1]=t:(r=~r,Rm(e,r,n,t)),r}function xa(e,n){let t=gi(e,n);if(t>=0)return e[t|1]}function gi(e,n){return hb(e,n,1)}function hb(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<t];if(n===s)return o<<t;s>n?i=o:r=o+1}return~(i<<t)}var ir={},st=[],or=new R(""),od=new R("",-1),sd=new R(""),vo=class{get(n,t=xr){if(t===xr){let i=Tm("",-201);throw i.name="\u0275NotFound",i}return t}};function Kt(e){return{\u0275providers:e}}function Nm(e){return Kt([{provide:or,multi:!0,useValue:e}])}function km(...e){return{\u0275providers:ad(!0,e),\u0275fromNgModule:!0}}function ad(e,...n){let t=[],r=new Set,i,o=s=>{t.push(s)};return Ia(n,s=>{let a=s;Ca(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Fm(i,o),t}function Fm(e,n){for(let t=0;t<e.length;t++){let{ngModule:r,providers:i}=e[t];cd(i,o=>{n(o,r)})}}function Ca(e,n,t,r){if(e=We(e),!e)return!1;let i=null,o=Nu(e),s=!o&&Vn(e);if(!o&&!s){let c=e.ngModule;if(o=Nu(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let f of c)Ca(f,n,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let f;try{Ia(o.imports,h=>{Ca(h,n,t,r)&&(f||=[],f.push(h))})}finally{}f!==void 0&&Fm(f,n)}if(!a){let f=tr(i)||(()=>new i);n({provide:i,useFactory:f,deps:st},i),n({provide:sd,useValue:i,multi:!0},i),n({provide:or,useValue:()=>A(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let f=e;cd(c,h=>{n(h,f)})}}else return!1;return i!==e&&e.providers!==void 0}function cd(e,n){for(let t of e)Yu(t)&&(t=t.\u0275providers),Array.isArray(t)?cd(t,n):n(t)}var mb=de({provide:String,useValue:de});function Lm(e){return e!==null&&typeof e=="object"&&mb in e}function gb(e){return!!(e&&e.useExisting)}function yb(e){return!!(e&&e.useFactory)}function Or(e){return typeof e=="function"}function Vm(e){return!!e.useClass}var Eo=new R(""),ya={},Dm={},Ru;function Mo(){return Ru===void 0&&(Ru=new vo),Ru}var De=class{},Ar=class extends De{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,ju(n,s=>this.processProvider(s)),this.records.set(od,mi(void 0,this)),i.has("environment")&&this.records.set(De,mi(void 0,this));let o=this.records.get(Eo);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(sd,st,{self:!0}))}retrieve(n,t){let r=Tr(t)||0;try{return this.get(n,xr,r)}catch(i){if(hi(i))return i;throw i}}destroy(){go(this),this._destroyed=!0;let n=Z(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Z(n)}}onDestroy(n){return go(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){go(this);let t=mn(this),r=ot(void 0),i;try{return n()}finally{mn(t),ot(r)}}get(n,t=xr,r){if(go(this),n.hasOwnProperty(bm))return n[bm](this);let i=Tr(r),o,s=mn(this),a=ot(void 0);try{if(!(i&4)){let f=this.records.get(n);if(f===void 0){let h=Db(n)&&bo(n);h&&this.injectableDefInScope(h)?f=mi(Vu(n),ya):f=null,this.records.set(n,f)}if(f!=null)return this.hydrate(n,f,i)}let c=i&2?Mo():this.parent;return t=i&8&&t===xr?null:t,c.get(n,t)}catch(c){let f=cb(c);throw f===-200||f===-201?new T(f,null):c}finally{ot(a),mn(s)}}resolveInjectorInitializers(){let n=Z(null),t=mn(this),r=ot(void 0),i;try{let o=this.get(or,st,{self:!0});for(let s of o)s()}finally{mn(t),ot(r),Z(n)}}toString(){let n=[],t=this.records;for(let r of t.keys())n.push(Ln(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=We(n);let t=Or(n)?n:We(n&&n.provide),r=Cb(n);if(!Or(n)&&n.multi===!0){let i=this.records.get(t);i||(i=mi(void 0,ya,!0),i.factory=()=>Lu(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t,r){let i=Z(null);try{if(t.value===Dm)throw nd(Ln(n));return t.value===ya&&(t.value=Dm,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&bb(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Z(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=We(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Vu(e){let n=bo(e),t=n!==null?n.factory:tr(e);if(t!==null)return t;if(e instanceof R)throw new T(204,!1);if(e instanceof Function)return vb(e);throw new T(204,!1)}function vb(e){if(e.length>0)throw new T(204,!1);let t=ob(e);return t!==null?()=>t.factory(e):()=>new e}function Cb(e){if(Lm(e))return mi(void 0,e.useValue);{let n=ld(e);return mi(n,ya)}}function ld(e,n,t){let r;if(Or(e)){let i=We(e);return tr(i)||Vu(i)}else if(Lm(e))r=()=>We(e.useValue);else if(yb(e))r=()=>e.useFactory(...Lu(e.deps||[]));else if(gb(e))r=(i,o)=>A(We(e.useExisting),o!==void 0&&o&8?8:void 0);else{let i=We(e&&(e.useClass||e.provide));if(_b(e))r=()=>new i(...Lu(e.deps));else return tr(i)||Vu(i)}return r}function go(e){if(e.destroyed)throw new T(205,!1)}function mi(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function _b(e){return!!e.deps}function bb(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function Db(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function ju(e,n){for(let t of e)Array.isArray(t)?ju(t,n):t&&Yu(t)?ju(t.\u0275providers,n):n(t)}function Be(e,n){let t;e instanceof Ar?(go(e),t=e):t=new Fu(e);let r,i=mn(t),o=ot(void 0);try{return n()}finally{mn(i),ot(o)}}function jm(){return Om()!==void 0||ga()!=null}var Qt=0,W=1,K=2,ke=3,Nt=4,kt=5,yi=6,vi=7,Ee=8,jn=9,Cn=10,ge=11,Ci=12,ud=13,Rr=14,ht=15,sr=16,Nr=17,_n=18,wo=19,dd=20,Fn=21,Ta=22,Io=23,Dt=24,kr=25,Fr=26,Fe=27,Bm=1,fd=6,ar=7,So=8,Lr=9,Me=10;function bn(e){return Array.isArray(e)&&typeof e[Bm]=="object"}function Jt(e){return Array.isArray(e)&&e[Bm]===!0}function pd(e){return(e.flags&4)!==0}function cr(e){return e.componentOffset>-1}function Oa(e){return(e.flags&1)===1}function Dn(e){return!!e.template}function _i(e){return(e[K]&512)!==0}function Vr(e){return(e[K]&256)===256}var Um="svg",Hm="math";function Ft(e){for(;Array.isArray(e);)e=e[Qt];return e}function hd(e,n){return Ft(n[e])}function Xt(e,n){return Ft(n[e.index])}function xo(e,n){return e.data[n]}function $m(e,n){return e[n]}function md(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}function Lt(e,n){let t=n[e];return bn(t)?t:t[Qt]}function zm(e){return(e[K]&4)===4}function Aa(e){return(e[K]&128)===128}function Wm(e){return Jt(e[ke])}function En(e,n){return n==null?null:e[n]}function gd(e){e[Nr]=0}function yd(e){e[K]&1024||(e[K]|=1024,Aa(e)&&bi(e))}function Gm(e,n){for(;e>0;)n=n[Rr],e--;return n}function To(e){return!!(e[K]&9216||e[Dt]?.dirty)}function Pa(e){e[Cn].changeDetectionScheduler?.notify(8),e[K]&64&&(e[K]|=1024),To(e)&&bi(e)}function bi(e){e[Cn].changeDetectionScheduler?.notify(0);let n=nr(e);for(;n!==null&&!(n[K]&8192||(n[K]|=8192,!Aa(n)));)n=nr(n)}function vd(e,n){if(Vr(e))throw new T(911,!1);e[Fn]===null&&(e[Fn]=[]),e[Fn].push(n)}function qm(e,n){if(e[Fn]===null)return;let t=e[Fn].indexOf(n);t!==-1&&e[Fn].splice(t,1)}function nr(e){let n=e[ke];return Jt(n)?n[ke]:n}function Cd(e){return e[vi]??=[]}function _d(e){return e.cleanup??=[]}function Zm(e,n,t,r){let i=Cd(n);i.push(t),e.firstCreatePass&&_d(e).push(r,i.length-1)}var te={lFrame:ag(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Bu=!1;function Ym(){return te.lFrame.elementDepthCount}function Km(){te.lFrame.elementDepthCount++}function bd(){te.lFrame.elementDepthCount--}function Qm(){return te.bindingsEnabled}function Jm(){return te.skipHydrationRootTNode!==null}function Dd(e){return te.skipHydrationRootTNode===e}function Ed(){te.skipHydrationRootTNode=null}function Y(){return te.lFrame.lView}function xe(){return te.lFrame.tView}function D(e){return te.lFrame.contextLView=e,e[Ee]}function E(e){return te.lFrame.contextLView=null,e}function Ue(){let e=Md();for(;e!==null&&e.type===64;)e=e.parent;return e}function Md(){return te.lFrame.currentTNode}function Xm(){let e=te.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function Di(e,n){let t=te.lFrame;t.currentTNode=e,t.isParent=n}function wd(){return te.lFrame.isParent}function eg(){te.lFrame.isParent=!1}function Id(){return Bu}function Sd(e){let n=Bu;return Bu=e,n}function Ra(){let e=te.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function xd(){return te.lFrame.bindingIndex}function tg(e){return te.lFrame.bindingIndex=e}function lr(){return te.lFrame.bindingIndex++}function Oo(e){let n=te.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function ng(){return te.lFrame.inI18n}function rg(e,n){let t=te.lFrame;t.bindingIndex=t.bindingRootIndex=e,Na(n)}function ig(){return te.lFrame.currentDirectiveIndex}function Na(e){te.lFrame.currentDirectiveIndex=e}function og(e){let n=te.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function Td(){return te.lFrame.currentQueryIndex}function ka(e){te.lFrame.currentQueryIndex=e}function Eb(e){let n=e[W];return n.type===2?n.declTNode:n.type===1?e[kt]:null}function Od(e,n,t){if(t&4){let i=n,o=e;for(;i=i.parent,i===null&&!(t&1);)if(i=Eb(o),i===null||(o=o[Rr],i.type&10))break;if(i===null)return!1;n=i,e=o}let r=te.lFrame=sg();return r.currentTNode=n,r.lView=e,!0}function Fa(e){let n=sg(),t=e[W];te.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function sg(){let e=te.lFrame,n=e===null?null:e.child;return n===null?ag(e):n}function ag(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function cg(){let e=te.lFrame;return te.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Ad=cg;function La(){let e=cg();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function lg(e){return(te.lFrame.contextLView=Gm(e,te.lFrame.contextLView))[Ee]}function en(){return te.lFrame.selectedIndex}function ur(e){te.lFrame.selectedIndex=e}function Ao(){let e=te.lFrame;return xo(e.tView,e.selectedIndex)}function ug(){return te.lFrame.currentNamespace}var dg=!0;function Va(){return dg}function ja(e){dg=e}function Uu(e,n=null,t=null,r){let i=Pd(e,n,t,r);return i.resolveInjectorInitializers(),i}function Pd(e,n=null,t=null,r,i=new Set){let o=[t||st,km(e)];return r=r||(typeof e=="object"?void 0:Ln(e)),new Ar(o,n||Mo(),r||null,i)}var Je=class e{static THROW_IF_NOT_FOUND=xr;static NULL=new vo;static create(n,t){if(Array.isArray(n))return Uu({name:""},t,n,"");{let r=n.name??"";return Uu({name:r},n.parent,n.providers,r)}}static \u0275prov=w({token:e,providedIn:"any",factory:()=>A(od)});static __NG_ELEMENT_ID__=-1},ve=new R(""),Vt=(()=>{class e{static __NG_ELEMENT_ID__=Mb;static __NG_ENV_ID__=t=>t}return e})(),Hu=class extends Vt{_lView;constructor(n){super(),this._lView=n}get destroyed(){return Vr(this._lView)}onDestroy(n){let t=this._lView;return vd(t,n),()=>qm(t,n)}};function Mb(){return new Hu(Y())}var fg=!1,Bn=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new $e(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new re(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=w({token:e,providedIn:"root",factory:()=>new e})}return e})(),$u=class extends Oe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,jm()&&(this.destroyRef=C(Vt,{optional:!0})??void 0,this.pendingTasks=C(Bn,{optional:!0})??void 0)}emit(n){let t=Z(null);try{super.next(n)}finally{Z(t)}}subscribe(n,t,r){let i=n,o=t||(()=>null),s=r;if(n&&typeof n=="object"){let c=n;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return n instanceof He&&n.add(a),a}wrapInTimeout(n){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Se=$u;function _a(...e){}function Rd(e){let n,t;function r(){e=_a;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Nd(e){return queueMicrotask(()=>e()),()=>{e=_a}}var kd="isAngularZone",Co=kd+"_ID",wb=0,Xe=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Se(!1);onMicrotaskEmpty=new Se(!1);onStable=new Se(!1);onError=new Se(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=fg}=n;if(typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,xb(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(kd)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new T(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,Ib,_a,_a);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}},Ib={};function Fd(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Sb(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){Rd(()=>{e.callbackScheduled=!1,zu(e),e.isCheckStableRunning=!0,Fd(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),zu(e)}function xb(e){let n=()=>{Sb(e)},t=wb++;e._inner=e._inner.fork({name:"angular",properties:{[kd]:!0,[Co]:t,[Co+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(Tb(c))return r.invokeTask(o,s,a,c);try{return Em(e),r.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),Mm(e)}},onInvoke:(r,i,o,s,a,c,f)=>{try{return Em(e),r.invoke(o,s,a,c,f)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!Ob(c)&&n(),Mm(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,zu(e),Fd(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function zu(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Em(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Mm(e){e._nesting--,Fd(e)}var _o=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Se;onMicrotaskEmpty=new Se;onStable=new Se;onError=new Se;run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}};function Tb(e){return pg(e,"__ignore_ng_zone__")}function Ob(e){return pg(e,"__scheduler_tick__")}function pg(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var gn=class{_console=console;handleError(n){this._console.error("ERROR",n)}},Et=new R("",{factory:()=>{let e=C(Xe),n=C(De),t;return r=>{e.runOutsideAngular(()=>{n.destroyed&&!t?setTimeout(()=>{throw r}):(t??=n.get(gn),t.handleError(r))})}}}),hg={provide:or,useValue:()=>{let e=C(gn,{optional:!0})},multi:!0},Ab=new R("",{factory:()=>{let e=C(ve).defaultView;if(!e)return;let n=C(Et),t=o=>{n(o.reason),o.preventDefault()},r=o=>{o.error?n(o.error):n(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{e.addEventListener("unhandledrejection",t),e.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),C(Vt).onDestroy(()=>{e.removeEventListener("error",r),e.removeEventListener("unhandledrejection",t)})}});function Ld(){return Kt([Nm(()=>void C(Ab))])}function P(e,n){let[t,r,i]=Cu(e,n?.equal),o=t,s=o[rt];return o.set=r,o.update=i,o.asReadonly=mg.bind(o),o}function mg(){let e=this[rt];if(e.readonlyFn===void 0){let n=()=>this();n[rt]=e,e.readonlyFn=n}return e.readonlyFn}var Ba=(()=>{class e{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=Pb}return e})();function Pb(){return new Ba(Y(),Ue())}var rr=class{},Po=new R("",{factory:()=>!0});var Vd=new R(""),Ua=(()=>{class e{internalPendingTasks=C(Bn);scheduler=C(rr);errorHandler=C(Et);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=w({token:e,providedIn:"root",factory:()=>new e})}return e})(),jd=(()=>{class e{static \u0275prov=w({token:e,providedIn:"root",factory:()=>new Wu})}return e})(),Wu=class{dirtyEffectCount=0;queues=new Map;add(n){this.enqueue(n),this.schedule(n)}schedule(n){n.dirty&&this.dirtyEffectCount++}remove(n){let t=n.zone,r=this.queues.get(t);r.has(n)&&(r.delete(n),n.dirty&&this.dirtyEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(n)||r.add(n)}flush(){for(;this.dirtyEffectCount>0;){let n=!1;for(let[t,r]of this.queues)t===null?n||=this.flushQueue(r):n||=t.run(()=>this.flushQueue(r));n||(this.dirtyEffectCount=0)}}flushQueue(n){let t=!1;for(let r of n)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}},Gu=class{[rt];constructor(n){this[rt]=n}destroy(){this[rt].destroy()}};function Le(e){return _u(e)}function Ho(e){return{toString:e}.toString()}function Bb(e){return typeof e=="function"}function Zg(e,n,t,r){n!==null?n.applyValueToInputSignal(n,r):e[t]=r}var Qa=class{previousValue;currentValue;firstChange;constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}},In=(()=>{let e=()=>Yg;return e.ngInherit=!0,e})();function Yg(e){return e.type.prototype.ngOnChanges&&(e.setInput=Hb),Ub}function Ub(){let e=Qg(this),n=e?.current;if(n){let t=e.previous;if(t===ir)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function Hb(e,n,t,r,i){let o=this.declaredInputs[r],s=Qg(e)||$b(e,{previous:ir,current:null}),a=s.current||(s.current={}),c=s.previous,f=c[o];a[o]=new Qa(f&&f.currentValue,t,c===ir),Zg(e,n,i,t)}var Kg="__ngSimpleChanges__";function Qg(e){return e[Kg]||null}function $b(e,n){return e[Kg]=n}var gg=[];var fe=function(e,n=null,t){for(let r=0;r<gg.length;r++){let i=gg[r];i(e,n,t)}},se=(function(e){return e[e.TemplateCreateStart=0]="TemplateCreateStart",e[e.TemplateCreateEnd=1]="TemplateCreateEnd",e[e.TemplateUpdateStart=2]="TemplateUpdateStart",e[e.TemplateUpdateEnd=3]="TemplateUpdateEnd",e[e.LifecycleHookStart=4]="LifecycleHookStart",e[e.LifecycleHookEnd=5]="LifecycleHookEnd",e[e.OutputStart=6]="OutputStart",e[e.OutputEnd=7]="OutputEnd",e[e.BootstrapApplicationStart=8]="BootstrapApplicationStart",e[e.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",e[e.BootstrapComponentStart=10]="BootstrapComponentStart",e[e.BootstrapComponentEnd=11]="BootstrapComponentEnd",e[e.ChangeDetectionStart=12]="ChangeDetectionStart",e[e.ChangeDetectionEnd=13]="ChangeDetectionEnd",e[e.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",e[e.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",e[e.AfterRenderHooksStart=16]="AfterRenderHooksStart",e[e.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",e[e.ComponentStart=18]="ComponentStart",e[e.ComponentEnd=19]="ComponentEnd",e[e.DeferBlockStateStart=20]="DeferBlockStateStart",e[e.DeferBlockStateEnd=21]="DeferBlockStateEnd",e[e.DynamicComponentStart=22]="DynamicComponentStart",e[e.DynamicComponentEnd=23]="DynamicComponentEnd",e[e.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",e[e.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",e})(se||{});function zb(e,n,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){let s=Yg(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function Wb(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:f,ngOnDestroy:h}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),c&&(e.viewHooks??=[]).push(-t,c),f&&((e.viewHooks??=[]).push(t,f),(e.viewCheckHooks??=[]).push(t,f)),h!=null&&(e.destroyHooks??=[]).push(t,h)}}function Ga(e,n,t){Jg(e,n,3,t)}function qa(e,n,t,r){(e[K]&3)===t&&Jg(e,n,t,r)}function Bd(e,n){let t=e[K];(t&3)===n&&(t&=16383,t+=1,e[K]=t)}function Jg(e,n,t,r){let i=r!==void 0?e[Nr]&65535:0,o=r??-1,s=n.length-1,a=0;for(let c=i;c<s;c++)if(typeof n[c+1]=="number"){if(a=n[c],r!=null&&a>=r)break}else n[c]<0&&(e[Nr]+=65536),(a<o||o==-1)&&(Gb(e,t,n,c),e[Nr]=(e[Nr]&4294901760)+c+2),c++}function yg(e,n){fe(se.LifecycleHookStart,e,n);let t=Z(null);try{n.call(e)}finally{Z(t),fe(se.LifecycleHookEnd,e,n)}}function Gb(e,n,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=e[s];i?e[K]>>14<e[Nr]>>16&&(e[K]&3)===n&&(e[K]+=16384,yg(a,o)):yg(a,o)}var Mi=-1,Br=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,r,i){this.factory=n,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function qb(e){return(e.flags&8)!==0}function Zb(e){return(e.flags&16)!==0}function Yb(e,n,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,o)}else{let o=i,s=t[++r];Kb(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),r++}}return r}function Xg(e){return e===3||e===4||e===6}function Kb(e){return e.charCodeAt(0)===64}function wi(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){let i=n[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?vg(e,t,i,null,n[++r]):vg(e,t,i,null,null))}}return e}function vg(e,n,t,r,i){let o=0,s=e.length;if(n===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===t){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),i!==null&&e.splice(o++,0,i)}function ey(e){return e!==Mi}function Ja(e){return e&32767}function Qb(e){return e>>16}function Xa(e,n){let t=Qb(e),r=n;for(;t>0;)r=r[Rr],t--;return r}var Qd=!0;function ec(e){let n=Qd;return Qd=e,n}var Jb=256,ty=Jb-1,ny=5,Xb=0,Mn={};function eD(e,n,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Pr)&&(r=t[Pr]),r==null&&(r=t[Pr]=Xb++);let i=r&ty,o=1<<i;n.data[e+(i>>ny)]|=o}function tc(e,n){let t=ry(e,n);if(t!==-1)return t;let r=n[W];r.firstCreatePass&&(e.injectorIndex=n.length,Ud(r.data,e),Ud(n,null),Ud(r.blueprint,null));let i=Nf(e,n),o=e.injectorIndex;if(ey(i)){let s=Ja(i),a=Xa(i,n),c=a[W].data;for(let f=0;f<8;f++)n[o+f]=a[s+f]|c[s+f]}return n[o+8]=i,o}function Ud(e,n){e.push(0,0,0,0,0,0,0,0,n)}function ry(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function Nf(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;i!==null;){if(r=cy(i),r===null)return Mi;if(t++,i=i[Rr],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Mi}function Jd(e,n,t){eD(e,n,t)}function tD(e,n){if(n==="class")return e.classes;if(n==="style")return e.styles;let t=e.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(Xg(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===n)return t[i+1];i=i+2}}}return null}function iy(e,n,t){if(t&8||e!==void 0)return e;wa(n,"NodeInjector")}function oy(e,n,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=e[jn],o=ot(void 0);try{return i?i.get(n,r,t&8):rd(n,r,t&8)}finally{ot(o)}}return iy(r,n,t)}function sy(e,n,t,r=0,i){if(e!==null){if(n[K]&2048&&!(r&2)){let s=oD(e,n,t,r,Mn);if(s!==Mn)return s}let o=ay(e,n,t,r,Mn);if(o!==Mn)return o}return oy(n,t,r,i)}function ay(e,n,t,r,i){let o=rD(t);if(typeof o=="function"){if(!Od(n,e,r))return r&1?iy(i,t,r):oy(n,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))wa(t);else return s}finally{Ad()}}else if(typeof o=="number"){let s=null,a=ry(e,n),c=Mi,f=r&1?n[ht][kt]:null;for((a===-1||r&4)&&(c=a===-1?Nf(e,n):n[a+8],c===Mi||!_g(r,!1)?a=-1:(s=n[W],a=Ja(c),n=Xa(c,n)));a!==-1;){let h=n[W];if(Cg(o,a,h.data)){let m=nD(a,n,t,s,r,f);if(m!==Mn)return m}c=n[a+8],c!==Mi&&_g(r,n[W].data[a+8]===f)&&Cg(o,a,n)?(s=h,a=Ja(c),n=Xa(c,n)):a=-1}}return i}function nD(e,n,t,r,i,o){let s=n[W],a=s.data[e+8],c=r==null?cr(a)&&Qd:r!=s&&(a.type&3)!==0,f=i&1&&o===a,h=Za(a,s,t,c,f);return h!==null?Fo(n,s,h,a,i):Mn}function Za(e,n,t,r,i){let o=e.providerIndexes,s=n.data,a=o&1048575,c=e.directiveStart,f=e.directiveEnd,h=o>>20,m=r?a:a+h,y=i?a+h:f;for(let g=m;g<y;g++){let M=s[g];if(g<c&&t===M||g>=c&&M.type===t)return g}if(i){let g=s[c];if(g&&Dn(g)&&g.type===t)return c}return null}function Fo(e,n,t,r,i){let o=e[t],s=n.data;if(o instanceof Br){let a=o;if(a.resolving){let g=Sm(s[t]);throw nd(g)}let c=ec(a.canSeeViewProviders);a.resolving=!0;let f=s[t].type||s[t],h,m=a.injectImpl?ot(a.injectImpl):null,y=Od(e,r,0);try{o=e[t]=a.factory(void 0,i,s,e,r),n.firstCreatePass&&t>=r.directiveStart&&zb(t,s[t],n)}finally{m!==null&&ot(m),ec(c),a.resolving=!1,Ad()}}return o}function rD(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(Pr)?e[Pr]:void 0;return typeof n=="number"?n>=0?n&ty:iD:n}function Cg(e,n,t){let r=1<<e;return!!(t[n+(e>>ny)]&r)}function _g(e,n){return!(e&2)&&!(e&1&&n)}var jr=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return sy(this._tNode,this._lView,n,Tr(r),t)}};function iD(){return new jr(Ue(),Y())}function jt(e){return Ho(()=>{let n=e.prototype.constructor,t=n[yo]||Xd(n),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[yo]||Xd(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Xd(e){return qu(e)?()=>{let n=Xd(We(e));return n&&n()}:tr(e)}function oD(e,n,t,r,i){let o=e,s=n;for(;o!==null&&s!==null&&s[K]&2048&&!_i(s);){let a=ay(o,s,t,r|2,Mn);if(a!==Mn)return a;let c=o.parent;if(!c){let f=s[dd];if(f){let h=f.get(t,Mn,r);if(h!==Mn)return h}c=cy(s),s=s[Rr]}o=c}return i}function cy(e){let n=e[W],t=n.type;return t===2?n.declTNode:t===1?e[kt]:null}function $o(e){return tD(Ue(),e)}function sD(){return Ti(Ue(),Y())}function Ti(e,n){return new et(Xt(e,n))}var et=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=sD}return e})();function aD(e){return e instanceof et?e.nativeElement:e}function cD(){return this._results[Symbol.iterator]()}var nc=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Oe}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){this.dirty=!1;let r=Pm(n);(this._changesDetected=!Am(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=cD};function ly(e){return(e.flags&128)===128}var kf=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(kf||{}),uy=new Map,lD=0;function uD(){return lD++}function dD(e){uy.set(e[wo],e)}function ef(e){uy.delete(e[wo])}var bg="__ngContext__";function Ii(e,n){bn(n)?(e[bg]=n[wo],dD(n)):e[bg]=n}function dy(e){return py(e[Ci])}function fy(e){return py(e[Nt])}function py(e){for(;e!==null&&!Jt(e);)e=e[Nt];return e}var fD;function Ff(e){fD=e}var mc=new R("",{factory:()=>pD}),pD="ng";var gc=new R(""),zo=new R("",{providedIn:"platform",factory:()=>"unknown"});var yc=new R("",{factory:()=>C(ve).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var hy="r";var my="di";var gy=!1,yy=new R("",{factory:()=>gy});var vc=new R("");var hD=(e,n,t,r)=>{};function mD(e,n,t,r){hD(e,n,t,r)}function Lf(e){return(e.flags&32)===32}var gD=()=>null;function vy(e,n,t=!1){return gD(e,n,t)}function Cy(e,n){let t=e.contentQueries;if(t!==null){let r=Z(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=e.data[s];ka(o),a.contentQueries(2,n[s],s)}}}finally{Z(r)}}}function tf(e,n,t){ka(0);let r=Z(null);try{n(e,t)}finally{Z(r)}}function _y(e,n,t){if(pd(n)){let r=Z(null);try{let i=n.directiveStart,o=n.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{Z(r)}}}var rn=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e[e.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",e})(rn||{});var Ha;function yD(){if(Ha===void 0&&(Ha=null,Pt.trustedTypes))try{Ha=Pt.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ha}function Cc(e){return yD()?.createHTML(e)||e}var $a;function vD(){if($a===void 0&&($a=null,Pt.trustedTypes))try{$a=Pt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return $a}function Dg(e){return vD()?.createScriptURL(e)||e}var Un=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ba})`}},nf=class extends Un{getTypeName(){return"HTML"}},rf=class extends Un{getTypeName(){return"Style"}},of=class extends Un{getTypeName(){return"Script"}},sf=class extends Un{getTypeName(){return"URL"}},af=class extends Un{getTypeName(){return"ResourceURL"}};function Bt(e){return e instanceof Un?e.changingThisBreaksApplicationSecurity:e}function Hn(e,n){let t=by(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${ba})`)}return t===n}function by(e){return e instanceof Un&&e.getTypeName()||null}function Vf(e){return new nf(e)}function jf(e){return new rf(e)}function Bf(e){return new of(e)}function Uf(e){return new sf(e)}function Hf(e){return new af(e)}function CD(e){let n=new lf(e);return _D()?new cf(n):n}var cf=class{inertDocumentHelper;constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{let t=new window.DOMParser().parseFromString(Cc(n),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(n):(t.firstChild?.remove(),t)}catch{return null}}},lf=class{defaultDoc;inertDocument;constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){let t=this.inertDocument.createElement("template");return t.innerHTML=Cc(n),t}};function _D(){try{return!!new window.DOMParser().parseFromString(Cc(""),"text/html")}catch{return!1}}var bD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Wo(e){return e=String(e),e.match(bD)?e:"unsafe:"+e}function $n(e){let n={};for(let t of e.split(","))n[t]=!0;return n}function Go(...e){let n={};for(let t of e)for(let r in t)t.hasOwnProperty(r)&&(n[r]=!0);return n}var Dy=$n("area,br,col,hr,img,wbr"),Ey=$n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),My=$n("rp,rt"),DD=Go(My,Ey),ED=Go(Ey,$n("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),MD=Go(My,$n("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Eg=Go(Dy,ED,MD,DD),wy=$n("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wD=$n("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ID=$n("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),SD=Go(wy,wD,ID),xD=$n("script,style,template"),uf=class{sanitizedSomething=!1;buf=[];sanitizeChildren(n){let t=n.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=AD(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=OD(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(n){let t=Mg(n).toLowerCase();if(!Eg.hasOwnProperty(t))return this.sanitizedSomething=!0,!xD.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=n.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!SD.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;wy[a]&&(c=Wo(c)),this.buf.push(" ",s,'="',wg(c),'"')}return this.buf.push(">"),!0}endElement(n){let t=Mg(n).toLowerCase();Eg.hasOwnProperty(t)&&!Dy.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(n){this.buf.push(wg(n))}};function TD(e,n){return(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function OD(e){let n=e.nextSibling;if(n&&e!==n.previousSibling)throw Iy(n);return n}function AD(e){let n=e.firstChild;if(n&&TD(e,n))throw Iy(n);return n}function Mg(e){let n=e.nodeName;return typeof n=="string"?n:"FORM"}function Iy(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var PD=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,RD=/([^\#-~ |!])/g;function wg(e){return e.replace(/&/g,"&amp;").replace(PD,function(n){let t=n.charCodeAt(0),r=n.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(RD,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var za;function $f(e,n){let t=null;try{za=za||CD(e);let r=n?String(n):"";t=za.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=za.getInertBodyElement(r)}while(r!==o);let a=new uf().sanitizeChildren(Ig(t)||t);return Cc(a)}finally{if(t){let r=Ig(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function Ig(e){return"content"in e&&ND(e)?e.content:null}function ND(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}function kD(e,n){return e.createText(n)}function FD(e,n,t){e.setValue(n,t)}function Sy(e,n,t){return e.createElement(n,t)}function rc(e,n,t,r,i){e.insertBefore(n,t,r,i)}function xy(e,n,t){e.appendChild(n,t)}function Sg(e,n,t,r,i){r!==null?rc(e,n,t,r,i):xy(e,n,t)}function Ty(e,n,t,r){e.removeChild(null,n,t,r)}function LD(e,n,t){e.setAttribute(n,"style",t)}function VD(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function Oy(e,n,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Yb(e,n,r),i!==null&&VD(e,n,i),o!==null&&LD(e,n,o)}var on=(function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e})(on||{});function mt(e){let n=Ay();return n?n.sanitize(on.URL,e)||"":Hn(e,"URL")?Bt(e):Wo(vn(e))}function _c(e){let n=Ay();if(n)return Dg(n.sanitize(on.RESOURCE_URL,e)||"");if(Hn(e,"ResourceURL"))return Dg(Bt(e));throw new T(904,!1)}function jD(e,n){return n==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||n==="href"&&(e==="base"||e==="link")?_c:mt}function zf(e,n,t){return jD(n,t)(e)}function Ay(){let e=Y();return e&&e[Cn].sanitizer}function Py(e){return e instanceof Function?e():e}function BD(e,n,t){let r=e.length;for(;;){let i=e.indexOf(n,t);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}var Ry="ng-template";function UD(e,n,t,r){let i=0;if(r){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&BD(n[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Wf(e))return!1;if(i=n.indexOf(1,i),i>-1){let o;for(;++i<n.length&&typeof(o=n[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Wf(e){return e.type===4&&e.value!==Ry}function HD(e,n,t){let r=e.type===4&&!t?Ry:e.value;return n===r}function $D(e,n,t){let r=4,i=e.attrs,o=i!==null?GD(i):0,s=!1;for(let a=0;a<n.length;a++){let c=n[a];if(typeof c=="number"){if(!s&&!tn(r)&&!tn(c))return!1;if(s&&tn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!HD(e,c,t)||c===""&&n.length===1){if(tn(r))return!1;s=!0}}else if(r&8){if(i===null||!UD(e,i,c,t)){if(tn(r))return!1;s=!0}}else{let f=n[++a],h=zD(c,i,Wf(e),t);if(h===-1){if(tn(r))return!1;s=!0;continue}if(f!==""){let m;if(h>o?m="":m=i[h+1].toLowerCase(),r&2&&f!==m){if(tn(r))return!1;s=!0}}}}return tn(r)||s}function tn(e){return(e&1)===0}function zD(e,n,t,r){if(n===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){let s=n[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++i];for(;typeof a=="string";)a=n[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return qD(n,e)}function WD(e,n,t=!1){for(let r=0;r<n.length;r++)if($D(e,n[r],t))return!0;return!1}function GD(e){for(let n=0;n<e.length;n++){let t=e[n];if(Xg(t))return n}return e.length}function qD(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let r=e[t];if(typeof r=="number")return-1;if(r===n)return t;t++}return-1}function xg(e,n){return e?":not("+n.trim()+")":n}function ZD(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(r&2){let a=e[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!tn(s)&&(n+=xg(o,i),i=""),r=s,o=o||!tn(r);t++}return i!==""&&(n+=xg(o,i)),n}function YD(e){return e.map(ZD).join(",")}function KD(e){let n=[],t=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&n.push(o,e[++r]):i===8&&t.push(o);else{if(!tn(i))break;i=o}r++}return t.length&&n.push(1,...t),n}var Ge={};function Gf(e,n,t,r,i,o,s,a,c,f,h){let m=Fe+r,y=m+i,g=QD(m,y),M=typeof f=="function"?f():f;return g[W]={type:e,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:n,data:g.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:M,incompleteFirstPass:!1,ssrId:h}}function QD(e,n){let t=[];for(let r=0;r<n;r++)t.push(r<e?null:Ge);return t}function JD(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=Gf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function qf(e,n,t,r,i,o,s,a,c,f,h){let m=n.blueprint.slice();return m[Qt]=i,m[K]=r|4|128|8|64|1024,(f!==null||e&&e[K]&2048)&&(m[K]|=2048),gd(m),m[ke]=m[Rr]=e,m[Ee]=t,m[Cn]=s||e&&e[Cn],m[ge]=a||e&&e[ge],m[jn]=c||e&&e[jn]||null,m[kt]=o,m[wo]=uD(),m[yi]=h,m[dd]=f,m[ht]=n.type==2?e[ht]:m,m}function XD(e,n,t){let r=Xt(n,e),i=JD(t),o=e[Cn].rendererFactory,s=Zf(e,qf(e,i,null,Ny(t),r,n,null,o.createRenderer(r,t),null,null,null));return e[n.index]=s}function Ny(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function ky(e,n,t,r){if(t===0)return-1;let i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function Zf(e,n){return e[Ci]?e[ud][Nt]=n:e[Ci]=n,e[ud]=n,n}function p(e=1){Fy(xe(),Y(),en()+e,!1)}function Fy(e,n,t,r){if(!r)if((n[K]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Ga(n,o,t)}else{let o=e.preOrderHooks;o!==null&&qa(n,o,0,t)}ur(t)}var bc=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(bc||{});function df(e,n,t,r){let i=Z(null);try{let[o,s,a]=e.inputs[t],c=null;(s&bc.SignalBased)!==0&&(c=n[o][rt]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(n,r)),e.setInput!==null?e.setInput(n,c,r,t,o):Zg(n,c,o,r)}finally{Z(i)}}var wn=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(wn||{}),eE;function Yf(e,n){return eE(e,n)}var Ur=new Set,Dc=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(Dc||{}),zn=new R(""),Tg=new Set;function Sn(e){Tg.has(e)||(Tg.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Kf=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=w({token:e,providedIn:"root",factory:()=>new e})}return e})(),Ly=[0,1,2,3],Vy=(()=>{class e{ngZone=C(Xe);scheduler=C(rr);errorHandler=C(gn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){C(zn,{optional:!0})}execute(){let t=this.sequences.size>0;t&&fe(se.AfterRenderHooksStart),this.executing=!0;for(let r of Ly)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&fe(se.AfterRenderHooksEnd)}register(t){let{view:r}=t;r!==void 0?((r[kr]??=[]).push(t),bi(r),r[K]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Dc.AFTER_NEXT_RENDER,t):t()}static \u0275prov=w({token:e,providedIn:"root",factory:()=>new e})}return e})(),ic=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,t,r,i,o,s=null){this.impl=n,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[kr];n&&(this.view[kr]=n.filter(t=>t!==this))}};function qo(e,n){let t=n?.injector??C(Je);return Sn("NgAfterNextRender"),nE(e,t,n,!0)}function tE(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function nE(e,n,t,r){let i=n.get(Kf);i.impl??=n.get(Vy);let o=n.get(zn,null,{optional:!0}),s=t?.manualCleanup!==!0?n.get(Vt):null,a=n.get(Ba,null,{optional:!0}),c=new ic(i.impl,tE(e),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}var jy=new R("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:C(De)})});function By(e,n,t){let r=e.get(jy);if(Array.isArray(n))for(let i of n)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(n),t?.detachedLeaveAnimationFns?.push(n);r.scheduler&&r.scheduler(e)}function rE(e,n){let t=e.get(jy);if(n.detachedLeaveAnimationFns){for(let r of n.detachedLeaveAnimationFns)t.queue.delete(r);n.detachedLeaveAnimationFns=void 0}}function iE(e,n){for(let[t,r]of n)By(e,r.animateFns)}function Og(e,n,t,r){let i=e?.[Fr]?.enter;n!==null&&i&&i.has(t.index)&&iE(r,i)}function Ei(e,n,t,r,i,o,s,a){if(i!=null){let c,f=!1;Jt(i)?c=i:bn(i)&&(f=!0,i=i[Qt]);let h=Ft(i);e===0&&r!==null?(Og(a,r,o,t),s==null?xy(n,r,h):rc(n,r,h,s||null,!0)):e===1&&r!==null?(Og(a,r,o,t),rc(n,r,h,s||null,!0)):e===2?Ag(a,o,t,m=>{Ty(n,h,f,m)}):e===3&&Ag(a,o,t,()=>{n.destroyNode(h)}),c!=null&&yE(n,e,t,c,o,r,s)}}function oE(e,n){Uy(e,n),n[Qt]=null,n[kt]=null}function sE(e,n,t,r,i,o){r[Qt]=i,r[kt]=n,Mc(e,r,t,1,i,o)}function Uy(e,n){n[Cn].changeDetectionScheduler?.notify(9),Mc(e,n,n[ge],2,null,null)}function aE(e){let n=e[Ci];if(!n)return Hd(e[W],e);for(;n;){let t=null;if(bn(n))t=n[Ci];else{let r=n[Me];r&&(t=r)}if(!t){for(;n&&!n[Nt]&&n!==e;)bn(n)&&Hd(n[W],n),n=n[ke];n===null&&(n=e),bn(n)&&Hd(n[W],n),t=n&&n[Nt]}n=t}}function Qf(e,n){let t=e[Lr],r=t.indexOf(n);t.splice(r,1)}function Ec(e,n){if(Vr(n))return;let t=n[ge];t.destroyNode&&Mc(e,n,t,3,null,null),aE(n)}function Hd(e,n){if(Vr(n))return;let t=Z(null);try{n[K]&=-129,n[K]|=256,n[Dt]&&co(n[Dt]),uE(e,n),lE(e,n),n[W].type===1&&n[ge].destroy();let r=n[sr];if(r!==null&&Jt(n[ke])){r!==n[ke]&&Qf(r,n);let i=n[_n];i!==null&&i.detachView(e)}ef(n)}finally{Z(t)}}function Ag(e,n,t,r){let i=e?.[Fr];if(i==null||i.leave==null||!i.leave.has(n.index))return r(!1);e&&Ur.add(e),By(t,()=>{if(i.leave&&i.leave.has(n.index)){let s=i.leave.get(n.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let f=s.animateFns[c],{promise:h}=f();a.push(h)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),cE(e,r)}else e&&Ur.delete(e),r(!1)},i)}function cE(e,n){let t=e[Fr]?.running;if(t){t.then(()=>{e[Fr].running=void 0,Ur.delete(e),n(!0)});return}n(!1)}function lE(e,n){let t=e.cleanup,r=n[vi];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(n[vi]=null);let i=n[Fn];if(i!==null){n[Fn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=n[Io];if(o!==null){n[Io]=null;for(let s of o)s.destroy()}}function uE(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=n[t[r]];if(!(i instanceof Br)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];fe(se.LifecycleHookStart,a,c);try{c.call(a)}finally{fe(se.LifecycleHookEnd,a,c)}}else{fe(se.LifecycleHookStart,i,o);try{o.call(i)}finally{fe(se.LifecycleHookEnd,i,o)}}}}}function dE(e,n,t){return fE(e,n.parent,t)}function fE(e,n,t){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return t[Qt];if(cr(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===rn.None||i===rn.Emulated)return null}return Xt(r,t)}function pE(e,n,t){return mE(e,n,t)}function hE(e,n,t){return e.type&40?Xt(e,t):null}var mE=hE,Pg;function Jf(e,n,t,r){let i=dE(e,r,n),o=n[ge],s=r.parent||n[kt],a=pE(s,r,n);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)Sg(o,i,t[c],a,!1);else Sg(o,i,t,a,!1);Pg!==void 0&&Pg(o,r,n,t,i)}function No(e,n){if(n!==null){let t=n.type;if(t&3)return Xt(n,e);if(t&4)return ff(-1,e[n.index]);if(t&8){let r=n.child;if(r!==null)return No(e,r);{let i=e[n.index];return Jt(i)?ff(-1,i):Ft(i)}}else{if(t&128)return No(e,n.next);if(t&32)return Yf(n,e)()||Ft(e[n.index]);{let r=Hy(e,n);if(r!==null){if(Array.isArray(r))return r[0];let i=nr(e[ht]);return No(i,r)}else return No(e,n.next)}}}return null}function Hy(e,n){if(n!==null){let r=e[ht][kt],i=n.projection;return r.projection[i]}return null}function ff(e,n){let t=Me+e+1;if(t<n.length){let r=n[t],i=r[W].firstChild;if(i!==null)return No(r,i)}return n[ar]}function Xf(e,n,t,r,i,o,s){for(;t!=null;){let a=r[jn];if(t.type===128){t=t.next;continue}let c=r[t.index],f=t.type;if(s&&n===0&&(c&&Ii(Ft(c),r),t.flags|=2),!Lf(t))if(f&8)Xf(e,n,t.child,r,i,o,!1),Ei(n,e,a,i,c,t,o,r);else if(f&32){let h=Yf(t,r),m;for(;m=h();)Ei(n,e,a,i,m,t,o,r);Ei(n,e,a,i,c,t,o,r)}else f&16?gE(e,n,r,t,i,o):Ei(n,e,a,i,c,t,o,r);t=s?t.projectionNext:t.next}}function Mc(e,n,t,r,i,o){Xf(t,r,e.firstChild,n,i,o,!1)}function gE(e,n,t,r,i,o){let s=t[ht],c=s[kt].projection[r.projection];if(Array.isArray(c))for(let f=0;f<c.length;f++){let h=c[f];Ei(n,e,t[jn],i,h,r,o,t)}else{let f=c,h=s[ke];ly(r)&&(f.flags|=128),Xf(e,n,f,h,i,o,!0)}}function yE(e,n,t,r,i,o,s){let a=r[ar],c=Ft(r);a!==c&&Ei(n,e,t,o,a,i,s);for(let f=Me;f<r.length;f++){let h=r[f];Mc(h[W],h,e,n,o,a)}}function vE(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:wn.DashCase;i==null?e.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=wn.Important),e.setStyle(t,r,i,o))}}function $y(e,n,t,r,i){let o=en(),s=r&2;try{ur(-1),s&&n.length>Fe&&Fy(e,n,Fe,!1);let a=s?se.TemplateUpdateStart:se.TemplateCreateStart;fe(a,i,t),t(r,i)}finally{ur(o);let a=s?se.TemplateUpdateEnd:se.TemplateCreateEnd;fe(a,i,t)}}function zy(e,n,t){ME(e,n,t),(t.flags&64)===64&&wE(e,n,t)}function ep(e,n,t=Xt){let r=n.localNames;if(r!==null){let i=n.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(n,e):e[s];e[i++]=a}}}function CE(e,n,t,r){let o=r.get(yy,gy)||t===rn.ShadowDom||t===rn.ExperimentalIsolatedShadowDom,s=e.selectRootElement(n,o);return _E(s),s}function _E(e){bE(e)}var bE=()=>null;function DE(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Wy(e,n,t,r,i,o){let s=n[W];if(tp(e,s,n,t,r)){cr(e)&&EE(n,e.index);return}e.type&3&&(t=DE(t)),Gy(e,n,t,r,i,o)}function Gy(e,n,t,r,i,o){if(e.type&3){let s=Xt(e,n);r=o!=null?o(r,e.value||"",t):r,i.setProperty(s,t,r)}else e.type&12}function EE(e,n){let t=Lt(n,e);t[K]&16||(t[K]|=64)}function ME(e,n,t){let r=t.directiveStart,i=t.directiveEnd;cr(t)&&XD(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||tc(t,n);let o=t.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],c=Fo(n,e,s,t);if(Ii(c,n),o!==null&&OE(n,s-r,c,a,t,o),Dn(a)){let f=Lt(t.index,n);f[Ee]=Fo(n,e,s,t)}}}function wE(e,n,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=ig();try{ur(o);for(let a=r;a<i;a++){let c=e.data[a],f=n[a];Na(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&IE(c,f)}}finally{ur(-1),Na(s)}}function IE(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function SE(e,n){let t=e.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];WD(n,o.selectors,!1)&&(r??=[],Dn(o)?r.unshift(o):r.push(o))}return r}function xE(e,n,t,r,i,o){let s=Xt(e,n);TE(n[ge],s,o,e.value,t,r,i)}function TE(e,n,t,r,i,o,s){if(o==null)e.removeAttribute(n,i,t);else{let a=s==null?vn(o):s(o,r||"",i);e.setAttribute(n,i,a,t)}}function OE(e,n,t,r,i,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],f=s[a+1];df(r,t,c,f)}}function qy(e,n,t,r,i){let o=Fe+t,s=n[W],a=i(s,n,e,r,t);n[o]=a,Di(e,!0);let c=e.type===2;return c?(Oy(n[ge],a,e),(Ym()===0||Oa(e))&&Ii(a,n),Km()):Ii(a,n),Va()&&(!c||!Lf(e))&&Jf(s,n,a,e),e}function Zy(e){let n=e;return wd()?eg():(n=n.parent,Di(n,!1)),n}function AE(e,n){let t=e[jn];if(!t)return;let r;try{r=t.get(Et,null)}catch{r=null}r?.(n)}function tp(e,n,t,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let f=s[c],h=s[c+1],m=n.data[f];df(m,t[f],h,i),a=!0}if(o)for(let c of o){let f=t[c],h=n.data[c];df(h,f,r,i),a=!0}return a}function PE(e,n){let t=Lt(n,e),r=t[W];RE(r,t);let i=t[Qt];i!==null&&t[yi]===null&&(t[yi]=vy(i,t[jn])),fe(se.ComponentStart);try{np(r,t,t[Ee])}finally{fe(se.ComponentEnd,t[Ee])}}function RE(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function np(e,n,t){Fa(n);try{let r=e.viewQuery;r!==null&&tf(1,r,t);let i=e.template;i!==null&&$y(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[_n]?.finishViewCreation(e),e.staticContentQueries&&Cy(e,n),e.staticViewQueries&&tf(2,e.viewQuery,t);let o=e.components;o!==null&&NE(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[K]&=-5,La()}}function NE(e,n){for(let t=0;t<n.length;t++)PE(e,n[t])}function wc(e,n,t,r){let i=Z(null);try{let o=n.tView,a=e[K]&4096?4096:16,c=qf(e,o,t,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),f=e[n.index];c[sr]=f;let h=e[_n];return h!==null&&(c[_n]=h.createEmbeddedView(o)),np(o,c,t),c}finally{Z(i)}}function Lo(e,n){return!n||n.firstChild===null||ly(e)}function Vo(e,n,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=n[t.index];o!==null&&r.push(Ft(o)),Jt(o)&&Yy(o,r);let s=t.type;if(s&8)Vo(e,n,t.child,r);else if(s&32){let a=Yf(t,n),c;for(;c=a();)r.push(c)}else if(s&16){let a=Hy(n,t);if(Array.isArray(a))r.push(...a);else{let c=nr(n[ht]);Vo(c[W],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Yy(e,n){for(let t=Me;t<e.length;t++){let r=e[t],i=r[W].firstChild;i!==null&&Vo(r[W],r,i,n)}e[ar]!==e[Qt]&&n.push(e[ar])}function Ky(e){if(e[kr]!==null){for(let n of e[kr])n.impl.addSequence(n);e[kr].length=0}}var Qy=[];function kE(e){return e[Dt]??FE(e)}function FE(e){let n=Qy.pop()??Object.create(VE);return n.lView=e,n}function LE(e){e.lView[Dt]!==e&&(e.lView=null,Qy.push(e))}var VE=F(_({},oo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{bi(e.lView)},consumerOnSignalRead(){this.lView[Dt]=this}});function jE(e){let n=e[Dt]??Object.create(BE);return n.lView=e,n}var BE=F(_({},oo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=nr(e.lView);for(;n&&!Jy(n[W]);)n=nr(n);n&&yd(n)},consumerOnSignalRead(){this.lView[Dt]=this}});function Jy(e){return e.type!==2}function Xy(e){if(e[Io]===null)return;let n=!0;for(;n;){let t=!1;for(let r of e[Io])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=t&&!!(e[K]&8192)}}var UE=100;function ev(e,n=0){let r=e[Cn].rendererFactory,i=!1;i||r.begin?.();try{HE(e,n)}finally{i||r.end?.()}}function HE(e,n){let t=Id();try{Sd(!0),pf(e,n);let r=0;for(;To(e);){if(r===UE)throw new T(103,!1);r++,pf(e,1)}}finally{Sd(t)}}function $E(e,n,t,r){if(Vr(n))return;let i=n[K],o=!1,s=!1;Fa(n);let a=!0,c=null,f=null;o||(Jy(e)?(f=kE(n),c=ao(f)):Us()===null?(a=!1,f=jE(n),c=ao(f)):n[Dt]&&(co(n[Dt]),n[Dt]=null));try{gd(n),tg(e.bindingStartIndex),t!==null&&$y(e,n,t,2,r);let h=(i&3)===3;if(!o)if(h){let g=e.preOrderCheckHooks;g!==null&&Ga(n,g,null)}else{let g=e.preOrderHooks;g!==null&&qa(n,g,0,null),Bd(n,0)}if(s||zE(n),Xy(n),tv(n,0),e.contentQueries!==null&&Cy(e,n),!o)if(h){let g=e.contentCheckHooks;g!==null&&Ga(n,g)}else{let g=e.contentHooks;g!==null&&qa(n,g,1),Bd(n,1)}GE(e,n);let m=e.components;m!==null&&rv(n,m,0);let y=e.viewQuery;if(y!==null&&tf(2,y,r),!o)if(h){let g=e.viewCheckHooks;g!==null&&Ga(n,g)}else{let g=e.viewHooks;g!==null&&qa(n,g,2),Bd(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[Ta]){for(let g of n[Ta])g();n[Ta]=null}o||(Ky(n),n[K]&=-73)}catch(h){throw o||bi(n),h}finally{f!==null&&(Hs(f,c),a&&LE(f)),La()}}function tv(e,n){for(let t=dy(e);t!==null;t=fy(t))for(let r=Me;r<t.length;r++){let i=t[r];nv(i,n)}}function zE(e){for(let n=dy(e);n!==null;n=fy(n)){if(!(n[K]&2))continue;let t=n[Lr];for(let r=0;r<t.length;r++){let i=t[r];yd(i)}}}function WE(e,n,t){fe(se.ComponentStart);let r=Lt(n,e);try{nv(r,t)}finally{fe(se.ComponentEnd,r[Ee])}}function nv(e,n){Aa(e)&&pf(e,n)}function pf(e,n){let r=e[W],i=e[K],o=e[Dt],s=!!(n===0&&i&16);if(s||=!!(i&64&&n===0),s||=!!(i&1024),s||=!!(o?.dirty&&$s(o)),s||=!1,o&&(o.dirty=!1),e[K]&=-9217,s)$E(r,e,r.template,e[Ee]);else if(i&8192){let a=Z(null);try{Xy(e),tv(e,1);let c=r.components;c!==null&&rv(e,c,1),Ky(e)}finally{Z(a)}}}function rv(e,n,t){for(let r=0;r<n.length;r++)WE(e,n[r],t)}function GE(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)ur(~i);else{let o=i,s=t[++r],a=t[++r];rg(s,o);let c=n[o];fe(se.HostBindingsUpdateStart,c);try{a(2,c)}finally{fe(se.HostBindingsUpdateEnd,c)}}}}finally{ur(-1)}}function rp(e,n){let t=Id()?64:1088;for(e[Cn].changeDetectionScheduler?.notify(n);e;){e[K]|=t;let r=nr(e);if(_i(e)&&!r)return e;e=r}return null}function iv(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function ov(e,n){let t=Me+n;if(t<e.length)return e[t]}function Ic(e,n,t,r=!0){let i=n[W];if(qE(i,n,e,t),r){let s=ff(t,e),a=n[ge],c=a.parentNode(e[ar]);c!==null&&sE(i,e[kt],a,n,c,s)}let o=n[yi];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function sv(e,n){let t=jo(e,n);return t!==void 0&&Ec(t[W],t),t}function jo(e,n){if(e.length<=Me)return;let t=Me+n,r=e[t];if(r){let i=r[sr];i!==null&&i!==e&&Qf(i,r),n>0&&(e[t-1][Nt]=r[Nt]);let o=Do(e,Me+n);oE(r[W],r);let s=o[_n];s!==null&&s.detachView(o[W]),r[ke]=null,r[Nt]=null,r[K]&=-129}return r}function qE(e,n,t,r){let i=Me+r,o=t.length;r>0&&(t[i-1][Nt]=n),r<o-Me?(n[Nt]=t[i],id(t,Me+r,n)):(t.push(n),n[Nt]=null),n[ke]=t;let s=n[sr];s!==null&&t!==s&&av(s,n);let a=n[_n];a!==null&&a.insertView(e),Pa(n),n[K]|=128}function av(e,n){let t=e[Lr],r=n[ke];if(bn(r))e[K]|=2;else{let i=r[ke][ht];n[ht]!==i&&(e[K]|=2)}t===null?e[Lr]=[n]:t.push(n)}var dr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let n=this._lView,t=n[W];return Vo(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t}get context(){return this._lView[Ee]}set context(n){this._lView[Ee]=n}get destroyed(){return Vr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[ke];if(Jt(n)){let t=n[So],r=t?t.indexOf(this):-1;r>-1&&(jo(n,r),Do(t,r))}this._attachedToViewContainer=!1}Ec(this._lView[W],this._lView)}onDestroy(n){vd(this._lView,n)}markForCheck(){rp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[K]&=-129}reattach(){Pa(this._lView),this._lView[K]|=128}detectChanges(){this._lView[K]|=1024,ev(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=_i(this._lView),t=this._lView[sr];t!==null&&!n&&Qf(t,this._lView),Uy(this._lView[W],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=n;let t=_i(this._lView),r=this._lView[sr];r!==null&&!t&&av(r,this._lView),Pa(this._lView)}};var Si=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=ZE;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=wc(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new dr(o)}}return e})();function ZE(){return ip(Ue(),Y())}function ip(e,n){return e.type&4?new Si(n,e,Ti(e,n)):null}function Sc(e,n,t,r,i){let o=e.data[n];if(o===null)o=YE(e,n,t,r,i),ng()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=Xm();o.injectorIndex=s===null?-1:s.injectorIndex}return Di(o,!0),o}function YE(e,n,t,r,i){let o=Md(),s=wd(),a=s?o:o&&o.parent,c=e.data[n]=QE(e,a,t,n,r,i);return KE(e,c,o,s),c}function KE(e,n,t,r){e.firstChild===null&&(e.firstChild=n),t!==null&&(r?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function QE(e,n,t,r,i,o){let s=n?n.injectorIndex:-1,a=0;return Jm()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function JE(e){let n=e[fd]??[],r=e[ke][ge],i=[];for(let o of n)o.data[my]!==void 0?i.push(o):XE(o,r);e[fd]=i}function XE(e,n){let t=0,r=e.firstChild;if(r){let i=e.data[hy];for(;t<i;){let o=r.nextSibling;Ty(n,r,!1),r=o,t++}}}var eM=()=>null,tM=()=>null;function hf(e,n){return eM(e,n)}function cv(e,n,t){return tM(e,n,t)}var lv=class{},xc=class{},mf=class{resolveComponentFactory(n){throw new T(917,!1)}},Zo=class{static NULL=new mf},Hr=class{},Ut=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>nM()}return e})();function nM(){let e=Y(),n=Ue(),t=Lt(n.index,e);return(bn(t)?t:e)[ge]}var uv=(()=>{class e{static \u0275prov=w({token:e,providedIn:"root",factory:()=>null})}return e})();var Ya={},gf=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){let i=this.injector.get(n,Ya,r);return i!==Ya||t===Ya?i:this.parentInjector.get(n,t,r)}};function oc(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)i=Da(i,a);else if(o==2){let c=a,f=n[++s];r=Da(r,c+": "+f+";")}}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function I(e,n=0){let t=Y();if(t===null)return A(e,n);let r=Ue();return sy(r,t,We(e),n)}function op(){let e="invalid";throw new Error(e)}function rM(e,n,t,r,i){let o=r===null?null:{"":-1},s=i(e,t);if(s!==null){let a=s,c=null,f=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,c,f]=h.resolveHostDirectives(s);break}sM(e,n,t,a,o,c,f)}o!==null&&r!==null&&iM(t,r,o)}function iM(e,n,t){let r=e.localNames=[];for(let i=0;i<n.length;i+=2){let o=t[n[i+1]];if(o==null)throw new T(-301,!1);r.push(n[i],o)}}function oM(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function sM(e,n,t,r,i,o,s){let a=r.length,c=null;for(let y=0;y<a;y++){let g=r[y];c===null&&Dn(g)&&(c=g,oM(e,t,y)),Jd(tc(t,n),e,g.type)}fM(t,e.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let y=0;y<a;y++){let g=r[y];g.providersResolver&&g.providersResolver(g)}let f=!1,h=!1,m=ky(e,n,a,null);a>0&&(t.directiveToIndex=new Map);for(let y=0;y<a;y++){let g=r[y];if(t.mergedAttrs=wi(t.mergedAttrs,g.hostAttrs),cM(e,t,n,m,g),dM(m,g,i),s!==null&&s.has(g)){let[L,N]=s.get(g);t.directiveToIndex.set(g.type,[m,L+t.directiveStart,N+t.directiveStart])}else(o===null||!o.has(g))&&t.directiveToIndex.set(g.type,m);g.contentQueries!==null&&(t.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(t.flags|=64);let M=g.type.prototype;!f&&(M.ngOnChanges||M.ngOnInit||M.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),f=!0),!h&&(M.ngOnChanges||M.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),h=!0),m++}aM(e,t,o)}function aM(e,n,t){for(let r=n.directiveStart;r<n.directiveEnd;r++){let i=e.data[r];if(t===null||!t.has(i))Rg(0,n,i,r),Rg(1,n,i,r),kg(n,r,!1);else{let o=t.get(i);Ng(0,n,o,r),Ng(1,n,o,r),kg(n,r,!0)}}}function Rg(e,n,t,r){let i=e===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=n.inputs??={}:s=n.outputs??={},s[o]??=[],s[o].push(r),dv(n,o)}}function Ng(e,n,t,r){let i=e===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=n.hostDirectiveInputs??={}:a=n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),dv(n,s)}}function dv(e,n){n==="class"?e.flags|=8:n==="style"&&(e.flags|=16)}function kg(e,n,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!t&&i===null||t&&o===null||Wf(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let f=i[c];for(let h of f)if(h===n){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let f=o[c];for(let h=0;h<f.length;h+=2)if(f[h]===n){s??=[],s.push(f[h+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function cM(e,n,t,r,i){e.data[r]=i;let o=i.factory||(i.factory=tr(i.type,!0)),s=new Br(o,Dn(i),I,null);e.blueprint[r]=s,t[r]=s,lM(e,n,r,ky(e,t,i.hostVars,Ge),i)}function lM(e,n,t,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~n.index;uM(s)!=a&&s.push(a),s.push(t,r,o)}}function uM(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function dM(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;Dn(n)&&(t[""]=e)}}function fM(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function fv(e,n,t,r,i,o,s,a){let c=n[W],f=c.consts,h=En(f,s),m=Sc(c,e,t,r,h);return o&&rM(c,n,m,En(f,a),i),m.mergedAttrs=wi(m.mergedAttrs,m.attrs),m.attrs!==null&&oc(m,m.attrs,!1),m.mergedAttrs!==null&&oc(m,m.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,m),m}function pv(e,n){Wb(e,n),pd(n)&&e.queries.elementEnd(n)}function pM(e,n,t,r,i,o){let s=n.consts,a=En(s,i),c=Sc(n,e,t,r,a);if(c.mergedAttrs=wi(c.mergedAttrs,c.attrs),o!=null){let f=En(s,o);c.localNames=[];for(let h=0;h<f.length;h+=2)c.localNames.push(f[h],-1)}return c.attrs!==null&&oc(c,c.attrs,!1),c.mergedAttrs!==null&&oc(c,c.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,c),c}function sp(e,n,t){return e[n]=t}function hM(e,n){return e[n]}function Mt(e,n,t){if(t===Ge)return!1;let r=e[n];return Object.is(r,t)?!1:(e[n]=t,!0)}function ap(e,n,t,r){let i=Mt(e,n,t);return Mt(e,n+1,r)||i}function mM(e,n,t,r,i){let o=ap(e,n,t,r);return Mt(e,n+2,i)||o}function Ka(e,n,t){return function r(i){let o=cr(e)?Lt(e.index,n):n;rp(o,5);let s=n[Ee],a=Fg(n,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=Fg(n,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function Fg(e,n,t,r){let i=Z(null);try{return fe(se.OutputStart,n,t),t(r)!==!1}catch(o){return AE(e,o),!1}finally{fe(se.OutputEnd,n,t),Z(i)}}function hv(e,n,t,r,i,o,s,a){let c=Oa(e),f=!1,h=null;if(!r&&c&&(h=yM(n,t,o,e.index)),h!==null){let m=h.__ngLastListenerFn__||h;m.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,f=!0}else{let m=Xt(e,t),y=r?r(m):m;mD(t,y,o,a);let g=i.listen(y,o,a);if(!gM(o)){let M=r?L=>r(Ft(L[e.index])):e.index;mv(M,n,t,o,a,g,!1)}}return f}function gM(e){return e.startsWith("animation")||e.startsWith("transition")}function yM(e,n,t,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=n[vi],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function mv(e,n,t,r,i,o,s){let a=n.firstCreatePass?_d(n):null,c=Cd(t),f=c.length;c.push(i,o),a&&a.push(r,e,f,(f+1)*(s?-1:1))}function Lg(e,n,t,r,i,o){let s=n[t],a=n[W],f=a.data[t].outputs[r],m=s[f].subscribe(o);mv(e.index,a,n,i,o,m,!0)}var yf=Symbol("BINDING");var sc=class extends Zo{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=Vn(n);return new $r(t,this.ngModule)}};function vM(e){return Object.keys(e).map(n=>{let[t,r,i]=e[n],o={propName:t,templateName:n,isSignal:(r&bc.SignalBased)!==0};return i&&(o.transform=i),o})}function CM(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}function _M(e,n,t){let r=n instanceof De?n:n?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new gf(t,r):t}function bM(e){let n=e.get(Hr,null);if(n===null)throw new T(407,!1);let t=e.get(uv,null),r=e.get(rr,null);return{rendererFactory:n,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function DM(e,n){let t=gv(e);return Sy(n,t,t==="svg"?Um:t==="math"?Hm:null)}function gv(e){return(e.selectors[0][0]||"div").toLowerCase()}var $r=class extends xc{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=vM(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=CM(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=YD(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,r,i,o,s){fe(se.DynamicComponentStart);let a=Z(null);try{let c=this.componentDef,f=EM(r,c,s,o),h=_M(c,i||this.ngModule,n),m=bM(h),y=m.rendererFactory.createRenderer(null,c),g=r?CE(y,r,c.encapsulation,h):DM(c,y),M=s?.some(Vg)||o?.some(k=>typeof k!="function"&&k.bindings.some(Vg)),L=qf(null,f,null,512|Ny(c),null,null,m,y,h,null,vy(g,h,!0));L[Fe]=g,Fa(L);let N=null;try{let k=fv(Fe,L,2,"#host",()=>f.directiveRegistry,!0,0);Oy(y,g,k),Ii(g,L),zy(f,L,k),_y(f,k,L),pv(f,k),t!==void 0&&wM(k,this.ngContentSelectors,t),N=Lt(k.index,L),L[Ee]=N[Ee],np(f,L,null)}catch(k){throw N!==null&&ef(N),ef(L),k}finally{fe(se.DynamicComponentEnd),La()}return new ac(this.componentType,L,!!M)}finally{Z(a)}}};function EM(e,n,t,r){let i=e?["ng-version","21.0.6"]:KD(n.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[yf].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let m=r[h];if(typeof m!="function")for(let y of m.bindings){a+=y[yf].requiredVars;let g=h+1;y.create&&(y.targetIdx=g,(o??=[]).push(y)),y.update&&(y.targetIdx=g,(s??=[]).push(y))}}let c=[n];if(r)for(let h of r){let m=typeof h=="function"?h:h.type,y=td(m);c.push(y)}return Gf(0,null,MM(o,s),1,a,c,null,null,null,[i],null)}function MM(e,n){return!e&&!n?null:t=>{if(t&1&&e)for(let r of e)r.create();if(t&2&&n)for(let r of n)r.update()}}function Vg(e){let n=e[yf].kind;return n==="input"||n==="twoWay"}var ac=class extends lv{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=xo(t[W],Fe),this.location=Ti(this._tNode,t),this.instance=Lt(this._tNode.index,t)[Ee],this.hostView=this.changeDetectorRef=new dr(t,void 0),this.componentType=n}setInput(n,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let i=this._rootLView,o=tp(r,i[W],i,n,t);this.previousInputValues.set(n,t);let s=Lt(r.index,i);rp(s,1)}get injector(){return new jr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function wM(e,n,t){let r=e.projection=[];for(let i=0;i<n.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Gr=(()=>{class e{static __NG_ELEMENT_ID__=IM}return e})();function IM(){let e=Ue();return vv(e,Y())}var SM=Gr,yv=class extends SM{_lContainer;_hostTNode;_hostLView;constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return Ti(this._hostTNode,this._hostLView)}get injector(){return new jr(this._hostTNode,this._hostLView)}get parentInjector(){let n=Nf(this._hostTNode,this._hostLView);if(ey(n)){let t=Xa(n,this._hostLView),r=Ja(n),i=t[W].data[r+8];return new jr(i,t)}else return new jr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=jg(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-Me}createEmbeddedView(n,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=hf(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Lo(this._hostTNode,s)),a}createComponent(n,t,r,i,o,s,a){let c=n&&!Bb(n),f;if(c)f=t;else{let N=t||{};f=N.index,r=N.injector,i=N.projectableNodes,o=N.environmentInjector||N.ngModuleRef,s=N.directives,a=N.bindings}let h=c?n:new $r(Vn(n)),m=r||this.parentInjector;if(!o&&h.ngModule==null){let k=(c?m:this.parentInjector).get(De,null);k&&(o=k)}let y=Vn(h.componentType??{}),g=hf(this._lContainer,y?.id??null),M=g?.firstChild??null,L=h.create(m,i,M,o,s,a);return this.insertImpl(L.hostView,f,Lo(this._hostTNode,g)),L}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){let i=n._lView;if(Wm(i)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let c=i[ke],f=new yv(c,c[kt],c[ke]);f.detach(f.indexOf(n))}}let o=this._adjustIndex(t),s=this._lContainer;return Ic(s,i,o,r),n.attachToViewContainerRef(),id($d(s),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=jg(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),r=jo(this._lContainer,t);r&&(Do($d(this._lContainer),t),Ec(r[W],r))}detach(n){let t=this._adjustIndex(n,-1),r=jo(this._lContainer,t);return r&&Do($d(this._lContainer),t)!=null?new dr(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function jg(e){return e[So]}function $d(e){return e[So]||(e[So]=[])}function vv(e,n){let t,r=n[e.index];return Jt(r)?t=r:(t=iv(r,n,null,e),n[e.index]=t,Zf(n,t)),TM(t,n,e,r),new yv(t,e,n)}function xM(e,n){let t=e[ge],r=t.createComment(""),i=Xt(n,e),o=t.parentNode(i);return rc(t,o,r,t.nextSibling(i),!1),r}var TM=PM,OM=()=>!1;function AM(e,n,t){return OM(e,n,t)}function PM(e,n,t,r){if(e[ar])return;let i;t.type&8?i=Ft(r):i=xM(n,t),e[ar]=i}var vf=class e{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},Cf=class e{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){let t=n.queries;if(t!==null){let r=n.contentQueries!==null?n.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new e(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)cp(n,t).matches!==null&&this.queries[t].setDirty()}},_f=class{flags;read;predicate;constructor(n,t,r=null){this.flags=t,this.read=r,typeof n=="string"?this.predicate=BM(n):this.predicate=n}},bf=class e{queries;constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(n,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new e(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},Df=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,t=-1){this.metadata=n,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new e(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=n.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(n,t,RM(t,o)),this.matchTNodeWithReadOption(n,t,Za(t,n,o,!1,!1))}else r===Si?t.type&4&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,Za(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===et||i===Gr||i===Si&&t.type&4)this.addMatch(t.index,-2);else{let o=Za(t,n,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(n,t){this.matches===null?this.matches=[n,t]:this.matches.push(n,t)}};function RM(e,n){let t=e.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1]}return null}function NM(e,n){return e.type&11?Ti(e,n):e.type&4?ip(e,n):null}function kM(e,n,t,r){return t===-1?NM(n,e):t===-2?FM(e,n,r):Fo(e,e[W],t,n)}function FM(e,n,t){if(t===et)return Ti(n,e);if(t===Si)return ip(n,e);if(t===Gr)return vv(n,e)}function Cv(e,n,t,r){let i=n[_n].queries[r];if(i.matches===null){let o=e.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let f=s[c];if(f<0)a.push(null);else{let h=o[f];a.push(kM(n,h,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function Ef(e,n,t,r){let i=e.queries.getByIndex(t),o=i.matches;if(o!==null){let s=Cv(e,n,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let f=o[a+1],h=n[-c];for(let m=Me;m<h.length;m++){let y=h[m];y[sr]===y[ke]&&Ef(y[W],y,f,r)}if(h[Lr]!==null){let m=h[Lr];for(let y=0;y<m.length;y++){let g=m[y];Ef(g[W],g,f,r)}}}}}return r}function LM(e,n){return e[_n].queries[n].queryList}function VM(e,n,t){let r=new nc((t&4)===4);return Zm(e,n,r,r.destroy),(n[_n]??=new Cf).queries.push(new vf(r))-1}function jM(e,n,t,r){let i=xe();if(i.firstCreatePass){let o=Ue();UM(i,new _f(n,t,r),o.index),HM(i,e),(t&2)===2&&(i.staticContentQueries=!0)}return VM(i,Y(),t)}function BM(e){return e.split(",").map(n=>n.trim())}function UM(e,n,t){e.queries===null&&(e.queries=new bf),e.queries.track(new Df(n,t))}function HM(e,n){let t=e.contentQueries||(e.contentQueries=[]),r=t.length?t[t.length-1]:-1;n!==r&&t.push(e.queries.length-1,n)}function cp(e,n){return e.queries.getByIndex(n)}function $M(e,n){let t=e[W],r=cp(t,n);return r.crossesNgTemplate?Ef(t,e,n,[]):Cv(t,e,r,n)}var zr=class{},Tc=class{};var cc=class extends zr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new sc(this);constructor(n,t,r,i=!0){super(),this.ngModuleType=n,this._parent=t;let o=ed(n);this._bootstrapComponents=Py(o.bootstrap),this._r3Injector=Pd(n,t,[{provide:zr,useValue:this},{provide:Zo,useValue:this.componentFactoryResolver},...r],Ln(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},lc=class extends Tc{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new cc(this.moduleType,n,[])}};var Bo=class extends zr{injector;componentFactoryResolver=new sc(this);instance=null;constructor(n){super();let t=new Ar([...n.providers,{provide:zr,useValue:this},{provide:Zo,useValue:this.componentFactoryResolver}],n.parent||Mo(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function Oi(e,n,t=null){return new Bo({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var zM=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=ad(!1,t.type),i=r.length>0?Oi([r],this._injector,""):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=w({token:e,providedIn:"environment",factory:()=>new e(A(De))})}return e})();function ie(e){return Ho(()=>{let n=_v(e),t=F(_({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===kf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?i=>i.get(zM).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||rn.Emulated,styles:e.styles||st,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&Sn("NgStandalone"),bv(t);let r=e.dependencies;return t.directiveDefs=Bg(r,WM),t.pipeDefs=Bg(r,Im),t.id=ZM(t),t})}function WM(e){return Vn(e)||td(e)}function sn(e){return Ho(()=>({type:e.type,bootstrap:e.bootstrap||st,declarations:e.declarations||st,imports:e.imports||st,exports:e.exports||st,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function GM(e,n){if(e==null)return ir;let t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=bc.None,c=null),t[o]=[r,a,c],n[o]=s}return t}function qM(e){if(e==null)return ir;let n={};for(let t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function Ce(e){return Ho(()=>{let n=_v(e);return bv(n),n})}function lp(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function _v(e){let n={};return{type:e.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||ir,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||st,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:GM(e.inputs,n),outputs:qM(e.outputs),debugInfo:null}}function bv(e){e.features?.forEach(n=>n(e))}function Bg(e,n){return e?()=>{let t=typeof e=="function"?e():e,r=[];for(let i of t){let o=n(i);o!==null&&r.push(o)}return r}:null}function ZM(e){let n=0,t=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function YM(e){return Object.getPrototypeOf(e.prototype).constructor}function at(e){let n=YM(e.type),t=!0,r=[e];for(;n;){let i;if(Dn(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new T(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);let s=e;s.inputs=zd(e.inputs),s.declaredInputs=zd(e.declaredInputs),s.outputs=zd(e.outputs);let a=i.hostBindings;a&&ew(e,a);let c=i.viewQuery,f=i.contentQueries;if(c&&JM(e,c),f&&XM(e,f),KM(e,i),wm(e.outputs,i.outputs),Dn(i)&&i.data.animation){let h=e.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===at&&(t=!1)}}n=Object.getPrototypeOf(n)}QM(r)}function KM(e,n){for(let t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let r=n.inputs[t];r!==void 0&&(e.inputs[t]=r,e.declaredInputs[t]=n.declaredInputs[t])}}function QM(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=wi(i.hostAttrs,t=wi(t,i.hostAttrs))}}function zd(e){return e===ir?{}:e===st?[]:e}function JM(e,n){let t=e.viewQuery;t?e.viewQuery=(r,i)=>{n(r,i),t(r,i)}:e.viewQuery=n}function XM(e,n){let t=e.contentQueries;t?e.contentQueries=(r,i,o)=>{n(r,i,o),t(r,i,o)}:e.contentQueries=n}function ew(e,n){let t=e.hostBindings;t?e.hostBindings=(r,i)=>{n(r,i),t(r,i)}:e.hostBindings=n}function tw(e,n,t,r,i,o,s,a){if(t.firstCreatePass){e.mergedAttrs=wi(e.mergedAttrs,e.attrs);let h=e.tView=Gf(2,e,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,e),h.queries=t.queries.embeddedTView(e))}a&&(e.flags|=a),Di(e,!1);let c=nw(t,n,e,r);Va()&&Jf(t,n,c,e),Ii(c,n);let f=iv(c,n,c,e);n[r+Fe]=f,Zf(n,f),AM(f,e,n)}function uc(e,n,t,r,i,o,s,a,c,f,h){let m=t+Fe,y;if(n.firstCreatePass){if(y=Sc(n,m,4,s||null,a||null),f!=null){let g=En(n.consts,f);y.localNames=[];for(let M=0;M<g.length;M+=2)y.localNames.push(g[M],-1)}}else y=n.data[m];return tw(y,e,n,t,r,i,o,c),f!=null&&ep(e,y,h),y}var nw=rw;function rw(e,n,t,r){return ja(!0),n[ge].createComment("")}var Oc=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function Dv(e){return typeof e=="function"&&e[rt]!==void 0}function up(e){return Dv(e)&&typeof e.set=="function"}var dp=new R("");function fr(e){return!!e&&typeof e.then=="function"}function fp(e){return!!e&&typeof e.subscribe=="function"}var pp=new R("");function Ac(e){return Kt([{provide:pp,multi:!0,useValue:e}])}var hp=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=C(pp,{optional:!0})??[];injector=C(Je);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Be(this.injector,i);if(fr(o))t.push(o);else if(fp(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Yo=new R("");function Ev(){vu(()=>{let e="";throw new T(600,e)})}function Mv(e){return e.isBoundToModule}var iw=10;var Wn=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=C(Et);afterRenderManager=C(Kf);zonelessEnabled=C(Po);rootEffectScheduler=C(jd);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Oe;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=C(Bn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ae(t=>!t))}constructor(){C(zn,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=C(De);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Je.NULL){return this._injector.get(Xe).run(()=>{fe(se.BootstrapComponentStart);let s=t instanceof xc;if(!this._injector.get(hp).done){let M="";throw new T(405,M)}let c;s?c=t:c=this._injector.get(Zo).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let f=Mv(c)?void 0:this._injector.get(zr),h=r||c.selector,m=c.create(i,[],h,f),y=m.location.nativeElement,g=m.injector.get(dp,null);return g?.registerApplication(y),m.onDestroy(()=>{this.detachView(m.hostView),ko(this.components,m),g?.unregisterApplication(y)}),this._loadComponent(m),fe(se.BootstrapComponentEnd,m),m})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){fe(se.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Dc.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw fe(se.ChangeDetectionEnd),new T(101,!1);let t=Z(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Z(t),this.afterTick.next(),fe(se.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Hr,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<iw;){fe(se.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{fe(se.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!To(i))continue;let o=r&&!this.zonelessEnabled?0:1;ev(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>To(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;ko(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Yo,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ko(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new T(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ko(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function pr(e,n,t,r){let i=Y(),o=lr();if(Mt(i,o,n)){let s=xe(),a=Ao();xE(a,i,e,n,t,r)}return pr}var pL=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function mp(){return Y()[ht][Ee]}var Mf=class{destroy(n){}updateValue(n,t){}swap(n,t){let r=Math.min(n,t),i=Math.max(n,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(n,t){this.attach(t,this.detach(n))}};function Wd(e,n,t,r,i){return e===t&&Object.is(n,r)?1:Object.is(i(e,n),i(t,r))?-1:0}function ow(e,n,t,r){let i,o,s=0,a=e.length-1,c=void 0;if(Array.isArray(n)){Z(r);let f=n.length-1;for(Z(null);s<=a&&s<=f;){let h=e.at(s),m=n[s],y=Wd(s,h,s,m,t);if(y!==0){y<0&&e.updateValue(s,m),s++;continue}let g=e.at(a),M=n[f],L=Wd(a,g,f,M,t);if(L!==0){L<0&&e.updateValue(a,M),a--,f--;continue}let N=t(s,h),k=t(a,g),Ne=t(s,m);if(Object.is(Ne,k)){let At=t(f,M);Object.is(At,N)?(e.swap(s,a),e.updateValue(a,M),f--,a--):e.move(a,s),e.updateValue(s,m),s++;continue}if(i??=new dc,o??=Hg(e,s,a,t),wf(e,i,s,Ne))e.updateValue(s,m),s++,a++;else if(o.has(Ne))i.set(N,e.detach(s)),a--;else{let At=e.create(s,n[s]);e.attach(s,At),s++,a++}}for(;s<=f;)Ug(e,i,t,s,n[s]),s++}else if(n!=null){Z(r);let f=n[Symbol.iterator]();Z(null);let h=f.next();for(;!h.done&&s<=a;){let m=e.at(s),y=h.value,g=Wd(s,m,s,y,t);if(g!==0)g<0&&e.updateValue(s,y),s++,h=f.next();else{i??=new dc,o??=Hg(e,s,a,t);let M=t(s,y);if(wf(e,i,s,M))e.updateValue(s,y),s++,a++,h=f.next();else if(!o.has(M))e.attach(s,e.create(s,y)),s++,a++,h=f.next();else{let L=t(s,m);i.set(L,e.detach(s)),a--}}}for(;!h.done;)Ug(e,i,t,e.length,h.value),h=f.next()}for(;s<=a;)e.destroy(e.detach(a--));i?.forEach(f=>{e.destroy(f)})}function wf(e,n,t,r){return n!==void 0&&n.has(r)?(e.attach(t,n.get(r)),n.delete(r),!0):!1}function Ug(e,n,t,r,i){if(wf(e,n,r,t(r,i)))e.updateValue(r,i);else{let o=e.create(r,i);e.attach(r,o)}}function Hg(e,n,t,r){let i=new Set;for(let o=n;o<=t;o++)i.add(r(o,e.at(o)));return i}var dc=class{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;let t=this.kvMap.get(n);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(n,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,t){if(this.kvMap.has(n)){let r=this.kvMap.get(n);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(n,t)}forEach(n){for(let[t,r]of this.kvMap)if(n(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),n(r,t)}}};function j(e,n,t,r,i,o,s,a){Sn("NgControlFlow");let c=Y(),f=xe(),h=En(f.consts,o);return uc(c,f,e,n,t,r,i,h,256,s,a),gp}function gp(e,n,t,r,i,o,s,a){Sn("NgControlFlow");let c=Y(),f=xe(),h=En(f.consts,o);return uc(c,f,e,n,t,r,i,h,512,s,a),gp}function B(e,n){Sn("NgControlFlow");let t=Y(),r=lr(),i=t[r]!==Ge?t[r]:-1,o=i!==-1?fc(t,Fe+i):void 0,s=0;if(Mt(t,r,e)){let a=Z(null);try{if(o!==void 0&&sv(o,s),e!==-1){let c=Fe+e,f=fc(t,c),h=Tf(t[W],c),m=cv(f,h,t),y=wc(t,h,n,{dehydratedView:m});Ic(f,y,s,Lo(h,m))}}finally{Z(a)}}else if(o!==void 0){let a=ov(o,s);a!==void 0&&(a[Ee]=n)}}var If=class{lContainer;$implicit;$index;constructor(n,t,r){this.lContainer=n,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Me}};function ct(e,n){return n}var Sf=class{hasEmptyBlock;trackByFn;liveCollection;constructor(n,t,r){this.hasEmptyBlock=n,this.trackByFn=t,this.liveCollection=r}};function G(e,n,t,r,i,o,s,a,c,f,h,m,y){Sn("NgControlFlow");let g=Y(),M=xe(),L=c!==void 0,N=Y(),k=a?s.bind(N[ht][Ee]):s,Ne=new Sf(L,k);N[Fe+e]=Ne,uc(g,M,e+1,n,t,r,i,En(M.consts,o),256),L&&uc(g,M,e+2,c,f,h,m,En(M.consts,y),512)}var xf=class extends Mf{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,t,r){super(),this.lContainer=n,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-Me}at(n){return this.getLView(n)[Ee].$implicit}attach(n,t){let r=t[yi];this.needsIndexUpdate||=n!==this.length,Ic(this.lContainer,t,n,Lo(this.templateTNode,r)),sw(this.lContainer,n)}detach(n){return this.needsIndexUpdate||=n!==this.length-1,aw(this.lContainer,n),cw(this.lContainer,n)}create(n,t){let r=hf(this.lContainer,this.templateTNode.tView.ssrId);return wc(this.hostLView,this.templateTNode,new If(this.lContainer,t,n),{dehydratedView:r})}destroy(n){Ec(n[W],n)}updateValue(n,t){this.getLView(n)[Ee].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[Ee].$index=n}getLView(n){return lw(this.lContainer,n)}};function q(e){let n=Z(null),t=en();try{let r=Y(),i=r[W],o=r[t],s=t+1,a=fc(r,s);if(o.liveCollection===void 0){let f=Tf(i,s);o.liveCollection=new xf(a,r,f)}else o.liveCollection.reset();let c=o.liveCollection;if(ow(c,e,o.trackByFn,n),c.updateIndexes(),o.hasEmptyBlock){let f=lr(),h=c.length===0;if(Mt(r,f,h)){let m=t+2,y=fc(r,m);if(h){let g=Tf(i,m),M=cv(y,g,r),L=wc(r,g,void 0,{dehydratedView:M});Ic(y,L,0,Lo(g,M))}else i.firstUpdatePass&&JE(y),sv(y,0)}}}finally{Z(n)}}function fc(e,n){return e[n]}function sw(e,n){if(e.length<=Me)return;let t=Me+n,r=e[t],i=r?r[Fr]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[jn];rE(o,i),Ur.delete(r),i.detachedLeaveAnimationFns=void 0}}function aw(e,n){if(e.length<=Me)return;let t=Me+n,r=e[t],i=r?r[Fr]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function cw(e,n){return jo(e,n)}function lw(e,n){return ov(e,n)}function Tf(e,n){return xo(e,n)}function U(e,n,t){let r=Y(),i=lr();if(Mt(r,i,n)){let o=xe(),s=Ao();Wy(s,r,e,n,r[ge],t)}return U}function Of(e,n,t,r,i){tp(n,e,t,i?"class":"style",r)}function d(e,n,t,r){let i=Y(),o=i[W],s=e+Fe,a=o.firstCreatePass?fv(s,i,2,n,SE,Qm(),t,r):o.data[s];if(qy(a,i,e,n,wv),Oa(a)){let c=i[W];zy(c,i,a),_y(c,a,i)}return r!=null&&ep(i,a),d}function l(){let e=xe(),n=Ue(),t=Zy(n);return e.firstCreatePass&&pv(e,t),Dd(t)&&Ed(),bd(),t.classesWithoutHost!=null&&qb(t)&&Of(e,t,Y(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&Zb(t)&&Of(e,t,Y(),t.stylesWithoutHost,!1),l}function he(e,n,t,r){return d(e,n,t,r),l(),he}function O(e,n,t,r){let i=Y(),o=i[W],s=e+Fe,a=o.firstCreatePass?pM(s,o,2,n,t,r):o.data[s];return qy(a,i,e,n,wv),r!=null&&ep(i,a),O}function x(){let e=Ue(),n=Zy(e);return Dd(n)&&Ed(),bd(),x}function gt(e,n,t,r){return O(e,n,t,r),x(),gt}var wv=(e,n,t,r,i)=>(ja(!0),Sy(n[ge],r,ug()));function ne(){return Y()}function Ko(e,n,t){let r=Y(),i=lr();if(Mt(r,i,n)){let o=xe(),s=Ao();Gy(s,r,e,n,r[ge],t)}return Ko}var Ro=void 0;function uw(e){let n=Math.floor(Math.abs(e)),t=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&t===0?1:5}var dw=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ro,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ro,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",Ro,Ro,Ro],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",uw],Gd={};function wt(e){let n=fw(e),t=$g(n);if(t)return t;let r=n.split("-")[0];if(t=$g(r),t)return t;if(r==="en")return dw;throw new T(701,!1)}function $g(e){return e in Gd||(Gd[e]=Pt.ng&&Pt.ng.common&&Pt.ng.common.locales&&Pt.ng.common.locales[e]),Gd[e]}var Te=(function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e})(Te||{});function fw(e){return e.toLowerCase().replace(/_/g,"-")}var Qo="en-US";var pw=Qo;function Iv(e){typeof e=="string"&&(pw=e.toLowerCase().replace(/_/g,"-"))}function V(e,n,t){let r=Y(),i=xe(),o=Ue();return Sv(i,r,r[ge],o,e,n,t),V}function Ai(e,n,t){let r=Y(),i=xe(),o=Ue();return(o.type&3||t)&&hv(o,i,r,t,r[ge],e,n,Ka(o,r,n)),Ai}function Sv(e,n,t,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Ka(r,n,o),hv(r,e,n,s,t,i,o,c)&&(a=!1)),a){let f=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let m=0;m<h.length;m+=2){let y=h[m],g=h[m+1];c??=Ka(r,n,o),Lg(r,n,y,g,i,c)}if(f&&f.length)for(let m of f)c??=Ka(r,n,o),Lg(r,n,m,i,i,c)}}function v(e=1){return lg(e)}function Pc(e,n,t,r){return jM(e,n,t,r),Pc}function yp(e){let n=Y(),t=xe(),r=Td();ka(r+1);let i=cp(t,r);if(e.dirty&&zm(n)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=$M(n,r);e.reset(o,aD),e.notifyOnChanges()}return!0}return!1}function vp(){return LM(Y(),Td())}function Wa(e,n){return e<<17|n<<2}function Wr(e){return e>>17&32767}function hw(e){return(e&2)==2}function mw(e,n){return e&131071|n<<17}function Af(e){return e|2}function xi(e){return(e&131068)>>2}function qd(e,n){return e&-131069|n<<2}function gw(e){return(e&1)===1}function Pf(e){return e|1}function yw(e,n,t,r,i,o){let s=o?n.classBindings:n.styleBindings,a=Wr(s),c=xi(s);e[r]=t;let f=!1,h;if(Array.isArray(t)){let m=t;h=m[1],(h===null||gi(m,h)>0)&&(f=!0)}else h=t;if(i)if(c!==0){let y=Wr(e[a+1]);e[r+1]=Wa(y,a),y!==0&&(e[y+1]=qd(e[y+1],r)),e[a+1]=mw(e[a+1],r)}else e[r+1]=Wa(a,0),a!==0&&(e[a+1]=qd(e[a+1],r)),a=r;else e[r+1]=Wa(c,0),a===0?a=r:e[c+1]=qd(e[c+1],r),c=r;f&&(e[r+1]=Af(e[r+1])),zg(e,h,r,!0),zg(e,h,r,!1),vw(n,h,e,r,o),s=Wa(a,c),o?n.classBindings=s:n.styleBindings=s}function vw(e,n,t,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof n=="string"&&gi(o,n)>=0&&(t[r+1]=Pf(t[r+1]))}function zg(e,n,t,r){let i=e[t+1],o=n===null,s=r?Wr(i):xi(i),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],f=e[s+1];Cw(c,n)&&(a=!0,e[s+1]=r?Pf(f):Af(f)),s=r?Wr(f):xi(f)}a&&(e[t+1]=r?Af(i):Pf(i))}function Cw(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?gi(e,n)>=0:!1}var nn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function _w(e){return e.substring(nn.key,nn.keyEnd)}function bw(e){return Dw(e),xv(e,Tv(e,0,nn.textEnd))}function xv(e,n){let t=nn.textEnd;return t===n?-1:(n=nn.keyEnd=Ew(e,nn.key=n,t),Tv(e,n,t))}function Dw(e){nn.key=0,nn.keyEnd=0,nn.value=0,nn.valueEnd=0,nn.textEnd=e.length}function Tv(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function Ew(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}function Rc(e,n,t){return Ov(e,n,t,!1),Rc}function qr(e,n){return Ov(e,n,null,!0),qr}function Cp(e){ww(Aw,Mw,e,!0)}function Mw(e,n){for(let t=bw(n);t>=0;t=xv(n,t))Sa(e,_w(n),!0)}function Ov(e,n,t,r){let i=Y(),o=xe(),s=Oo(2);if(o.firstUpdatePass&&Pv(o,e,s,r),n!==Ge&&Mt(i,s,n)){let a=o.data[en()];Rv(o,a,i,i[ge],e,i[s+1]=Rw(n,t),r,s)}}function ww(e,n,t,r){let i=xe(),o=Oo(2);i.firstUpdatePass&&Pv(i,null,o,r);let s=Y();if(t!==Ge&&Mt(s,o,t)){let a=i.data[en()];if(Nv(a,r)&&!Av(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=Da(c,t||"")),Of(i,a,s,t,r)}else Pw(i,a,s,s[ge],s[o+1],s[o+1]=Ow(e,n,t),r,o)}}function Av(e,n){return n>=e.expandoStartIndex}function Pv(e,n,t,r){let i=e.data;if(i[t+1]===null){let o=i[en()],s=Av(e,t);Nv(o,r)&&n===null&&!s&&(n=!1),n=Iw(i,o,n,r),yw(i,o,n,t,s,r)}}function Iw(e,n,t,r){let i=og(e),o=r?n.residualClasses:n.residualStyles;if(i===null)(r?n.classBindings:n.styleBindings)===0&&(t=Zd(null,e,n,t,r),t=Uo(t,n.attrs,r),o=null);else{let s=n.directiveStylingLast;if(s===-1||e[s]!==i)if(t=Zd(i,e,n,t,r),o===null){let c=Sw(e,n,r);c!==void 0&&Array.isArray(c)&&(c=Zd(null,e,n,c[1],r),c=Uo(c,n.attrs,r),xw(e,n,r,c))}else o=Tw(e,n,r)}return o!==void 0&&(r?n.residualClasses=o:n.residualStyles=o),t}function Sw(e,n,t){let r=t?n.classBindings:n.styleBindings;if(xi(r)!==0)return e[Wr(r)]}function xw(e,n,t,r){let i=t?n.classBindings:n.styleBindings;e[Wr(i)]=r}function Tw(e,n,t){let r,i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=Uo(r,s,t)}return Uo(r,n.attrs,t)}function Zd(e,n,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=n[a],r=Uo(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(t.directiveStylingLast=a),r}function Uo(e,n,t){let r=t?1:2,i=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Sa(e,s,t?!0:n[++o]))}return e===void 0?null:e}function Ow(e,n,t){if(t==null||t==="")return st;let r=[],i=Bt(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else typeof i=="string"&&n(r,i);return r}function Aw(e,n,t){let r=String(n);r!==""&&!r.includes(" ")&&Sa(e,r,t)}function Pw(e,n,t,r,i,o,s,a){i===Ge&&(i=st);let c=0,f=0,h=0<i.length?i[0]:null,m=0<o.length?o[0]:null;for(;h!==null||m!==null;){let y=c<i.length?i[c+1]:void 0,g=f<o.length?o[f+1]:void 0,M=null,L;h===m?(c+=2,f+=2,y!==g&&(M=m,L=g)):m===null||h!==null&&h<m?(c+=2,M=h):(f+=2,M=m,L=g),M!==null&&Rv(e,n,t,r,M,L,s,a),h=c<i.length?i[c]:null,m=f<o.length?o[f]:null}}function Rv(e,n,t,r,i,o,s,a){if(!(n.type&3))return;let c=e.data,f=c[a+1],h=gw(f)?Wg(c,n,t,i,xi(f),s):void 0;if(!pc(h)){pc(o)||hw(f)&&(o=Wg(c,null,t,i,a,s));let m=hd(en(),t);vE(r,s,m,i,o)}}function Wg(e,n,t,r,i,o){let s=n===null,a;for(;i>0;){let c=e[i],f=Array.isArray(c),h=f?c[1]:c,m=h===null,y=t[i+1];y===Ge&&(y=m?st:void 0);let g=m?xa(y,r):h===r?y:void 0;if(f&&!pc(g)&&(g=xa(c,r)),pc(g)&&(a=g,s))return a;let M=e[i+1];i=s?Wr(M):xi(M)}if(n!==null){let c=o?n.residualClasses:n.residualStyles;c!=null&&(a=xa(c,r))}return a}function pc(e){return e!==void 0}function Rw(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=Ln(Bt(e)))),e}function Nv(e,n){return(e.flags&(n?8:16))!==0}function u(e,n=""){let t=Y(),r=xe(),i=e+Fe,o=r.firstCreatePass?Sc(r,i,1,n,null):r.data[i],s=Nw(r,t,o,n,e);t[i]=s,Va()&&Jf(r,t,s,o),Di(o,!1)}var Nw=(e,n,t,r,i)=>(ja(!0),kD(n[ge],r));function kw(e,n,t,r=""){return Mt(e,lr(),t)?n+vn(t)+r:Ge}function Fw(e,n,t,r,i,o=""){let s=xd(),a=ap(e,s,t,i);return Oo(2),a?n+vn(t)+r+vn(i)+o:Ge}function Lw(e,n,t,r,i,o,s,a=""){let c=xd(),f=mM(e,c,t,i,s);return Oo(3),f?n+vn(t)+r+vn(i)+o+vn(s)+a:Ge}function b(e){return S("",e),b}function S(e,n,t){let r=Y(),i=kw(r,e,n,t);return i!==Ge&&_p(r,en(),i),S}function qe(e,n,t,r,i){let o=Y(),s=Fw(o,e,n,t,r,i);return s!==Ge&&_p(o,en(),s),qe}function Nc(e,n,t,r,i,o,s){let a=Y(),c=Lw(a,e,n,t,r,i,o,s);return c!==Ge&&_p(a,en(),c),Nc}function _p(e,n,t){let r=hd(n,e);FD(e[ge],r,t)}function H(e,n,t){up(n)&&(n=n());let r=Y(),i=lr();if(Mt(r,i,n)){let o=xe(),s=Ao();Wy(s,r,e,n,r[ge],t)}return H}function z(e,n){let t=up(e);return t&&e.set(n),t}function $(e,n){let t=Y(),r=xe(),i=Ue();return Sv(r,t,t[ge],i,e,n),$}function Gg(e,n,t){let r=xe();r.firstCreatePass&&kv(n,r.data,r.blueprint,Dn(e),t)}function kv(e,n,t,r,i){if(e=We(e),Array.isArray(e))for(let o=0;o<e.length;o++)kv(e[o],n,t,r,i);else{let o=xe(),s=Y(),a=Ue(),c=Or(e)?e:We(e.provide),f=ld(e),h=a.providerIndexes&1048575,m=a.directiveStart,y=a.providerIndexes>>20;if(Or(e)||!e.multi){let g=new Br(f,i,I,null),M=Kd(c,n,i?h:h+y,m);M===-1?(Jd(tc(a,s),o,c),Yd(o,e,n.length),n.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(g),s.push(g)):(t[M]=g,s[M]=g)}else{let g=Kd(c,n,h+y,m),M=Kd(c,n,h,h+y),L=g>=0&&t[g],N=M>=0&&t[M];if(i&&!N||!i&&!L){Jd(tc(a,s),o,c);let k=Bw(i?jw:Vw,t.length,i,r,f,e);!i&&N&&(t[M].providerFactory=k),Yd(o,e,n.length,0),n.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(k),s.push(k)}else{let k=Fv(t[i?M:g],f,!i&&r);Yd(o,e,g>-1?g:M,k)}!i&&r&&N&&t[M].componentProviders++}}}function Yd(e,n,t,r){let i=Or(n),o=Vm(n);if(i||o){let c=(o?We(n.useClass):n).prototype.ngOnDestroy;if(c){let f=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){let h=f.indexOf(t);h===-1?f.push(t,[r,c]):f[h+1].push(r,c)}else f.push(t,c)}}}function Fv(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function Kd(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function Vw(e,n,t,r,i){return Rf(this.multi,[])}function jw(e,n,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Fo(r,r[W],this.providerFactory.index,i);s=c.slice(0,a),Rf(o,s);for(let f=a;f<c.length;f++)s.push(c[f])}else s=[],Rf(o,s);return s}function Rf(e,n){for(let t=0;t<e.length;t++){let r=e[t];n.push(r())}return n}function Bw(e,n,t,r,i,o){let s=new Br(e,t,I,null);return s.multi=[],s.index=n,s.componentProviders=0,Fv(s,i,r&&!t),s}function an(e,n){return t=>{t.providersResolver=(r,i)=>Gg(r,i?i(e):e,!1),n&&(t.viewProvidersResolver=(r,i)=>Gg(r,i?i(n):n,!0))}}function bp(e,n,t){let r=Ra()+e,i=Y();return i[r]===Ge?sp(i,r,t?n.call(t):n()):hM(i,r)}function Zr(e,n,t,r){return Uw(Y(),Ra(),e,n,t,r)}function Lv(e,n){let t=e[n];return t===Ge?void 0:t}function Uw(e,n,t,r,i,o){let s=n+t;return Mt(e,s,i)?sp(e,s+1,o?r.call(o,i):r(i)):Lv(e,s+1)}function Hw(e,n,t,r,i,o,s){let a=n+t;return ap(e,a,i,o)?sp(e,a+2,s?r.call(s,i,o):r(i,o)):Lv(e,a+2)}function Ze(e,n){let t=xe(),r,i=e+Fe;t.firstCreatePass?(r=$w(n,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=tr(r.type,!0)),s,a=ot(I);try{let c=ec(!1),f=o();return ec(c),md(t,Y(),i,f),f}finally{ot(a)}}function $w(e,n){if(n)for(let t=n.length-1;t>=0;t--){let r=n[t];if(e===r.name)return r}}function Ye(e,n,t,r){let i=e+Fe,o=Y(),s=$m(o,i);return zw(o,i)?Hw(o,Ra(),n,s.transform,t,r,s):s.transform(t,r)}function zw(e,n){return e[W].data[n].pure}var hc=class{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},Dp=(()=>{class e{compileModuleSync(t){return new lc(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=ed(t),o=Py(i.declarations).reduce((s,a)=>{let c=Vn(a);return c&&s.push(new $r(c)),s},[]);return new hc(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Vv=(()=>{class e{applicationErrorHandler=C(Et);appRef=C(Wn);taskService=C(Bn);ngZone=C(Xe);zonelessEnabled=C(Po);tracing=C(zn,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new He;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Co):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(C(Vd,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Nd:Rd;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Co+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Nd(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function jv(){return[{provide:rr,useExisting:Vv},{provide:Xe,useClass:_o},{provide:Po,useValue:!0}]}function Ww(){return typeof $localize<"u"&&$localize.locale||Qo}var Jo=new R("",{factory:()=>C(Jo,{optional:!0,skipSelf:!0})||Ww()});function yt(e,n){return zs(e,n?.equal)}var Hv=Symbol("InputSignalNode#UNSET"),rI=F(_({},Ws),{transformFn:void 0,applyValueToInputSignal(e,n){lo(e,n)}});function $v(e,n){let t=Object.create(rI);t.value=e,t.transformFn=n?.transform;function r(){if(so(t),t.value===Hv){let i=null;throw new T(-950,i)}return t.value}return r[rt]=t,r}var Fc=class{attributeName;constructor(n){this.attributeName=n}__NG_ELEMENT_ID__=()=>$o(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function Bv(e,n){return $v(e,n)}function iI(e){return $v(Hv,e)}var zv=(Bv.required=iI,Bv);var Ep=new R(""),oI=new R("");function Xo(e){return!e.moduleRef}function sI(e){let n=Xo(e)?e.r3Injector:e.moduleRef.injector,t=n.get(Xe);return t.run(()=>{Xo(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=n.get(Et),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Xo(e)){let o=()=>n.destroy(),s=e.platformInjector.get(Ep);s.add(o),n.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Ep);s.add(o),e.moduleRef.onDestroy(()=>{ko(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return cI(r,t,()=>{let o=n.get(Bn),s=o.add(),a=n.get(hp);return a.runInitializers(),a.donePromise.then(()=>{let c=n.get(Jo,Qo);if(Iv(c||Qo),!n.get(oI,!0))return Xo(e)?n.get(Wn):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Xo(e)){let h=n.get(Wn);return e.rootComponent!==void 0&&h.bootstrap(e.rootComponent),h}else return aI?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void o.remove(s))})})}var aI;function cI(e,n,t){try{let r=t();return fr(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e(r)),r}}var kc=null;function lI(e=[],n){return Je.create({name:n,providers:[{provide:Eo,useValue:"platform"},{provide:Ep,useValue:new Set([()=>kc=null])},...e]})}function uI(e=[]){if(kc)return kc;let n=lI(e);return kc=n,Ev(),dI(n),n}function dI(e){let n=e.get(gc,null);Be(e,()=>{n?.forEach(t=>t())})}var Gn=(()=>{class e{static __NG_ELEMENT_ID__=fI}return e})();function fI(e){return pI(Ue(),Y(),(e&16)===16)}function pI(e,n,t){if(cr(e)&&!t){let r=Lt(e.index,n);return new dr(r,r)}else if(e.type&175){let r=n[ht];return new dr(r,n)}return null}function Wv(e){let{rootComponent:n,appProviders:t,platformProviders:r,platformRef:i}=e;fe(se.BootstrapApplicationStart);try{let o=i?.injector??uI(r),s=[jv(),hg,...t||[]],a=new Bo({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return sI({r3Injector:a.injector,platformInjector:o,rootComponent:n})}catch(o){return Promise.reject(o)}finally{fe(se.BootstrapApplicationEnd)}}function Yr(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function Gv(e){let n=Vn(e);if(!n)return null;let t=new $r(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var qv=null;function Ht(){return qv}function wp(e){qv??=e}var es=class{},hr=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:()=>C(Zv),providedIn:"platform"})}return e})(),Ip=new R(""),Zv=(()=>{class e extends hr{_location;_history;_doc=C(ve);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ht().getBaseHref(this._doc)}onPopState(t){let r=Ht().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Ht().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Lc(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function Yv(e){let n=e.search(/#|\?|$/);return e[n-1]==="/"?e.slice(0,n-1)+e.slice(n):e}function cn(e){return e&&e[0]!=="?"?`?${e}`:e}var ln=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:()=>C(jc),providedIn:"root"})}return e})(),Vc=new R(""),jc=(()=>{class e extends ln{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??C(ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Lc(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+cn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+cn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+cn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(A(hr),A(Vc,8))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),mr=(()=>{class e{_subject=new Oe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=gI(Yv(Kv(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+cn(r))}normalize(t){return e.stripTrailingSlash(mI(this._basePath,Kv(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+cn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+cn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=cn;static joinWithSlash=Lc;static stripTrailingSlash=Yv;static \u0275fac=function(r){return new(r||e)(A(ln))};static \u0275prov=w({token:e,factory:()=>hI(),providedIn:"root"})}return e})();function hI(){return new mr(A(ln))}function mI(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function Kv(e){return e.replace(/\/index.html$/,"")}function gI(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var Op=(()=>{class e extends ln{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Lc(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+cn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+cn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(A(hr),A(Vc,8))};static \u0275prov=w({token:e,factory:e.\u0275fac})}return e})();var nt=(function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e})(nt||{}),me=(function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e})(me||{}),vt=(function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e})(vt||{}),Zn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Jv(e){return wt(e)[Te.LocaleId]}function Xv(e,n,t){let r=wt(e),i=[r[Te.DayPeriodsFormat],r[Te.DayPeriodsStandalone]],o=$t(i,n);return $t(o,t)}function e0(e,n,t){let r=wt(e),i=[r[Te.DaysFormat],r[Te.DaysStandalone]],o=$t(i,n);return $t(o,t)}function t0(e,n,t){let r=wt(e),i=[r[Te.MonthsFormat],r[Te.MonthsStandalone]],o=$t(i,n);return $t(o,t)}function n0(e,n){let r=wt(e)[Te.Eras];return $t(r,n)}function ts(e,n){let t=wt(e);return $t(t[Te.DateFormat],n)}function ns(e,n){let t=wt(e);return $t(t[Te.TimeFormat],n)}function rs(e,n){let r=wt(e)[Te.DateTimeFormat];return $t(r,n)}function is(e,n){let t=wt(e),r=t[Te.NumberSymbols][n];if(typeof r>"u"){if(n===Zn.CurrencyDecimal)return t[Te.NumberSymbols][Zn.Decimal];if(n===Zn.CurrencyGroup)return t[Te.NumberSymbols][Zn.Group]}return r}function r0(e){if(!e[Te.ExtraData])throw new T(2303,!1)}function i0(e){let n=wt(e);return r0(n),(n[Te.ExtraData][2]||[]).map(r=>typeof r=="string"?Sp(r):[Sp(r[0]),Sp(r[1])])}function o0(e,n,t){let r=wt(e);r0(r);let i=[r[Te.ExtraData][0],r[Te.ExtraData][1]],o=$t(i,n)||[];return $t(o,t)||[]}function $t(e,n){for(let t=n;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new T(2304,!1)}function Sp(e){let[n,t]=e.split(":");return{hours:+n,minutes:+t}}var yI=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Bc={},vI=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function s0(e,n,t,r){let i=SI(e);n=qn(t,n)||n;let s=[],a;for(;n;)if(a=vI.exec(n),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;n=h}else{s.push(n);break}let c=i.getTimezoneOffset();r&&(c=c0(r,c),i=II(i,r));let f="";return s.forEach(h=>{let m=MI(h);f+=m?m(i,t,c):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),f}function Wc(e,n,t){let r=new Date(0);return r.setFullYear(e,n,t),r.setHours(0,0,0),r}function qn(e,n){let t=Jv(e);if(Bc[t]??={},Bc[t][n])return Bc[t][n];let r="";switch(n){case"shortDate":r=ts(e,vt.Short);break;case"mediumDate":r=ts(e,vt.Medium);break;case"longDate":r=ts(e,vt.Long);break;case"fullDate":r=ts(e,vt.Full);break;case"shortTime":r=ns(e,vt.Short);break;case"mediumTime":r=ns(e,vt.Medium);break;case"longTime":r=ns(e,vt.Long);break;case"fullTime":r=ns(e,vt.Full);break;case"short":let i=qn(e,"shortTime"),o=qn(e,"shortDate");r=Uc(rs(e,vt.Short),[i,o]);break;case"medium":let s=qn(e,"mediumTime"),a=qn(e,"mediumDate");r=Uc(rs(e,vt.Medium),[s,a]);break;case"long":let c=qn(e,"longTime"),f=qn(e,"longDate");r=Uc(rs(e,vt.Long),[c,f]);break;case"full":let h=qn(e,"fullTime"),m=qn(e,"fullDate");r=Uc(rs(e,vt.Full),[h,m]);break}return r&&(Bc[t][n]=r),r}function Uc(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,r){return n!=null&&r in n?n[r]:t})),e}function un(e,n,t="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=-e+1:(e=-e,o=t));let s=String(e);for(;s.length<n;)s="0"+s;return r&&(s=s.slice(s.length-n)),o+s}function CI(e,n){return un(e,3).substring(0,n)}function Pe(e,n,t=0,r=!1,i=!1){return function(o,s){let a=_I(e,o);if((t>0||a>-t)&&(a+=t),e===3)a===0&&t===-12&&(a=12);else if(e===6)return CI(a,n);let c=is(s,Zn.MinusSign);return un(a,n,c,r,i)}}function _I(e,n){switch(e){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate();case 3:return n.getHours();case 4:return n.getMinutes();case 5:return n.getSeconds();case 6:return n.getMilliseconds();case 7:return n.getDay();default:throw new T(2301,!1)}}function ye(e,n,t=nt.Format,r=!1){return function(i,o){return bI(i,o,e,n,t,r)}}function bI(e,n,t,r,i,o){switch(t){case 2:return t0(n,i,r)[e.getMonth()];case 1:return e0(n,i,r)[e.getDay()];case 0:let s=e.getHours(),a=e.getMinutes();if(o){let f=i0(n),h=o0(n,i,r),m=f.findIndex(y=>{if(Array.isArray(y)){let[g,M]=y,L=s>=g.hours&&a>=g.minutes,N=s<M.hours||s===M.hours&&a<M.minutes;if(g.hours<M.hours){if(L&&N)return!0}else if(L||N)return!0}else if(y.hours===s&&y.minutes===a)return!0;return!1});if(m!==-1)return h[m]}return Xv(n,i,r)[s<12?0:1];case 3:return n0(n,r)[e.getFullYear()<=0?0:1];default:let c=t;throw new T(2302,!1)}}function Hc(e){return function(n,t,r){let i=-1*r,o=is(t,Zn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case 0:return(i>=0?"+":"")+un(s,2,o)+un(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+un(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+un(s,2,o)+":"+un(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+un(s,2,o)+":"+un(Math.abs(i%60),2,o);default:throw new T(2310,!1)}}}var DI=0,zc=4;function EI(e){let n=Wc(e,DI,1).getDay();return Wc(e,0,1+(n<=zc?zc:zc+7)-n)}function a0(e){let n=e.getDay(),t=n===0?-3:zc-n;return Wc(e.getFullYear(),e.getMonth(),e.getDate()+t)}function xp(e,n=!1){return function(t,r){let i;if(n){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=a0(t),s=EI(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return un(i,e,is(r,Zn.MinusSign))}}function $c(e,n=!1){return function(t,r){let o=a0(t).getFullYear();return un(o,e,is(r,Zn.MinusSign),n)}}var Tp={};function MI(e){if(Tp[e])return Tp[e];let n;switch(e){case"G":case"GG":case"GGG":n=ye(3,me.Abbreviated);break;case"GGGG":n=ye(3,me.Wide);break;case"GGGGG":n=ye(3,me.Narrow);break;case"y":n=Pe(0,1,0,!1,!0);break;case"yy":n=Pe(0,2,0,!0,!0);break;case"yyy":n=Pe(0,3,0,!1,!0);break;case"yyyy":n=Pe(0,4,0,!1,!0);break;case"Y":n=$c(1);break;case"YY":n=$c(2,!0);break;case"YYY":n=$c(3);break;case"YYYY":n=$c(4);break;case"M":case"L":n=Pe(1,1,1);break;case"MM":case"LL":n=Pe(1,2,1);break;case"MMM":n=ye(2,me.Abbreviated);break;case"MMMM":n=ye(2,me.Wide);break;case"MMMMM":n=ye(2,me.Narrow);break;case"LLL":n=ye(2,me.Abbreviated,nt.Standalone);break;case"LLLL":n=ye(2,me.Wide,nt.Standalone);break;case"LLLLL":n=ye(2,me.Narrow,nt.Standalone);break;case"w":n=xp(1);break;case"ww":n=xp(2);break;case"W":n=xp(1,!0);break;case"d":n=Pe(2,1);break;case"dd":n=Pe(2,2);break;case"c":case"cc":n=Pe(7,1);break;case"ccc":n=ye(1,me.Abbreviated,nt.Standalone);break;case"cccc":n=ye(1,me.Wide,nt.Standalone);break;case"ccccc":n=ye(1,me.Narrow,nt.Standalone);break;case"cccccc":n=ye(1,me.Short,nt.Standalone);break;case"E":case"EE":case"EEE":n=ye(1,me.Abbreviated);break;case"EEEE":n=ye(1,me.Wide);break;case"EEEEE":n=ye(1,me.Narrow);break;case"EEEEEE":n=ye(1,me.Short);break;case"a":case"aa":case"aaa":n=ye(0,me.Abbreviated);break;case"aaaa":n=ye(0,me.Wide);break;case"aaaaa":n=ye(0,me.Narrow);break;case"b":case"bb":case"bbb":n=ye(0,me.Abbreviated,nt.Standalone,!0);break;case"bbbb":n=ye(0,me.Wide,nt.Standalone,!0);break;case"bbbbb":n=ye(0,me.Narrow,nt.Standalone,!0);break;case"B":case"BB":case"BBB":n=ye(0,me.Abbreviated,nt.Format,!0);break;case"BBBB":n=ye(0,me.Wide,nt.Format,!0);break;case"BBBBB":n=ye(0,me.Narrow,nt.Format,!0);break;case"h":n=Pe(3,1,-12);break;case"hh":n=Pe(3,2,-12);break;case"H":n=Pe(3,1);break;case"HH":n=Pe(3,2);break;case"m":n=Pe(4,1);break;case"mm":n=Pe(4,2);break;case"s":n=Pe(5,1);break;case"ss":n=Pe(5,2);break;case"S":n=Pe(6,1);break;case"SS":n=Pe(6,2);break;case"SSS":n=Pe(6,3);break;case"Z":case"ZZ":case"ZZZ":n=Hc(0);break;case"ZZZZZ":n=Hc(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=Hc(1);break;case"OOOO":case"ZZZZ":case"zzzz":n=Hc(2);break;default:return null}return Tp[e]=n,n}function c0(e,n){e=e.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function wI(e,n){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+n),e}function II(e,n,t){let i=e.getTimezoneOffset(),o=c0(n,i);return wI(e,-1*(o-i))}function SI(e){if(Qv(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[i,o=1,s=1]=e.split("-").map(a=>+a);return Wc(i,o-1,s)}let t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let r;if(r=e.match(yI))return xI(r)}let n=new Date(e);if(!Qv(n))throw new T(2311,!1);return n}function xI(e){let n=new Date(0),t=0,r=0,i=e[8]?n.setUTCFullYear:n.setFullYear,o=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-t,a=Number(e[5]||0)-r,c=Number(e[6]||0),f=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(n,s,a,c,f),n}function Qv(e){return e instanceof Date&&!isNaN(e.valueOf())}function TI(e,n){return new T(2100,!1)}var OI="mediumDate",l0=new R(""),u0=new R(""),It=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??OI,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return s0(t,s,o||this.locale,a)}catch(s){throw TI(e,s.message)}}static \u0275fac=function(r){return new(r||e)(I(Jo,16),I(l0,24),I(u0,24))};static \u0275pipe=lp({name:"date",type:e,pure:!0})}return e})();var we=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=sn({type:e});static \u0275inj=Rt({})}return e})();function os(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}var Kr=class{};var d0="browser";var f0=(()=>{class e{static \u0275prov=w({token:e,providedIn:"root",factory:()=>new Ap(C(ve),window)})}return e})(),Ap=class{document;window;offset=()=>[0,0];constructor(n,t){this.document=n,this.window=t}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n,t){this.window.scrollTo(F(_({},t),{left:n[0],top:n[1]}))}scrollToAnchor(n,t){let r=PI(this.document,n);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(n){try{this.window.history.scrollRestoration=n}catch{console.warn(yn(2400,!1))}}scrollToElement(n,t){let r=n.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(F(_({},t),{left:i-s[0],top:o-s[1]}))}};function PI(e,n){let t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}var ss=class{_doc;constructor(n){this._doc=n}manager},Gc=(()=>{class e extends ss{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(A(ve))};static \u0275prov=w({token:e,factory:e.\u0275fac})}return e})(),Yc=new R(""),kp=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof Gc));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof Gc);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new T(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||e)(A(Yc),A(Xe))};static \u0275prov=w({token:e,factory:e.\u0275fac})}return e})(),Pp="ng-app-id";function p0(e){for(let n of e)n.remove()}function h0(e,n){let t=n.createElement("style");return t.textContent=e,t}function RI(e,n,t,r){let i=e.head?.querySelectorAll(`style[${Pp}="${n}"],link[${Pp}="${n}"]`);if(i)for(let o of i)o.removeAttribute(Pp),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Np(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var Fp=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,RI(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,h0);r?.forEach(i=>this.addUsage(i,this.external,Np))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(p0(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])p0(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,h0(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Np(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||e)(A(ve),A(mc),A(yc,8),A(zo))};static \u0275prov=w({token:e,factory:e.\u0275fac})}return e})(),Rp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Lp=/%COMP%/g;var g0="%COMP%",NI=`_nghost-${g0}`,kI=`_ngcontent-${g0}`,FI=!0,LI=new R("",{factory:()=>FI});function VI(e){return kI.replace(Lp,e)}function jI(e){return NI.replace(Lp,e)}function y0(e,n){return n.map(t=>t.replace(Lp,e))}var Vp=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(t,r,i,o,s,a,c=null,f=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=f,this.defaultRenderer=new as(t,s,a,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Zc?i.applyToHost(t):i instanceof cs&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,f=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,m=this.tracingService;switch(r.encapsulation){case rn.Emulated:o=new Zc(c,f,r,this.appId,h,s,a,m);break;case rn.ShadowDom:return new qc(c,t,r,s,a,this.nonce,m,f);case rn.ExperimentalIsolatedShadowDom:return new qc(c,t,r,s,a,this.nonce,m);default:o=new cs(c,f,r,h,s,a,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||e)(A(kp),A(Fp),A(mc),A(LI),A(ve),A(Xe),A(yc),A(zn,8))};static \u0275prov=w({token:e,factory:e.\u0275fac})}return e})(),as=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,r,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(Rp[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(m0(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(m0(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new T(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;let o=Rp[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){let i=Rp[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(wn.DashCase|wn.Important)?n.style.setProperty(t,r,i&wn.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&wn.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n!=null&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r,i){if(typeof n=="string"&&(n=Ht().getGlobalEventTarget(this.doc,n),!n))throw new T(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,t,o)),this.eventManager.addEventListener(n,t,o,i)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;n(t)===!1&&t.preventDefault()}}};function m0(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var qc=class extends as{hostEl;sharedStylesHost;shadowRoot;constructor(n,t,r,i,o,s,a,c){super(n,i,o,a),this.hostEl=t,this.sharedStylesHost=c,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let f=r.styles;f=y0(r.id,f);for(let m of f){let y=document.createElement("style");s&&y.setAttribute("nonce",s),y.textContent=m,this.shadowRoot.appendChild(y)}let h=r.getExternalStyles?.();if(h)for(let m of h){let y=Np(m,i);s&&y.setAttribute("nonce",s),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},cs=class extends as{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,r,i,o,s,a,c){super(n,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let f=r.styles;this.styles=c?y0(c,f):f,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Ur.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Zc=class extends cs{contentAttr;hostAttr;constructor(n,t,r,i,o,s,a,c){let f=i+"-"+r.id;super(n,t,r,o,s,a,c,f),this.contentAttr=VI(f),this.hostAttr=jI(f)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}};var Kc=class e extends es{supportsDOMEvents=!0;static makeCurrent(){wp(new e)}onAndCancel(n,t,r,i){return n.addEventListener(t,r,i),()=>{n.removeEventListener(t,r,i)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=BI();return t==null?null:UI(t)}resetBaseElement(){ls=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return os(document.cookie,n)}},ls=null;function BI(){return ls=ls||document.head.querySelector("base"),ls?ls.getAttribute("href"):null}function UI(e){return new URL(e,document.baseURI).pathname}var HI=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:e.\u0275fac})}return e})(),v0=["alt","control","meta","shift"],$I={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zI={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},C0=(()=>{class e extends ss{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ht().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),v0.forEach(f=>{let h=r.indexOf(f);h>-1&&(r.splice(h,1),s+=f+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=$I[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),v0.forEach(s=>{if(s!==i){let a=zI[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||e)(A(ve))};static \u0275prov=w({token:e,factory:e.\u0275fac})}return e})();function jp(e,n,t){let r=_({rootComponent:e,platformRef:t?.platformRef},WI(n));return Wv(r)}function WI(e){return{appProviders:[...KI,...e?.providers??[]],platformProviders:YI}}function GI(){Kc.makeCurrent()}function qI(){return new gn}function ZI(){return Ff(document),document}var YI=[{provide:zo,useValue:d0},{provide:gc,useValue:GI,multi:!0},{provide:ve,useFactory:ZI}];var KI=[{provide:Eo,useValue:"root"},{provide:gn,useFactory:qI},{provide:Yc,useClass:Gc,multi:!0},{provide:Yc,useClass:C0,multi:!0},Vp,Fp,kp,{provide:Hr,useExisting:Vp},{provide:Kr,useClass:HI},[]];var gr=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){let t=new e;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){let t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(n.name,t);let i=(n.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=n.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(n,t){let r=n.toLowerCase();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(n,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}};var us=class{defaultValue;constructor(n){this.defaultValue=n}},Jc=class{map=new Map;set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}},Xc=class{encodeKey(n){return _0(n)}encodeValue(n){return _0(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function QI(e,n){let t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,o)),n.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var JI=/%(\d[a-f0-9])/gi,XI={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _0(e){return encodeURIComponent(e).replace(JI,(n,t)=>XI[t]??n)}function Qc(e){return`${e}`}var Yn=class e{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new Xc,n.fromString){if(n.fromObject)throw new T(2805,!1);this.map=QI(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{let r=n.fromObject[t],i=Array.isArray(r)?r.map(Qc):[Qc(r)];this.map.set(t,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){let t=[];return Object.keys(n).forEach(r=>{let i=n[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let t=new e({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let t=(n.op==="a"?this.map.get(n.param):void 0)||[];t.push(Qc(n.value)),this.map.set(n.param,t);break;case"d":if(n.value!==void 0){let r=this.map.get(n.param)||[],i=r.indexOf(Qc(n.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};function eS(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function b0(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function D0(e){return typeof Blob<"u"&&e instanceof Blob}function E0(e){return typeof FormData<"u"&&e instanceof FormData}function tS(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var M0="Content-Type",w0="Accept",I0="text/plain",S0="application/json",nS=`${S0}, ${I0}, */*`,Pi=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(n,t,r,i){this.url=t,this.method=n.toUpperCase();let o;if(eS(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new T(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),o.referrerPolicy&&(this.referrerPolicy=o.referrerPolicy),this.transferCache=o.transferCache}if(this.headers??=new gr,this.context??=new Jc,!this.params)this.params=new Yn,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||b0(this.body)||D0(this.body)||E0(this.body)||tS(this.body)?this.body:this.body instanceof Yn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||E0(this.body)?null:D0(this.body)?this.body.type||null:b0(this.body)?null:typeof this.body=="string"?I0:this.body instanceof Yn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?S0:null}clone(n={}){let t=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,o=n.keepalive??this.keepalive,s=n.priority||this.priority,a=n.cache||this.cache,c=n.mode||this.mode,f=n.redirect||this.redirect,h=n.credentials||this.credentials,m=n.referrer||this.referrer,y=n.integrity||this.integrity,g=n.referrerPolicy||this.referrerPolicy,M=n.transferCache??this.transferCache,L=n.timeout??this.timeout,N=n.body!==void 0?n.body:this.body,k=n.withCredentials??this.withCredentials,Ne=n.reportProgress??this.reportProgress,At=n.headers||this.headers,je=n.params||this.params,ro=n.context??this.context;return n.setHeaders!==void 0&&(At=Object.keys(n.setHeaders).reduce((io,Mr)=>io.set(Mr,n.setHeaders[Mr]),At)),n.setParams&&(je=Object.keys(n.setParams).reduce((io,Mr)=>io.set(Mr,n.setParams[Mr]),je)),new e(t,r,N,{params:je,headers:At,context:ro,reportProgress:Ne,responseType:i,withCredentials:k,transferCache:M,keepalive:o,cache:a,priority:s,timeout:L,mode:c,redirect:f,credentials:h,referrer:m,integrity:y,referrerPolicy:g})}},Jr=(function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e})(Jr||{}),Ri=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(n,t=200,r="OK"){this.headers=n.headers||new gr,this.status=n.status!==void 0?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.redirected=n.redirected,this.responseType=n.responseType,this.ok=this.status>=200&&this.status<300}},el=class e extends Ri{constructor(n={}){super(n)}type=Jr.ResponseHeader;clone(n={}){return new e({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},ds=class e extends Ri{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=Jr.Response;clone(n={}){return new e({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0,redirected:n.redirected??this.redirected,responseType:n.responseType??this.responseType})}},_e=class extends Ri{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},rS=200,iS=204;var oS=new R("");var sS=/^\)\]\}',?\n/;var Up=(()=>{class e{xhrFactory;tracingService=C(zn,{optional:!0});constructor(t){this.xhrFactory=t}maybePropagateTrace(t){return this.tracingService?.propagate?this.tracingService.propagate(t):t}handle(t){if(t.method==="JSONP")throw new T(-2800,!1);let r=this.xhrFactory;return Q(null).pipe(Qe(()=>new re(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((N,k)=>s.setRequestHeader(N,k.join(","))),t.headers.has(w0)||s.setRequestHeader(w0,nS),!t.headers.has(M0)){let N=t.detectContentTypeHeader();N!==null&&s.setRequestHeader(M0,N)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let N=t.responseType.toLowerCase();s.responseType=N!=="json"?N:"text"}let a=t.serializeBody(),c=null,f=()=>{if(c!==null)return c;let N=s.statusText||"OK",k=new gr(s.getAllResponseHeaders()),Ne=s.responseURL||t.url;return c=new el({headers:k,status:s.status,statusText:N,url:Ne}),c},h=this.maybePropagateTrace(()=>{let{headers:N,status:k,statusText:Ne,url:At}=f(),je=null;k!==iS&&(je=typeof s.response>"u"?s.responseText:s.response),k===0&&(k=je?rS:0);let ro=k>=200&&k<300;if(t.responseType==="json"&&typeof je=="string"){let io=je;je=je.replace(sS,"");try{je=je!==""?JSON.parse(je):null}catch(Mr){je=io,ro&&(ro=!1,je={error:Mr,text:je})}}ro?(o.next(new ds({body:je,headers:N,status:k,statusText:Ne,url:At||void 0})),o.complete()):o.error(new _e({error:je,headers:N,status:k,statusText:Ne,url:At||void 0}))}),m=this.maybePropagateTrace(N=>{let{url:k}=f(),Ne=new _e({error:N,status:s.status||0,statusText:s.statusText||"Unknown Error",url:k||void 0});o.error(Ne)}),y=m;t.timeout&&(y=this.maybePropagateTrace(N=>{let{url:k}=f(),Ne=new _e({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:k||void 0});o.error(Ne)}));let g=!1,M=this.maybePropagateTrace(N=>{g||(o.next(f()),g=!0);let k={type:Jr.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(k.total=N.total),t.responseType==="text"&&s.responseText&&(k.partialText=s.responseText),o.next(k)}),L=this.maybePropagateTrace(N=>{let k={type:Jr.UploadProgress,loaded:N.loaded};N.lengthComputable&&(k.total=N.total),o.next(k)});return s.addEventListener("load",h),s.addEventListener("error",m),s.addEventListener("timeout",y),s.addEventListener("abort",m),t.reportProgress&&(s.addEventListener("progress",M),a!==null&&s.upload&&s.upload.addEventListener("progress",L)),s.send(a),o.next({type:Jr.Sent}),()=>{s.removeEventListener("error",m),s.removeEventListener("abort",m),s.removeEventListener("load",h),s.removeEventListener("timeout",y),t.reportProgress&&(s.removeEventListener("progress",M),a!==null&&s.upload&&s.upload.removeEventListener("progress",L)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(A(Kr))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function aS(e,n){return n(e)}function cS(e,n,t){return(r,i)=>Be(t,()=>n(r,o=>e(o,i)))}var Hp=new R("",{factory:()=>[]}),x0=new R(""),T0=new R("",{factory:()=>!0});var fs=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=A(Up),i},providedIn:"root"})}return e})();var tl=(()=>{class e{backend;injector;chain=null;pendingTasks=C(Ua);contributeToStability=C(T0);constructor(t,r){this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Hp),...this.injector.get(x0,[])]));this.chain=r.reduceRight((i,o)=>cS(i,o,this.injector),aS)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(ho(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(A(fs),A(De))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$p=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=A(tl),i},providedIn:"root"})}return e})();function Bp(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,credentials:e.credentials,transferCache:e.transferCache,timeout:e.timeout,keepalive:e.keepalive,priority:e.priority,cache:e.cache,mode:e.mode,redirect:e.redirect,integrity:e.integrity,referrer:e.referrer,referrerPolicy:e.referrerPolicy}}var zt=(()=>{class e{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Pi)o=t;else{let c;i.headers instanceof gr?c=i.headers:c=new gr(i.headers);let f;i.params&&(i.params instanceof Yn?f=i.params:f=new Yn({fromObject:i.params})),o=new Pi(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:f,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,referrerPolicy:i.referrerPolicy,integrity:i.integrity,timeout:i.timeout})}let s=Q(o).pipe(er(c=>this.handler.handle(c)));if(t instanceof Pi||i.observe==="events")return s;let a=s.pipe(ft(c=>c instanceof ds));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ae(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new T(2806,!1);return c.body}));case"blob":return a.pipe(ae(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new T(2807,!1);return c.body}));case"text":return a.pipe(ae(c=>{if(c.body!==null&&typeof c.body!="string")throw new T(2808,!1);return c.body}));case"json":default:return a.pipe(ae(c=>c.body))}case"response":return a;default:throw new T(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Yn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Bp(i,r))}post(t,r,i={}){return this.request("POST",t,Bp(i,r))}put(t,r,i={}){return this.request("PUT",t,Bp(i,r))}static \u0275fac=function(r){return new(r||e)(A($p))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var lS=new R("",{factory:()=>!0}),uS="XSRF-TOKEN",dS=new R("",{factory:()=>uS}),fS="X-XSRF-TOKEN",pS=new R("",{providedIn:"root",factory:()=>fS}),hS=(()=>{class e{cookieName=C(dS);doc=C(ve);lastCookieString="";lastToken=null;parseCount=0;getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=os(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),O0=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=A(hS),i},providedIn:"root"})}return e})();function mS(e,n){if(!C(lS)||e.method==="GET"||e.method==="HEAD")return n(e);try{let i=C(hr).href,{origin:o}=new URL(i),{origin:s}=new URL(e.url,o);if(o!==s)return n(e)}catch{return n(e)}let t=C(O0).getToken(),r=C(pS);return t!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,t)})),n(e)}var zp=(function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e})(zp||{});function gS(e,n){return{\u0275kind:e,\u0275providers:n}}function Wp(...e){let n=[zt,tl,{provide:$p,useExisting:tl},{provide:fs,useFactory:()=>C(oS,{optional:!0})??C(Up)},{provide:Hp,useValue:mS,multi:!0}];for(let t of e)n.push(...t.\u0275providers);return Kt(n)}function Gp(e){return gS(zp.Interceptors,e.map(n=>({provide:Hp,useValue:n,multi:!0})))}var A0=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||e)(A(ve))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var qp=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=A(yS),i},providedIn:"root"})}return e})(),yS=(()=>{class e extends qp{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case on.NONE:return r;case on.HTML:return Hn(r,"HTML")?Bt(r):$f(this._doc,String(r)).toString();case on.STYLE:return Hn(r,"Style")?Bt(r):r;case on.SCRIPT:if(Hn(r,"Script"))return Bt(r);throw new T(5200,!1);case on.URL:return Hn(r,"URL")?Bt(r):Wo(String(r));case on.RESOURCE_URL:if(Hn(r,"ResourceURL"))return Bt(r);throw new T(5201,!1);default:throw new T(5202,!1)}}bypassSecurityTrustHtml(t){return Vf(t)}bypassSecurityTrustStyle(t){return jf(t)}bypassSecurityTrustScript(t){return Bf(t)}bypassSecurityTrustUrl(t){return Uf(t)}bypassSecurityTrustResourceUrl(t){return Hf(t)}static \u0275fac=function(r){return new(r||e)(A(ve))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var J="primary",Ms=Symbol("RouteTitle"),Jp=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ni(e){return new Jp(e)}function U0(e,n,t){let r=t.path.split("/");if(r.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function al(e){return new Promise((n,t)=>{e.pipe(kn()).subscribe({next:r=>n(r),error:r=>t(r)})})}function vS(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!xn(e[t],n[t]))return!1;return!0}function xn(e,n){let t=e?Xp(e):void 0,r=n?Xp(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!H0(e[i],n[i]))return!1;return!0}function Xp(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function H0(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),r=[...n].sort();return t.every((i,o)=>r[o]===i)}else return e===n}function $0(e){return e.length>0?e[e.length-1]:null}function ri(e){return ua(e)?e:fr(e)?pe(Promise.resolve(e)):Q(e)}function z0(e){return ua(e)?al(e):Promise.resolve(e)}var CS={exact:G0,subset:q0},W0={exact:_S,subset:bS,ignored:()=>!0};function R0(e,n,t){return CS[t.paths](e.root,n.root,t.matrixParams)&&W0[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function _S(e,n){return xn(e,n)}function G0(e,n,t){if(!ei(e.segments,n.segments)||!il(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!e.children[r]||!G0(e.children[r],n.children[r],t))return!1;return!0}function bS(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>H0(e[t],n[t]))}function q0(e,n,t){return Z0(e,n,n.segments,t)}function Z0(e,n,t,r){if(e.segments.length>t.length){let i=e.segments.slice(0,t.length);return!(!ei(i,t)||n.hasChildren()||!il(i,t,r))}else if(e.segments.length===t.length){if(!ei(e.segments,t)||!il(e.segments,t,r))return!1;for(let i in n.children)if(!e.children[i]||!q0(e.children[i],n.children[i],r))return!1;return!0}else{let i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!ei(e.segments,i)||!il(e.segments,i,r)||!e.children[J]?!1:Z0(e.children[J],n,o,r)}}function il(e,n,t){return n.every((r,i)=>W0[t](e[i].parameters,r.parameters))}var fn=class{root;queryParams;fragment;_queryParamMap;constructor(n=new ce([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ni(this.queryParams),this._queryParamMap}toString(){return MS.serialize(this)}},ce=class{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ol(this)}},yr=class{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=ni(this.parameters),this._parameterMap}toString(){return K0(this)}};function DS(e,n){return ei(e,n)&&e.every((t,r)=>xn(t.parameters,n[r].parameters))}function ei(e,n){return e.length!==n.length?!1:e.every((t,r)=>t.path===n[r].path)}function ES(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===J&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==J&&(t=t.concat(n(i,r)))}),t}var ii=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:()=>new Kn,providedIn:"root"})}return e})(),Kn=class{parse(n){let t=new th(n);return new fn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${hs(n.root,!0)}`,r=SS(n.queryParams),i=typeof n.fragment=="string"?`#${wS(n.fragment)}`:"";return`${t}${r}${i}`}},MS=new Kn;function ol(e){return e.segments.map(n=>K0(n)).join("/")}function hs(e,n){if(!e.hasChildren())return ol(e);if(n){let t=e.children[J]?hs(e.children[J],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==J&&r.push(`${i}:${hs(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=ES(e,(r,i)=>i===J?[hs(e.children[J],!1)]:[`${i}:${hs(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[J]!=null?`${ol(e)}/${t[0]}`:`${ol(e)}/(${t.join("//")})`}}function Y0(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nl(e){return Y0(e).replace(/%3B/gi,";")}function wS(e){return encodeURI(e)}function eh(e){return Y0(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sl(e){return decodeURIComponent(e)}function N0(e){return sl(e.replace(/\+/g,"%20"))}function K0(e){return`${eh(e.path)}${IS(e.parameters)}`}function IS(e){return Object.entries(e).map(([n,t])=>`;${eh(n)}=${eh(t)}`).join("")}function SS(e){let n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(i=>`${nl(t)}=${nl(i)}`).join("&"):`${nl(t)}=${nl(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var xS=/^[^\/()?;#]+/;function Zp(e){let n=e.match(xS);return n?n[0]:""}var TS=/^[^\/()?;=#]+/;function OS(e){let n=e.match(TS);return n?n[0]:""}var AS=/^[^=?&#]+/;function PS(e){let n=e.match(AS);return n?n[0]:""}var RS=/^[^&#]+/;function NS(e){let n=e.match(RS);return n?n[0]:""}var th=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ce([],{}):new ce([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[J]=new ce(n,t)),r}parseSegment(){let n=Zp(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(n),new yr(sl(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=OS(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Zp(this.remaining);i&&(r=i,this.capture(r))}n[sl(t)]=sl(r)}parseQueryParam(n){let t=PS(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=NS(this.remaining);s&&(r=s,this.capture(r))}let i=N0(t),o=N0(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Zp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new T(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=J);let s=this.parseChildren();t[o??J]=Object.keys(s).length===1&&s[J]?s[J]:new ce([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new T(4011,!1)}};function Q0(e){return e.segments.length>0?new ce([],{[J]:e}):e}function J0(e){let n={};for(let[r,i]of Object.entries(e.children)){let o=J0(i);if(r===J&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let t=new ce(e.segments,n);return kS(t)}function kS(e){if(e.numberOfChildren===1&&e.children[J]){let n=e.children[J];return new ce(e.segments.concat(n.segments),n.children)}return e}function vr(e){return e instanceof fn}function X0(e,n,t=null,r=null,i=new Kn){let o=eC(e);return tC(o,n,t,r,i)}function eC(e){let n;function t(o){let s={};for(let c of o.children){let f=t(c);s[c.outlet]=f}let a=new ce(o.url,s);return o===e&&(n=a),a}let r=t(e.root),i=Q0(r);return n??i}function tC(e,n,t,r,i){let o=e;for(;o.parent;)o=o.parent;if(n.length===0)return Yp(o,o,o,t,r,i);let s=FS(n);if(s.toRoot())return Yp(o,o,new ce([],{}),t,r,i);let a=LS(s,o,e),c=a.processChildren?gs(a.segmentGroup,a.index,s.commands):rC(a.segmentGroup,a.index,s.commands);return Yp(o,a.segmentGroup,c,t,r,i)}function cl(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function vs(e){return typeof e=="object"&&e!=null&&e.outlets}function k0(e,n,t){e||="\u0275";let r=new fn;return r.queryParams={[e]:n},t.parse(t.serialize(r)).queryParams[e]}function Yp(e,n,t,r,i,o){let s={};for(let[f,h]of Object.entries(r??{}))s[f]=Array.isArray(h)?h.map(m=>k0(f,m,o)):k0(f,h,o);let a;e===n?a=t:a=nC(e,n,t);let c=Q0(J0(a));return new fn(c,s,i)}function nC(e,n,t){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===n?r[i]=t:r[i]=nC(o,n,t)}),new ce(e.segments,r)}var ll=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&cl(r[0]))throw new T(4003,!1);let i=r.find(vs);if(i&&i!==$0(r))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function FS(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new ll(!0,0,e);let n=0,t=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,f])=>{a[c]=typeof f=="string"?f.split("/"):f}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?n++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new ll(t,n,r)}var ki=class{segmentGroup;processChildren;index;constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}};function LS(e,n,t){if(e.isAbsolute)return new ki(n,!0,0);if(!t)return new ki(n,!1,NaN);if(t.parent===null)return new ki(t,!0,0);let r=cl(e.commands[0])?0:1,i=t.segments.length-1+r;return VS(t,i,e.numberOfDoubleDots)}function VS(e,n,t){let r=e,i=n,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new T(4005,!1);i=r.segments.length}return new ki(r,!1,i-o)}function jS(e){return vs(e[0])?e[0].outlets:{[J]:e}}function rC(e,n,t){if(e??=new ce([],{}),e.segments.length===0&&e.hasChildren())return gs(e,n,t);let r=BS(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new ce(e.segments.slice(0,r.pathIndex),{});return o.children[J]=new ce(e.segments.slice(r.pathIndex),e.children),gs(o,0,i)}else return r.match&&i.length===0?new ce(e.segments,{}):r.match&&!e.hasChildren()?nh(e,n,t):r.match?gs(e,0,i):nh(e,n,t)}function gs(e,n,t){if(t.length===0)return new ce(e.segments,{});{let r=jS(t),i={};if(Object.keys(r).some(o=>o!==J)&&e.children[J]&&e.numberOfChildren===1&&e.children[J].segments.length===0){let o=gs(e.children[J],n,t);return new ce(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=rC(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ce(e.segments,i)}}function BS(e,n,t){let r=0,i=n,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return o;let s=e.segments[i],a=t[r];if(vs(a))break;let c=`${a}`,f=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&f&&typeof f=="object"&&f.outlets===void 0){if(!L0(c,f,s))return o;r+=2}else{if(!L0(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function nh(e,n,t){let r=e.segments.slice(0,n),i=0;for(;i<t.length;){let o=t[i];if(vs(o)){let c=US(o.outlets);return new ce(r,c)}if(i===0&&cl(t[0])){let c=e.segments[n];r.push(new yr(c.path,F0(t[0]))),i++;continue}let s=vs(o)?o.outlets[J]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&cl(a)?(r.push(new yr(s,F0(a))),i+=2):(r.push(new yr(s,{})),i++)}return new ce(r,{})}function US(e){let n={};return Object.entries(e).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[t]=nh(new ce([],{}),0,r))}),n}function F0(e){let n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function L0(e,n,t){return e==t.path&&xn(n,t.parameters)}var Fi="imperative",Ve=(function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e})(Ve||{}),xt=class{id;url;constructor(n,t){this.id=n,this.url=t}},Cr=class extends xt{type=Ve.NavigationStart;navigationTrigger;restoredState;constructor(n,t,r="imperative",i=null){super(n,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Tt=class extends xt{urlAfterRedirects;type=Ve.NavigationEnd;constructor(n,t,r){super(n,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},lt=(function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e})(lt||{}),Vi=(function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e})(Vi||{}),Tn=class extends xt{reason;code;type=Ve.NavigationCancel;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},On=class extends xt{reason;code;type=Ve.NavigationSkipped;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}},ji=class extends xt{error;target;type=Ve.NavigationError;constructor(n,t,r,i){super(n,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Cs=class extends xt{urlAfterRedirects;state;type=Ve.RoutesRecognized;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ul=class extends xt{urlAfterRedirects;state;type=Ve.GuardsCheckStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dl=class extends xt{urlAfterRedirects;state;shouldActivate;type=Ve.GuardsCheckEnd;constructor(n,t,r,i,o){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},fl=class extends xt{urlAfterRedirects;state;type=Ve.ResolveStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pl=class extends xt{urlAfterRedirects;state;type=Ve.ResolveEnd;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hl=class{route;type=Ve.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ml=class{route;type=Ve.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},gl=class{snapshot;type=Ve.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yl=class{snapshot;type=Ve.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vl=class{snapshot;type=Ve.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cl=class{snapshot;type=Ve.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bi=class{routerEvent;position;anchor;type=Ve.Scroll;constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},_s=class{},Ui=class{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function HS(e){return!(e instanceof _s)&&!(e instanceof Ui)}function $S(e,n){return e.providers&&!e._injector&&(e._injector=Oi(e.providers,n,`Route: ${e.path}`)),e._injector??n}function dn(e){return e.outlet||J}function zS(e,n){let t=e.filter(r=>dn(r)===n);return t.push(...e.filter(r=>dn(r)!==n)),t}function zi(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var _l=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return zi(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new oi(this.rootInjector)}},oi=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new _l(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||e)(A(De))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),bl=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=rh(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){let t=rh(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=ih(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return ih(n,this._root).map(t=>t.value)}};function rh(e,n){if(e===n.value)return n;for(let t of n.children){let r=rh(e,t);if(r)return r}return null}function ih(e,n){if(e===n.value)return[n];for(let t of n.children){let r=ih(e,t);if(r.length)return r.unshift(n),r}return[]}var St=class{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ni(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var bs=class extends bl{snapshot;constructor(n,t){super(n),this.snapshot=t,uh(this,n)}toString(){return this.snapshot.toString()}};function iC(e){let n=WS(e),t=new $e([new yr("",{})]),r=new $e({}),i=new $e({}),o=new $e({}),s=new $e(""),a=new Ct(t,r,o,s,i,J,e,n.root);return a.snapshot=n.root,new bs(new St(a,[]),n)}function WS(e){let n={},t={},r={},o=new ti([],n,r,"",t,J,e,null,{});return new Ds("",new St(o,[]))}var Ct=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,r,i,o,s,a,c){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ae(f=>f[Ms]))??Q(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ae(n=>ni(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ae(n=>ni(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Dl(e,n,t="emptyOnly"){let r,{routeConfig:i}=e;return n!==null&&(t==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:_(_({},n.params),e.params),data:_(_({},n.data),e.data),resolve:_(_(_(_({},e.data),n.data),i?.data),e._resolvedData)}:r={params:_({},e.params),data:_({},e.data),resolve:_(_({},e.data),e._resolvedData??{})},i&&sC(i)&&(r.resolve[Ms]=i.title),r}var ti=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ms]}constructor(n,t,r,i,o,s,a,c,f){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ni(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ni(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},Ds=class extends bl{url;constructor(n,t){super(t),this.url=n,uh(this,t)}toString(){return oC(this._root)}};function uh(e,n){n.value._routerState=e,n.children.forEach(t=>uh(e,t))}function oC(e){let n=e.children.length>0?` { ${e.children.map(oC).join(", ")} } `:"";return`${e.value}${n}`}function Kp(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,xn(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),xn(n.params,t.params)||e.paramsSubject.next(t.params),vS(n.url,t.url)||e.urlSubject.next(t.url),xn(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function oh(e,n){let t=xn(e.params,n.params)&&DS(e.url,n.url),r=!e.parent!=!n.parent;return t&&!r&&(!e.parent||oh(e.parent,n.parent))}function sC(e){return typeof e.title=="string"||e.title===null}var aC=new R(""),ws=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=J;activateEvents=new Se;deactivateEvents=new Se;attachEvents=new Se;detachEvents=new Se;routerOutletData=zv();parentContexts=C(oi);location=C(Gr);changeDetector=C(Gn);inputBinder=C(Is,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new T(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new sh(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ce({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[In]})}return e})(),sh=class{route;childContexts;parent;outletData;constructor(n,t,r,i){this.route=n,this.childContexts=t,this.parent=r,this.outletData=i}get(n,t){return n===Ct?this.route:n===oi?this.childContexts:n===aC?this.outletData:this.parent.get(n,t)}},Is=new R(""),dh=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=ha([r.queryParams,r.params,r.data]).pipe(Qe(([o,s,a],c)=>(a=_(_(_({},o),s),a),c===0?Q(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=Gv(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:e.\u0275fac})}return e})(),fh=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=ie({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&he(0,"router-outlet")},dependencies:[ws],encapsulation:2})}return e})();function ph(e){let n=e.children&&e.children.map(ph),t=n?F(_({},e),{children:n}):_({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==J&&(t.component=fh),t}function GS(e,n,t){let r=Es(e,n._root,t?t._root:void 0);return new bs(r,n)}function Es(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=n.value;let i=qS(e,n,t);return new St(r,i)}else{if(e.shouldAttach(n.value)){let o=e.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Es(e,a)),s}}let r=ZS(n.value),i=n.children.map(o=>Es(e,o));return new St(r,i)}}function qS(e,n,t){return n.children.map(r=>{for(let i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Es(e,r,i);return Es(e,r)})}function ZS(e){return new Ct(new $e(e.url),new $e(e.params),new $e(e.queryParams),new $e(e.fragment),new $e(e.data),e.outlet,e.component,e)}var Hi=class{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},cC="ngNavigationCancelingError";function El(e,n){let{redirectTo:t,navigationBehaviorOptions:r}=vr(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=lC(!1,lt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function lC(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[cC]=!0,t.cancellationCode=n,t}function YS(e){return uC(e)&&vr(e.url)}function uC(e){return!!e&&e[cC]}var KS=(e,n,t,r)=>ae(i=>(new ah(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)),ah=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,r,i,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),Kp(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){let i=Ni(t);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=Ni(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=Ni(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){let i=Ni(t);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Cl(o.value.snapshot))}),n.children.length&&this.forwardEvent(new yl(n.value.snapshot))}activateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(Kp(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Kp(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},Ml=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Li=class{component;route;constructor(n,t){this.component=n,this.route=t}};function QS(e,n,t){let r=e._root,i=n?n._root:null;return ms(r,i,t,[r.value])}function JS(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function Wi(e,n){let t=Symbol(),r=n.get(e,t);return r===t?typeof e=="function"&&!Zu(e)?e:n.get(e):r}function ms(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ni(n);return e.children.forEach(s=>{XS(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ys(a,t.getContext(s),i)),i}function XS(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=ex(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Ml(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ms(e,n,a?a.children:null,r,i):ms(e,n,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Li(a.outlet.component,s))}else s&&ys(n,a,i),i.canActivateChecks.push(new Ml(r)),o.component?ms(e,null,a?a.children:null,r,i):ms(e,null,t,r,i);return i}function ex(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!ei(e.url,n.url);case"pathParamsOrQueryParamsChange":return!ei(e.url,n.url)||!xn(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!oh(e,n)||!xn(e.queryParams,n.queryParams);case"paramsChange":default:return!oh(e,n)}}function ys(e,n,t){let r=Ni(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?n?ys(s,n.children.getContext(o),t):ys(s,null,t):ys(s,n,t)}),i.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new Li(n.outlet.component,i)):t.canDeactivateChecks.push(new Li(null,i)):t.canDeactivateChecks.push(new Li(null,i))}function Ss(e){return typeof e=="function"}function tx(e){return typeof e=="boolean"}function nx(e){return e&&Ss(e.canLoad)}function rx(e){return e&&Ss(e.canActivate)}function ix(e){return e&&Ss(e.canActivateChild)}function ox(e){return e&&Ss(e.canDeactivate)}function sx(e){return e&&Ss(e.canMatch)}function dC(e){return e instanceof Rn||e?.name==="EmptyError"}var rl=Symbol("INITIAL_VALUE");function $i(){return Qe(e=>ha(e.map(n=>n.pipe(Nn(1),Au(rl)))).pipe(ae(n=>{for(let t of n)if(t!==!0){if(t===rl)return rl;if(t===!1||ax(t))return t}return!0}),ft(n=>n!==rl),Nn(1)))}function ax(e){return vr(e)||e instanceof Hi}function fC(e){return e.aborted?Q(void 0).pipe(Nn(1)):new re(n=>{let t=()=>{n.next(),n.complete()};return e.addEventListener("abort",t),()=>e.removeEventListener("abort",t)})}function pC(e){return mo(fC(e))}function cx(e,n){return ze(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?Q(F(_({},t),{guardsResult:!0})):lx(s,r,i,e).pipe(ze(a=>a&&tx(a)?ux(r,o,e,n):Q(a)),ae(a=>F(_({},t),{guardsResult:a})))})}function lx(e,n,t,r){return pe(e).pipe(ze(i=>mx(i.component,i.route,t,n,r)),kn(i=>i!==!0,!0))}function ux(e,n,t,r){return pe(n).pipe(er(i=>pi(fx(i.route.parent,r),dx(i.route,r),hx(e,i.path,t),px(e,i.route,t))),kn(i=>i!==!0,!0))}function dx(e,n){return e!==null&&n&&n(new vl(e)),Q(!0)}function fx(e,n){return e!==null&&n&&n(new gl(e)),Q(!0)}function px(e,n,t){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return Q(!0);let i=r.map(o=>po(()=>{let s=zi(n)??t,a=Wi(o,s),c=rx(a)?a.canActivate(n,e):Be(s,()=>a(n,e));return ri(c).pipe(kn())}));return Q(i).pipe($i())}function hx(e,n,t){let r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>JS(s)).filter(s=>s!==null).map(s=>po(()=>{let a=s.guards.map(c=>{let f=zi(s.node)??t,h=Wi(c,f),m=ix(h)?h.canActivateChild(r,e):Be(f,()=>h(r,e));return ri(m).pipe(kn())});return Q(a).pipe($i())}));return Q(o).pipe($i())}function mx(e,n,t,r,i){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return Q(!0);let s=o.map(a=>{let c=zi(n)??i,f=Wi(a,c),h=ox(f)?f.canDeactivate(e,n,t,r):Be(c,()=>f(e,n,t,r));return ri(h).pipe(kn())});return Q(s).pipe($i())}function gx(e,n,t,r,i){let o=n.canLoad;if(o===void 0||o.length===0)return Q(!0);let s=o.map(a=>{let c=Wi(a,e),f=nx(c)?c.canLoad(n,t):Be(e,()=>c(n,t)),h=ri(f);return i?h.pipe(pC(i)):h});return Q(s).pipe($i(),hC(r))}function hC(e){return Iu(it(n=>{if(typeof n!="boolean")throw El(e,n)}),ae(n=>n===!0))}function yx(e,n,t,r,i){let o=n.canMatch;if(!o||o.length===0)return Q(!0);let s=o.map(a=>{let c=Wi(a,e),f=sx(c)?c.canMatch(n,t):Be(e,()=>c(n,t)),h=ri(f);return i?h.pipe(pC(i)):h});return Q(s).pipe($i(),hC(r))}var Xr=class mC extends Error{segmentGroup;constructor(n){super(),this.segmentGroup=n||null,Object.setPrototypeOf(this,mC.prototype)}},ch=class gC extends Error{urlTree;constructor(n){super(),this.urlTree=n,Object.setPrototypeOf(this,gC.prototype)}};function vx(e){throw new T(4e3,!1)}function Cx(e){throw lC(!1,lt.GuardRejected)}var _x=class{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}async lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[J])throw vx(`${n.redirectTo}`);i=i.children[J]}}async applyRedirectCommands(n,t,r,i,o){let s=await bx(t,i,o);if(s instanceof fn)throw new ch(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),n,r);if(s[0]==="/")throw new ch(a);return a}applyRedirectCreateUrlTree(n,t,r,i){let o=this.createSegmentGroup(n,t.root,r,i);return new fn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let r={};return Object.entries(n).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(n,t,r,i){let o=this.createSegments(n,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(n,c,r,i)}),new ce(o,s)}createSegments(n,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,t,r){let i=r[t.path.substring(1)];if(!i)throw new T(4001,!1);return i}findOrReturn(n,t){let r=0;for(let i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}};function bx(e,n,t){if(typeof e=="string")return Promise.resolve(e);let r=e,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:f,data:h,title:m}=n;return al(ri(Be(t,()=>r({params:f,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:m}))))}var lh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Dx(e,n,t,r,i,o){let s=yC(e,n,t);return s.matched?(r=$S(n,r),yx(r,n,t,i,o).pipe(ae(a=>a===!0?s:_({},lh)))):Q(s)}function yC(e,n,t){if(n.path==="**")return Ex(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?_({},lh):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(n.matcher||U0)(t,e,n);if(!i)return _({},lh);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?_(_({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Ex(e){return{matched:!0,parameters:e.length>0?$0(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function V0(e,n,t,r){return t.length>0&&Ix(e,t,r)?{segmentGroup:new ce(n,wx(r,new ce(t,e.children))),slicedSegments:[]}:t.length===0&&Sx(e,t,r)?{segmentGroup:new ce(e.segments,Mx(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new ce(e.segments,e.children),slicedSegments:t}}function Mx(e,n,t,r){let i={};for(let o of t)if(Il(e,n,o)&&!r[dn(o)]){let s=new ce([],{});i[dn(o)]=s}return _(_({},r),i)}function wx(e,n){let t={};t[J]=n;for(let r of e)if(r.path===""&&dn(r)!==J){let i=new ce([],{});t[dn(r)]=i}return t}function Ix(e,n,t){return t.some(r=>Il(e,n,r)&&dn(r)!==J)}function Sx(e,n,t){return t.some(r=>Il(e,n,r))}function Il(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function xx(e,n,t){return n.length===0&&!e.children[t]}var Tx=class{};async function Ox(e,n,t,r,i,o,s="emptyOnly",a){return new Px(e,n,t,r,i,s,o,a).recognize()}var Ax=31,Px=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,r,i,o,s,a,c){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new _x(this.urlSerializer,this.urlTree)}noMatchError(n){return new T(4002,`'${n.segmentGroup}'`)}async recognize(){let n=V0(this.urlTree.root,[],[],this.config).segmentGroup,{children:t,rootSnapshot:r}=await this.match(n),i=new St(r,t),o=new Ds("",i),s=X0(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}async match(n){let t=new ti([],Object.freeze({}),Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),J,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,n,J,t),rootSnapshot:t}}catch(r){if(r instanceof ch)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Xr?this.noMatchError(r):r}}async processSegmentGroup(n,t,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(n,t,r,o);let s=await this.processSegment(n,t,r,r.segments,i,!0,o);return s instanceof St?[s]:[]}async processChildren(n,t,r,i){let o=[];for(let c of Object.keys(r.children))c==="primary"?o.unshift(c):o.push(c);let s=[];for(let c of o){let f=r.children[c],h=zS(t,c),m=await this.processSegmentGroup(n,h,f,c,i);s.push(...m)}let a=vC(s);return Rx(a),a}async processSegment(n,t,r,i,o,s,a){for(let c of t)try{return await this.processSegmentAgainstRoute(c._injector??n,t,c,r,i,o,s,a)}catch(f){if(f instanceof Xr||dC(f))continue;throw f}if(xx(r,i,o))return new Tx;throw new Xr(r)}async processSegmentAgainstRoute(n,t,r,i,o,s,a,c){if(dn(r)!==s&&(s===J||!Il(i,o,r)))throw new Xr(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(n,i,r,o,s,c);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,o,s,c);throw new Xr(i)}async expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s,a){let{matched:c,parameters:f,consumedSegments:h,positionalParamSegments:m,remainingSegments:y}=yC(t,i,o);if(!c)throw new Xr(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Ax&&(this.allowRedirects=!1));let g=new ti(o,f,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,j0(i),dn(i),i.component??i._loadedComponent??null,i,B0(i)),M=Dl(g,a,this.paramsInheritanceStrategy);if(g.params=Object.freeze(M.params),g.data=Object.freeze(M.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let L=await this.applyRedirects.applyRedirectCommands(h,i.redirectTo,m,g,n),N=await this.applyRedirects.lineralizeSegments(i,L);return this.processSegment(n,r,t,N.concat(y),s,!1,a)}async matchSegmentAgainstRoute(n,t,r,i,o,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await al(Dx(t,r,i,n,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(t.children={}),!a?.matched)throw new Xr(t);n=r._injector??n;let{routes:c}=await this.getChildConfig(n,r,i),f=r._loadedInjector??n,{parameters:h,consumedSegments:m,remainingSegments:y}=a,g=new ti(m,h,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,j0(r),dn(r),r.component??r._loadedComponent??null,r,B0(r)),M=Dl(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(M.params),g.data=Object.freeze(M.data);let{segmentGroup:L,slicedSegments:N}=V0(t,m,y,c);if(N.length===0&&L.hasChildren()){let At=await this.processChildren(f,c,L,g);return new St(g,At)}if(c.length===0&&N.length===0)return new St(g,[]);let k=dn(r)===o,Ne=await this.processSegment(f,c,L,N,k?J:o,!0,g);return new St(g,Ne instanceof St?[Ne]:[])}async getChildConfig(n,t,r){if(t.children)return{routes:t.children,injector:n};if(t.loadChildren){if(t._loadedRoutes!==void 0)return{routes:t._loadedRoutes,injector:t._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await al(gx(n,t,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(n,t);return t._loadedRoutes=o.routes,t._loadedInjector=o.injector,o}throw Cx(t)}return{routes:[],injector:n}}};function Rx(e){e.sort((n,t)=>n.value.outlet===J?-1:t.value.outlet===J?1:n.value.outlet.localeCompare(t.value.outlet))}function Nx(e){let n=e.value.routeConfig;return n&&n.path===""}function vC(e){let n=[],t=new Set;for(let r of e){if(!Nx(r)){n.push(r);continue}let i=n.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):n.push(r)}for(let r of t){let i=vC(r.children);n.push(new St(r.value,i))}return n.filter(r=>!t.has(r))}function j0(e){return e.data||{}}function B0(e){return e.resolve||{}}var kx=new R("",{factory:()=>Ox});function Fx(e,n,t,r,i,o,s){let a=e.get(kx);return ze(c=>Q(c).pipe(Qe(f=>a(e,n,t,r,f.extractedUrl,i,o,s)),ae(({state:f,tree:h})=>F(_({},c),{targetSnapshot:f,urlAfterRedirects:h}))))}function Lx(e,n){return ze(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Q(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let f of CC(c))s.add(f);let a=0;return pe(s).pipe(er(c=>o.has(c)?Vx(c,r,e,n):(c.data=Dl(c,c.parent,e).resolve,Q(void 0))),it(()=>a++),ma(1),ze(c=>a===s.size?Q(t):ut))})}function CC(e){let n=e.children.map(t=>CC(t)).flat();return[e,...n]}function Vx(e,n,t,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!sC(i)&&(o[Ms]=i.title),po(()=>(e.data=Dl(e,e.parent,t).resolve,jx(o,e,n,r).pipe(ae(s=>(e._resolvedData=s,e.data=_(_({},e.data),s),null)))))}function jx(e,n,t,r){let i=Xp(e);if(i.length===0)return Q({});let o={};return pe(i).pipe(ze(s=>Bx(e[s],n,t,r).pipe(kn(),it(a=>{if(a instanceof Hi)throw El(new Kn,a);o[s]=a}))),ma(1),ae(()=>o),hn(s=>dC(s)?ut:Pn(s)))}function Bx(e,n,t,r){let i=zi(n)??r,o=Wi(e,i),s=o.resolve?o.resolve(n,t):Be(i,()=>o(n,t));return ri(s)}function Qp(e){return Qe(n=>{let t=e(n);return t?pe(t).pipe(ae(()=>n)):Q(n)})}var hh=(()=>{class e{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===J);return r}getResolvedTitleForRoute(t){return t.data[Ms]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:()=>C(_C),providedIn:"root"})}return e})(),_C=(()=>{class e extends hh{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(A(A0))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),_r=new R("",{factory:()=>({})}),si=new R(""),Sl=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=C(Dp);async loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await z0(Be(t,()=>r.loadComponent())),s=await EC(DC(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await bC(r,this.compiler,t,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();async function bC(e,n,t,r){let i=await z0(Be(t,()=>e.loadChildren())),o=await EC(DC(i)),s;o instanceof Tc||Array.isArray(o)?s=o:s=await n.compileModuleAsync(o),r&&r(e);let a,c,f=!1;return Array.isArray(s)?(c=s,f=!0):(a=s.create(t).injector,c=a.get(si,[],{optional:!0,self:!0}).flat()),{routes:c.map(ph),injector:a}}function Ux(e){return e&&typeof e=="object"&&"default"in e}function DC(e){return Ux(e)?e.default:e}async function EC(e){return e}var xl=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:()=>C(Hx),providedIn:"root"})}return e})(),Hx=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),mh=new R(""),gh=new R("");function MC(e,n,t){let r=e.get(gh),i=e.get(ve);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(f=>setTimeout(f));let o,s=new Promise(f=>{o=f}),a=i.startViewTransition(()=>(o(),$x(e)));a.ready.catch(f=>{}),a.finished.catch(f=>{});let{onViewTransitionCreated:c}=r;return c&&Be(e,()=>c({transition:a,from:n,to:t})),s}function $x(e){return new Promise(n=>{qo({read:()=>setTimeout(n)},{injector:e})})}var zx=()=>{},yh=new R(""),Tl=(()=>{class e{currentNavigation=P(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=P(null);events=new Oe;transitionAbortWithErrorSubject=new Oe;configLoader=C(Sl);environmentInjector=C(De);destroyRef=C(Vt);urlSerializer=C(ii);rootContexts=C(oi);location=C(mr);inputBindingEnabled=C(Is,{optional:!0})!==null;titleStrategy=C(hh);options=C(_r,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=C(xl);createViewTransition=C(mh,{optional:!0});navigationErrorHandler=C(yh,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Q(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new hl(i)),r=i=>this.events.next(new ml(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;Le(()=>{this.transitions?.next(F(_({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(t){return this.transitions=new $e(null),this.transitions.pipe(ft(r=>r!==null),Qe(r=>{let i=!1,o=new AbortController;return Q(r).pipe(Qe(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",lt.SupersededByNewNavigation),ut;this.currentTransition=r;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:a?F(_({},a),{previousNavigation:null}):null,abort:()=>o.abort()});let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&f!=="reload")return this.events.next(new On(s.id,this.urlSerializer.serialize(s.rawUrl),"",Vi.IgnoredSameUrlNavigation)),s.resolve(!1),ut;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return Q(s).pipe(Qe(h=>(this.events.next(new Cr(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),h.id!==this.navigationId?ut:Promise.resolve(h))),Fx(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),it(h=>{r.targetSnapshot=h.targetSnapshot,r.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation.update(y=>(y.finalUrl=h.urlAfterRedirects,y));let m=new Cs(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:h,extractedUrl:m,source:y,restoredState:g,extras:M}=s,L=new Cr(h,this.urlSerializer.serialize(m),y,g);this.events.next(L);let N=iC(this.rootComponentType).snapshot;return this.currentTransition=r=F(_({},s),{targetSnapshot:N,urlAfterRedirects:m,extras:F(_({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(k=>(k.finalUrl=m,k)),Q(r)}else return this.events.next(new On(s.id,this.urlSerializer.serialize(s.extractedUrl),"",Vi.IgnoredByUrlHandlingStrategy)),s.resolve(!1),ut}),it(s=>{let a=new ul(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ae(s=>(this.currentTransition=r=F(_({},s),{guards:QS(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),cx(this.environmentInjector,s=>this.events.next(s)),it(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw El(this.urlSerializer,s.guardsResult);let a=new dl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),ft(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",lt.GuardRejected),!1)),Qp(s=>{if(s.guards.canActivateChecks.length!==0)return Q(s).pipe(it(a=>{let c=new fl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),Qe(a=>{let c=!1;return Q(a).pipe(Lx(this.paramsInheritanceStrategy,this.environmentInjector),it({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",lt.NoDataFromResolver)}}))}),it(a=>{let c=new pl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),Qp(s=>{let a=f=>{let h=[];if(f.routeConfig?._loadedComponent)f.component=f.routeConfig?._loadedComponent;else if(f.routeConfig?.loadComponent){let m=zi(f)??this.environmentInjector;h.push(this.configLoader.loadComponent(m,f.routeConfig).then(y=>{f.component=y}))}for(let m of f.children)h.push(...a(m));return h},c=a(s.targetSnapshot.root);return c.length===0?Q(s):pe(Promise.all(c).then(()=>s))}),Qp(()=>this.afterPreactivation()),Qe(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?pe(c).pipe(ae(()=>r)):Q(r)}),ae(s=>{let a=GS(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=F(_({},s),{targetRouterState:a}),this.currentNavigation.update(c=>(c.targetRouterState=a,c)),r}),it(()=>{this.events.next(new _s)}),KS(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Nn(1),mo(fC(o.signal).pipe(ft(()=>!i&&!r.targetRouterState),it(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",lt.Aborted)}))),it({next:s=>{i=!0,this.currentNavigation.update(a=>(a.abort=zx,a)),this.lastSuccessfulNavigation.set(Le(this.currentNavigation)),this.events.next(new Tt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),mo(this.transitionAbortWithErrorSubject.pipe(it(s=>{throw s}))),ho(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",lt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),hn(s=>{if(this.destroyed)return r.resolve(!1),ut;if(i=!0,uC(s))this.events.next(new Tn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),YS(s)?this.events.next(new Ui(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new ji(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=Be(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Hi){let{message:f,cancellationCode:h}=El(this.urlSerializer,c);this.events.next(new Tn(r.id,this.urlSerializer.serialize(r.extractedUrl),f,h)),this.events.next(new Ui(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return ut}))}))}cancelNavigationTransition(t,r,i){let o=new Tn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Le(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Wx(e){return e!==Fi}var wC=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:()=>C(Gx),providedIn:"root"})}return e})(),wl=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},Gx=(()=>{class e extends wl{static \u0275fac=(()=>{let t;return function(i){return(t||(t=jt(e)))(i||e)}})();static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),vh=(()=>{class e{urlSerializer=C(ii);options=C(_r,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=C(mr);urlHandlingStrategy=C(xl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new fn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof fn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=iC(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:()=>C(IC),providedIn:"root"})}return e})(),IC=(()=>{class e extends vh{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Cr?this.updateStateMemento():t instanceof On?this.commitTransition(r):t instanceof Cs?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof _s?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Tn&&t.code!==lt.SupersededByNewNavigation&&t.code!==lt.Redirect?this.restoreHistory(r):t instanceof ji?this.restoreHistory(r,!0):t instanceof Tt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=_(_({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=_(_({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=jt(e)))(i||e)}})();static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ol(e,n){e.events.pipe(ft(t=>t instanceof Tt||t instanceof Tn||t instanceof ji||t instanceof On),ae(t=>t instanceof Tt||t instanceof On?0:(t instanceof Tn?t.code===lt.Redirect||t.code===lt.SupersededByNewNavigation:!1)?2:1),ft(t=>t!==2),Nn(1)).subscribe(()=>{n()})}var qx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Zx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Re=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=C(Oc);stateManager=C(vh);options=C(_r,{optional:!0})||{};pendingTasks=C(Bn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=C(Tl);urlSerializer=C(ii);location=C(mr);urlHandlingStrategy=C(xl);injector=C(De);_events=new Oe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=C(wC);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=C(si,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!C(Is,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new He;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Le(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Tn&&r.code!==lt.Redirect&&r.code!==lt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Tt)this.navigated=!0;else if(r instanceof Ui){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=_({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Wx(i.source)},s);this.scheduleNavigation(a,Fi,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}HS(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Fi,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=_({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(Et)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Le(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(ph),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,f=c?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=_(_({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let m;try{let y=i?i.snapshot:this.routerState.snapshot.root;m=eC(y)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),m=this.currentUrlTree.root}return tC(m,t,h,f??null,this.urlSerializer)}navigateByUrl(t,r={skipLocationChange:!1}){let i=vr(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Fi,null,r)}navigate(t,r={skipLocationChange:!1}){return Yx(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(yn(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=_({},qx):r===!1?i=_({},Zx):i=r,vr(t))return R0(this.currentUrlTree,t,i);let o=this.parseUrl(t);return R0(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,f;s?(a=s.resolve,c=s.reject,f=s.promise):f=new Promise((m,y)=>{a=m,c=y});let h=this.pendingTasks.add();return Ol(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(m=>Promise.reject(m))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Yx(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new T(4008,!1)}var Ie=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=P(null);get href(){return Le(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Oe;applicationErrorHandler=C(Et);options=C(_r,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(C(new Fc("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Tt&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(vr(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(f=>{this.applicationErrorHandler(f)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:vr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(I(Re),I(Ct),$o("tabindex"),I(Ut),I(et),I(ln))};static \u0275dir=Ce({type:e,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&V("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&pr("href",i.reactiveHref(),zf)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Yr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Yr],replaceUrl:[2,"replaceUrl","replaceUrl",Yr],routerLink:"routerLink"},features:[In]})}return e})(),_h=(()=>{class e{router;element;renderer;cdr;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Se;link=C(Ie,{optional:!0});constructor(t,r,i,o){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.routerEventsSubscription=t.events.subscribe(s=>{s instanceof Tt&&this.update()})}ngAfterContentInit(){Q(this.links.changes,Q(null)).pipe(Xn()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=pe(t).pipe(Xn()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=Kx(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||e)(I(Re),I(et),I(Ut),I(Gn))};static \u0275dir=Ce({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&Pc(o,Ie,5),r&2){let s;yp(s=vp())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[In]})}return e})();function Kx(e){return!!e.paths}var xs=class{};var SC=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ft(t=>t instanceof Tt),er(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Oi(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return pe(i).pipe(Xn())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=pe(this.loader.loadChildren(t,r)):i=Q(null);let o=i.pipe(ze(s=>s===null?Q(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(t,r);return pe([o,s]).pipe(Xn())}else return o})}static \u0275fac=function(r){return new(r||e)(A(Re),A(De),A(xs),A(Sl))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),xC=new R(""),Qx=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Fi;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Cr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Tt?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof On&&t.code===Vi.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{if(!(t instanceof Bi))return;let r={behavior:"instant"};t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position,r):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(async()=>{await new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new Bi(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){op()};static \u0275prov=w({token:e,factory:e.\u0275fac})}return e})();function bh(e,...n){return Kt([{provide:si,multi:!0,useValue:e},[],{provide:Ct,useFactory:TC},{provide:Yo,multi:!0,useFactory:OC},n.map(t=>t.\u0275providers)])}function TC(){return C(Re).routerState.root}function Ts(e,n){return{\u0275kind:e,\u0275providers:n}}function OC(){let e=C(Je);return n=>{let t=e.get(Wn);if(n!==t.components[0])return;let r=e.get(Re),i=e.get(AC);e.get(Dh)===1&&r.initialNavigation(),e.get(NC,null,{optional:!0})?.setUpPreloading(),e.get(xC,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var AC=new R("",{factory:()=>new Oe}),Dh=new R("",{factory:()=>1});function PC(){let e=[{provide:vc,useValue:!0},{provide:Dh,useValue:0},Ac(()=>{let n=C(Je);return n.get(Ip,Promise.resolve()).then(()=>new Promise(r=>{let i=n.get(Re),o=n.get(AC);Ol(i,()=>{r(!0)}),n.get(Tl).afterPreactivation=()=>(r(!0),o.closed?Q(void 0):o),i.initialNavigation()}))})];return Ts(2,e)}function RC(){let e=[Ac(()=>{C(Re).setUpLocationChangeListener()}),{provide:Dh,useValue:2}];return Ts(3,e)}var NC=new R("");function kC(e){return Ts(0,[{provide:NC,useExisting:SC},{provide:xs,useExisting:e}])}function FC(){return Ts(8,[dh,{provide:Is,useExisting:dh}])}function LC(e){Sn("NgRouterViewTransitions");let n=[{provide:mh,useValue:MC},{provide:gh,useValue:_({skipNextTransition:!!e?.skipInitialTransition},e)}];return Ts(9,n)}var VC=[mr,{provide:ii,useClass:Kn},Re,oi,{provide:Ct,useFactory:TC},Sl,[]],Eh=(()=>{class e{constructor(){}static forRoot(t,r){return{ngModule:e,providers:[VC,[],{provide:si,multi:!0,useValue:t},[],r?.errorHandler?{provide:yh,useValue:r.errorHandler}:[],{provide:_r,useValue:r||{}},r?.useHash?Xx():e1(),Jx(),r?.preloadingStrategy?kC(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?t1(r):[],r?.bindToComponentInputs?FC().\u0275providers:[],r?.enableViewTransitions?LC().\u0275providers:[],n1()]}}static forChild(t){return{ngModule:e,providers:[{provide:si,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=sn({type:e});static \u0275inj=Rt({})}return e})();function Jx(){return{provide:xC,useFactory:()=>{let e=C(f0),n=C(Xe),t=C(_r),r=C(Tl),i=C(ii);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Qx(i,r,e,n,t)}}}function Xx(){return{provide:ln,useClass:Op}}function e1(){return{provide:ln,useClass:jc}}function t1(e){return[e.initialNavigation==="disabled"?RC().\u0275providers:[],e.initialNavigation==="enabledBlocking"?PC().\u0275providers:[]]}var Ch=new R("");function n1(){return[{provide:Ch,useFactory:OC},{provide:Yo,multi:!0,useExisting:Ch}]}var jC=(e,n)=>n.title,r1=(e,n)=>n.name;function i1(e,n){if(e&1&&(d(0,"article",16)(1,"span",44),u(2),l(),he(3,"img",45),d(4,"h3"),u(5),l(),d(6,"p"),u(7),l()()),e&2){let t=n.$implicit;p(2),b(t.badge),p(),U("src",t.image,mt)("alt",t.title),p(2),b(t.title),p(2),b(t.subtitle)}}function o1(e,n){if(e&1&&(d(0,"article",25)(1,"h3"),u(2),l(),d(3,"p",46),u(4),l(),d(5,"p",47),u(6),d(7,"span"),u(8,"/ month"),l()(),d(9,"p",48),u(10),l(),d(11,"a",8),u(12,"Choose Plan"),l()()),e&2){let t=n.$implicit;p(2),b(t.title),p(2),b(t.meals),p(2),S("",t.price," "),p(4),b(t.points)}}function s1(e,n){if(e&1&&(d(0,"article",33)(1,"p",49),u(2),l(),d(3,"p",50),u(4),l(),d(5,"p",51),u(6),l()()),e&2){let t=n.$implicit;p(2),S('"',t.quote,'"'),p(2),b(t.name),p(2),b(t.role)}}function a1(e,n){if(e&1&&(d(0,"span"),u(1),l()),e&2){let t=n.$implicit;p(),b(t)}}var Pl=class e{featuredCategories=[{title:"Sprouts Bowls",subtitle:"Crunchy, protein-rich bowls with house dressings.",badge:"Most Ordered",image:"images/food4.png"},{title:"Farm Fresh Salads",subtitle:"Colorful daily salads prepped from morning produce.",badge:"Chef Pick",image:"images/food2.png"},{title:"Better Water",subtitle:"Lemon-mint infused hydration crafted every day.",badge:"New",image:"images/food1.png"}];planCards=[{title:"Daily Lite",meals:"1 meal/day",price:"INR 2,499",points:"Ideal for office lunches"},{title:"Balanced Plus",meals:"2 meals/day",price:"INR 4,599",points:"Best for fitness routines"},{title:"Family Smart",meals:"4 meals/day",price:"INR 8,699",points:"Custom portions for home"}];testimonials=[{quote:"Green Spoon fixed my weekday eating. Fresh, clean, and always on time.",name:"Srikanth R.",role:"Product Manager"},{quote:"The Better Water and sprouts combo is now my daily ritual after workouts.",name:"Harini M.",role:"Pilates Coach"},{quote:"Packaging is neat, food feels homemade, and subscriptions are easy to manage.",name:"Ananya K.",role:"Founder"}];serviceAreas=["Hyderabad","Bengaluru","Chennai","Mumbai","Delhi"];static \u0275fac=function(t){return new(t||e)};static \u0275cmp=ie({type:e,selectors:[["app-home"]],decls:150,vars:0,consts:[[1,"home-shell"],[1,"hero-section",2,"background-image","linear-gradient(106deg, rgba(12, 58, 28, 0.86) 0%, rgba(12, 58, 28, 0.45) 45%, rgba(12, 58, 28, 0.7) 100%), url('hero.jpg')"],[1,"hero-overlay"],[1,"hero-content","reveal"],[1,"kicker"],[1,"hero-copy"],[1,"hero-actions"],["routerLink","/menu",1,"btn","btn-primary"],["routerLink","/contact",1,"btn","btn-ghost"],[1,"hero-metrics"],[1,"hero-brand-card","reveal","delay-1"],["src","videos/greenspoonlogo.jpeg","alt","Green Spoon logo"],[1,"chip-row"],[1,"section-block","specialties"],[1,"section-head","reveal"],[1,"category-grid"],[1,"category-card","reveal"],[1,"section-block","better-water"],[1,"water-copy","reveal"],[1,"water-gallery"],["src","images/food1.png","alt","Citrus infused water bottle",1,"reveal"],["src","images/food3.png","alt","Lemon and mint infused water",1,"reveal","delay-1"],["src","images/food2.png","alt","Fresh salad with olive dressing",1,"reveal","delay-2"],[1,"section-block","plans"],[1,"plan-grid"],[1,"plan-card","reveal"],[1,"section-block","process"],[1,"steps-grid"],[1,"step-card","reveal"],[1,"step-card","reveal","delay-1"],[1,"step-card","reveal","delay-2"],[1,"section-block","social-proof"],[1,"testimonial-grid"],[1,"review-card","reveal"],[1,"city-bar","reveal"],[1,"section-block","cta-grid"],[1,"cta-card","reveal"],["src","images/food5.png","alt","Green Spoon app coming soon"],["routerLink","/contact",1,"btn","btn-primary"],[1,"cta-card","reveal","delay-1"],["src","images/franchise.png","alt","Green Spoon franchise opportunity"],["routerLink","/about",1,"btn","btn-ghost"],[1,"final-cta",2,"background-image","linear-gradient(110deg, rgba(12, 48, 25, 0.84), rgba(12, 48, 25, 0.54)), url('images/food2.png')"],[1,"reveal"],[1,"badge"],[3,"src","alt"],[1,"meal-count"],[1,"price"],[1,"plan-note"],[1,"quote"],[1,"author"],[1,"role"]],template:function(t,r){t&1&&(d(0,"main",0)(1,"section",1),he(2,"div",2),d(3,"div",3)(4,"p",4),u(5,"Cloud Kitchen For Clean Eating"),l(),d(6,"h1"),u(7,"Fresh Salads, Sprouts, and Better Water Delivered Daily"),l(),d(8,"p",5),u(9," Green Spoon brings chef-prepped healthy meals from our cloud kitchen to your doorstep. Fast prep, premium ingredients, and subscription plans designed for busy routines. "),l(),d(10,"div",6)(11,"a",7),u(12,"Order From Menu"),l(),d(13,"a",8),u(14,"Start Subscription"),l()(),d(15,"div",9)(16,"div")(17,"strong"),u(18,"18K+"),l(),d(19,"span"),u(20,"Healthy meals served"),l()(),d(21,"div")(22,"strong"),u(23,"30 Min"),l(),d(24,"span"),u(25,"Avg. city delivery"),l()(),d(26,"div")(27,"strong"),u(28,"100%"),l(),d(29,"span"),u(30,"Fresh daily prep"),l()()()(),d(31,"aside",10),he(32,"img",11),d(33,"h2"),u(34,"Fuel Your Day Naturally"),l(),d(35,"p"),u(36," Signature bowls, salads, and infused water made with farm-fresh ingredients and zero fuss. "),l(),d(37,"div",12)(38,"span"),u(39,"Sprouts"),l(),d(40,"span"),u(41,"Salads"),l(),d(42,"span"),u(43,"Better Water"),l()()()(),d(44,"section",13)(45,"div",14)(46,"p",4),u(47,"Signature Kitchen"),l(),d(48,"h2"),u(49,"What We Craft Every Day"),l(),d(50,"p"),u(51,"Inspired by your reference style with vibrant ingredients and bold greens, tailored for Green Spoon."),l()(),d(52,"div",15),G(53,i1,8,5,"article",16,jC),l()(),d(55,"section",17)(56,"div",18)(57,"p",4),u(58,"Better Water"),l(),d(59,"h2"),u(60,"Hydration With Real Citrus and Mint"),l(),d(61,"p"),u(62," Our infused water line is prepared in small batches with lemon, cucumber, and fresh herbs. Ideal pairing for both salads and sprouts bowls. "),l(),d(63,"a",7),u(64,"Explore Better Water"),l()(),d(65,"div",19),he(66,"img",20)(67,"img",21)(68,"img",22),l()(),d(69,"section",23)(70,"div",14)(71,"p",4),u(72,"Subscriptions"),l(),d(73,"h2"),u(74,"Meal Plans That Fit Real Schedules"),l()(),d(75,"div",24),G(76,o1,13,4,"article",25,jC),l()(),d(78,"section",26)(79,"div",14)(80,"p",4),u(81,"How It Works"),l(),d(82,"h2"),u(83,"Built For Cloud Kitchen Speed"),l()(),d(84,"div",27)(85,"article",28)(86,"span"),u(87,"01"),l(),d(88,"h3"),u(89,"Pick Your Meals"),l(),d(90,"p"),u(91,"Choose sprouts, salads, and hydration packs from the daily menu."),l()(),d(92,"article",29)(93,"span"),u(94,"02"),l(),d(95,"h3"),u(96,"Kitchen Preps Fresh"),l(),d(97,"p"),u(98,"Your order is cooked and packed in our central cloud kitchen."),l()(),d(99,"article",30)(100,"span"),u(101,"03"),l(),d(102,"h3"),u(103,"Fast Doorstep Delivery"),l(),d(104,"p"),u(105,"Delivered in insulated packaging that keeps every meal fresh."),l()()()(),d(106,"section",31)(107,"div",14)(108,"p",4),u(109,"Customer Love"),l(),d(110,"h2"),u(111,"Trusted By Busy Health-Conscious Foodies"),l()(),d(112,"div",32),G(113,s1,7,3,"article",33,r1),l(),d(115,"div",34)(116,"p"),u(117,"Now serving:"),l(),d(118,"div"),G(119,a1,2,1,"span",null,ct),l()()(),d(121,"section",35)(122,"article",36),he(123,"img",37),d(124,"div")(125,"h3"),u(126,"Green Spoon App Is Coming Soon"),l(),d(127,"p"),u(128,"Order, track, and customize healthy meals in one tap."),l(),d(129,"a",38),u(130,"Get Early Access"),l()()(),d(131,"article",39),he(132,"img",40),d(133,"div")(134,"h3"),u(135,"Open A Green Spoon Cloud Kitchen"),l(),d(136,"p"),u(137,"Scale your city with our proven healthy-food operating model."),l(),d(138,"a",41),u(139,"Franchise Details"),l()()()(),d(140,"section",42)(141,"div",43)(142,"p",4),u(143,"Ready To Eat Better?"),l(),d(144,"h2"),u(145,"Start Your Green Spoon Plan Today"),l(),d(146,"p"),u(147,"Healthy food should be convenient. We built this kitchen to make that happen every day."),l(),d(148,"a",7),u(149,"View Full Menu"),l()()()()),t&2&&(p(53),q(r.featuredCategories),p(23),q(r.planCards),p(37),q(r.testimonials),p(6),q(r.serviceAreas))},dependencies:[Ie],styles:["[_nghost-%COMP%]{display:block}.home-shell[_ngcontent-%COMP%]{--bg-soft: #f4fbf3;--surface: #ffffff;--brand-dark: #0f4f2a;--brand-main: #1f7a3f;--brand-lime: #84cd3c;--text-dark: #103222;--text-soft: #496356;background:radial-gradient(circle at 10% 0%,#84cd3c33,#84cd3c00 42%),radial-gradient(circle at 90% 30%,#1f7a3f2e,#1f7a3f00 46%),var(--bg-soft);color:var(--text-dark);font-family:Fredoka,sans-serif;padding-bottom:3rem}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{font-family:Fredoka,sans-serif;letter-spacing:.2px;margin:0}p[_ngcontent-%COMP%]{margin:0;line-height:1.7;color:var(--text-soft)}.section-block[_ngcontent-%COMP%], .hero-section[_ngcontent-%COMP%], .final-cta[_ngcontent-%COMP%]{width:min(1160px,100% - 2.5rem);margin-inline:auto}.section-block[_ngcontent-%COMP%]{margin-top:4.5rem}.kicker[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:2px;font-weight:700;font-size:.75rem;color:var(--brand-main)}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;border-radius:999px;border:2px solid transparent;padding:.78rem 1.4rem;font-weight:700;text-decoration:none;transition:transform .22s ease,box-shadow .22s ease,background-color .22s ease}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(120deg,var(--brand-main),var(--brand-lime));color:#fff;box-shadow:0 14px 24px #11632f4d}.btn-ghost[_ngcontent-%COMP%]{border-color:#10322233;color:var(--brand-dark);background:#ffffffb8}.hero-section[_ngcontent-%COMP%]{position:relative;margin-top:1.2rem;border-radius:34px;overflow:hidden;min-height:86vh;display:grid;grid-template-columns:1.2fr .8fr;gap:2.1rem;align-items:end;padding:clamp(6rem,11vw,8rem) clamp(1.2rem,3vw,2.6rem) 2.4rem;background-position:center;background-size:cover;background-repeat:no-repeat}.hero-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;pointer-events:none;background-image:radial-gradient(circle at 40% 30%,rgba(132,205,60,.16),transparent 55%)}.hero-content[_ngcontent-%COMP%], .hero-brand-card[_ngcontent-%COMP%]{position:relative;z-index:1}.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:clamp(2.1rem,5.2vw,3.9rem);line-height:1.12;margin-top:.65rem}.hero-copy[_ngcontent-%COMP%]{margin-top:1.05rem;color:#ffffffde;max-width:620px}.hero-actions[_ngcontent-%COMP%]{margin-top:1.4rem;display:flex;gap:.8rem;flex-wrap:wrap}.hero-metrics[_ngcontent-%COMP%]{margin-top:1.7rem;display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:.9rem;max-width:620px}.hero-metrics[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);border:1px solid rgba(255,255,255,.16);border-radius:16px;padding:.8rem;display:flex;flex-direction:column;gap:.22rem}.hero-metrics[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#fff;font-size:1.1rem}.hero-metrics[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fffc;font-size:.84rem}.hero-brand-card[_ngcontent-%COMP%]{background:#ffffffe8;border-radius:26px;padding:1.1rem;border:1px solid rgba(18,87,45,.12);box-shadow:0 20px 48px #0b2a183d}.hero-brand-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:170px;object-fit:cover;border-radius:18px}.hero-brand-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:1rem;font-size:1.35rem;color:var(--brand-dark)}.hero-brand-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:.55rem}.chip-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:.95rem;flex-wrap:wrap}.chip-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#84cd3c26;color:var(--brand-dark);border-radius:999px;padding:.35rem .75rem;font-size:.78rem;font-weight:700}.section-head[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:.52rem;font-size:clamp(1.6rem,4vw,2.5rem)}.section-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-top:.65rem;max-width:720px}.category-grid[_ngcontent-%COMP%]{margin-top:1.45rem;display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:1rem}.category-card[_ngcontent-%COMP%]{background:var(--surface);border-radius:20px;border:1px solid rgba(15,79,42,.1);box-shadow:0 12px 30px #0d301a17;padding:.8rem;transition:transform .25s ease,box-shadow .25s ease}.category-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 18px 30px #0d301a29}.category-card[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-flex;font-size:.7rem;font-weight:700;padding:.28rem .6rem;border-radius:999px;background:#84cd3c38;color:var(--brand-dark)}.category-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:235px;object-fit:cover;border-radius:14px;margin-top:.6rem}.category-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:.82rem;font-size:1.05rem}.category-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:.32rem;font-size:.9rem}.better-water[_ngcontent-%COMP%]{display:grid;grid-template-columns:.86fr 1.14fr;gap:1.2rem;align-items:center}.water-copy[_ngcontent-%COMP%]{background:linear-gradient(145deg,#ffffffdb,#dbf2d8c2);border:1px solid rgba(18,87,45,.1);border-radius:22px;padding:clamp(1rem,3vw,1.6rem)}.water-copy[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:.5rem;font-size:clamp(1.4rem,3vw,2rem)}.water-copy[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:.66rem}.water-copy[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:1rem}.water-gallery[_ngcontent-%COMP%]{display:grid;gap:.85rem;grid-template-columns:repeat(2,minmax(0,1fr))}.water-gallery[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:220px;object-fit:cover;border-radius:20px;border:1px solid rgba(15,79,42,.1);box-shadow:0 16px 24px #0c361d24}.water-gallery[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:first-child{grid-row:span 2;height:100%}.plan-grid[_ngcontent-%COMP%]{margin-top:1.2rem;display:grid;gap:1rem;grid-template-columns:repeat(3,minmax(0,1fr))}.plan-card[_ngcontent-%COMP%]{background:linear-gradient(165deg,#fff,#edf8eb);border:1px solid rgba(15,79,42,.1);border-radius:20px;padding:1.1rem}.plan-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.05rem;color:var(--brand-dark)}.meal-count[_ngcontent-%COMP%]{margin-top:.55rem;font-weight:700;color:#355a45}.price[_ngcontent-%COMP%]{margin-top:.5rem;font-size:1.6rem;line-height:1.2;color:#113c28;font-family:Fredoka,sans-serif}.price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.85rem;color:#4f695b}.plan-note[_ngcontent-%COMP%]{margin-top:.5rem;min-height:46px}.plan-card[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:.75rem}.steps-grid[_ngcontent-%COMP%]{margin-top:1.2rem;display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:1rem}.step-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;border:1px solid rgba(15,79,42,.1);padding:1rem}.step-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--brand-main);font-weight:800}.step-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:.6rem;font-size:1.02rem}.step-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:.42rem;font-size:.9rem}.testimonial-grid[_ngcontent-%COMP%]{margin-top:1.2rem;display:grid;gap:1rem;grid-template-columns:repeat(3,minmax(0,1fr))}.review-card[_ngcontent-%COMP%]{border-radius:20px;background:#fff;border:1px solid rgba(15,79,42,.12);padding:1rem}.quote[_ngcontent-%COMP%]{color:#2a4838;font-size:.95rem}.author[_ngcontent-%COMP%]{margin-top:.76rem;color:#133e2a;font-weight:700}.role[_ngcontent-%COMP%]{font-size:.82rem}.city-bar[_ngcontent-%COMP%]{margin-top:1rem;background:linear-gradient(130deg,#134f29e6,#134f29ad);border-radius:16px;padding:.7rem;display:flex;align-items:center;gap:.6rem;flex-wrap:wrap}.city-bar[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#ffffffd1;font-size:.82rem;font-weight:600}.city-bar[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;gap:.45rem;flex-wrap:wrap}.city-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ffffff29;color:#fff;border-radius:999px;padding:.27rem .65rem;font-size:.8rem}.cta-grid[_ngcontent-%COMP%]{display:grid;gap:1rem;grid-template-columns:repeat(2,minmax(0,1fr))}.cta-card[_ngcontent-%COMP%]{background:#fff;border-radius:22px;border:1px solid rgba(15,79,42,.1);overflow:hidden}.cta-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:240px;object-fit:cover}.cta-card[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:.95rem 1rem 1.1rem}.cta-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.08rem;color:var(--brand-dark)}.cta-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:.42rem}.cta-card[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:.8rem}.final-cta[_ngcontent-%COMP%]{margin-top:4rem;border-radius:28px;padding:clamp(2rem,6vw,3rem);background-position:center;background-size:cover;background-repeat:no-repeat}.final-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:.56rem;color:#fff;font-size:clamp(1.6rem,3.8vw,2.7rem)}.final-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:.72rem;max-width:630px;color:#ffffffd6}.final-cta[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:1rem}.reveal[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_riseIn .72s ease both}.delay-1[_ngcontent-%COMP%]{animation-delay:.14s}.delay-2[_ngcontent-%COMP%]{animation-delay:.28s}@keyframes _ngcontent-%COMP%_riseIn{0%{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}@media(max-width:1020px){.hero-section[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.4rem;align-items:center;min-height:auto}.hero-brand-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:190px}.category-grid[_ngcontent-%COMP%], .plan-grid[_ngcontent-%COMP%], .steps-grid[_ngcontent-%COMP%], .testimonial-grid[_ngcontent-%COMP%], .cta-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}.better-water[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media(max-width:720px){.hero-section[_ngcontent-%COMP%], .section-block[_ngcontent-%COMP%], .final-cta[_ngcontent-%COMP%]{width:min(1160px,100% - 1.2rem)}.hero-section[_ngcontent-%COMP%]{border-radius:24px;padding:5.7rem 1rem 1.2rem}.hero-metrics[_ngcontent-%COMP%]{grid-template-columns:1fr}.hero-brand-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:150px}.category-grid[_ngcontent-%COMP%], .plan-grid[_ngcontent-%COMP%], .steps-grid[_ngcontent-%COMP%], .testimonial-grid[_ngcontent-%COMP%], .cta-grid[_ngcontent-%COMP%], .water-gallery[_ngcontent-%COMP%]{grid-template-columns:1fr}.water-gallery[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .water-gallery[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:first-child{height:220px}}"]})};var Wt=class e{storageKey="greenspoon-cart-v1";itemsSignal=P(this.readFromStorage());items=this.itemsSignal.asReadonly();add(n,t=1){this.itemsSignal.update(r=>r.find(o=>o.id===n.id)?r.map(o=>o.id===n.id?F(_({},o),{quantity:o.quantity+t}):o):[...r,F(_({},n),{quantity:t})]),this.persist()}increment(n){this.itemsSignal.update(t=>t.map(r=>r.id===n?F(_({},r),{quantity:r.quantity+1}):r)),this.persist()}decrement(n){this.itemsSignal.update(t=>t.map(r=>r.id===n?F(_({},r),{quantity:r.quantity-1}):r).filter(r=>r.quantity>0)),this.persist()}remove(n){this.itemsSignal.update(t=>t.filter(r=>r.id!==n)),this.persist()}clear(){this.itemsSignal.set([]),this.persist()}subtotal(){return this.itemsSignal().reduce((n,t)=>n+t.price*t.quantity,0)}itemCount(){return this.itemsSignal().reduce((n,t)=>n+t.quantity,0)}readFromStorage(){try{let n=localStorage.getItem(this.storageKey);if(!n)return[];let t=JSON.parse(n);return Array.isArray(t)?t.filter(r=>typeof r.id=="string"&&typeof r.name=="string"&&typeof r.type=="string"&&typeof r.image=="string"&&typeof r.price=="number"&&typeof r.calories=="string"&&typeof r.quantity=="number"):[]}catch{return[]}}persist(){localStorage.setItem(this.storageKey,JSON.stringify(this.itemsSignal()))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})};var be={production:!0,api:{baseUrl:"https://api.greenspoonfoods.com",orderApiMode:"http"},payment:{razorpayKeyId:"rzp_live_replace_with_your_key",businessName:"Green Spoon",upiId:"greenspoon@upi"}};var Gi=class e{constructor(n){this.http=n}baseUrl=be.api.baseUrl;listRoles(){return ee(this.http.get(`${this.baseUrl}/admin/roles`))}listUsers(){return ee(this.http.get(`${this.baseUrl}/admin/users`))}createUser(n){return ee(this.http.post(`${this.baseUrl}/admin/users`,n))}updateUser(n,t){return ee(this.http.patch(`${this.baseUrl}/admin/users/${encodeURIComponent(n)}`,t))}deactivateUser(n){return ee(this.http.delete(`${this.baseUrl}/admin/users/${encodeURIComponent(n)}`))}listRestaurants(){return ee(this.http.get(`${this.baseUrl}/admin/restaurants`))}createRestaurant(n){return ee(this.http.post(`${this.baseUrl}/admin/restaurants`,n))}updateRestaurant(n,t){return ee(this.http.patch(`${this.baseUrl}/admin/restaurants/${encodeURIComponent(n)}`,t))}listMenuItems(){return ee(this.http.get(`${this.baseUrl}/admin/menu-items`))}listPublicMenuItems(){return ee(this.http.get(`${this.baseUrl}/menu-items`))}createMenuItem(n){return ee(this.http.post(`${this.baseUrl}/admin/menu-items`,n))}updateMenuItem(n,t){return ee(this.http.patch(`${this.baseUrl}/admin/menu-items/${encodeURIComponent(n)}`,t))}uploadMenuImage(n){let t=new FormData;return t.append("image",n),ee(this.http.post(`${this.baseUrl}/admin/uploads/menu-image`,t))}static \u0275fac=function(t){return new(t||e)(A(zt))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})};var c1=(e,n)=>n.id,l1=(e,n)=>n.title;function u1(e,n){if(e&1&&(d(0,"span"),u(1),l()),e&2){let t=n.$implicit;p(),b(t)}}function d1(e,n){e&1&&(d(0,"p",10),u(1,"Loading latest menu..."),l())}function f1(e,n){if(e&1&&(d(0,"p",10),u(1),l()),e&2){let t=v();p(),b(t.errorMessage())}}function p1(e,n){if(e&1){let t=ne();d(0,"article",12),he(1,"img",16),d(2,"div",17)(3,"span",18),u(4),l(),d(5,"h3"),u(6),l(),d(7,"p"),u(8),l(),d(9,"div",19)(10,"strong"),u(11),l(),d(12,"button",20),V("click",function(){let i=D(t).$implicit,o=v();return E(o.addToCart(i))}),u(13,"Add"),l()()()()}if(e&2){let t=n.$implicit;p(),U("src",t.image,mt)("alt",t.name),p(3),b(t.type),p(2),b(t.name),p(2),b(t.calories),p(3),S("INR ",t.price)}}function h1(e,n){if(e&1&&(d(0,"article",15)(1,"h3"),u(2),l(),d(3,"p"),u(4),l(),d(5,"div")(6,"strong"),u(7),l(),d(8,"a",21),u(9,"Get Plan"),l()()()),e&2){let t=n.$implicit;p(2),b(t.title),p(2),b(t.detail),p(3),b(t.price)}}var Rl=class e{constructor(n,t){this.cart=n;this.masterDataApi=t}loading=P(!0);errorMessage=P("");topTags=["High Protein","Detox Friendly","No Refined Sugar","Fresh Daily"];menuItems=P([{id:"power-sprouts-bowl",name:"Power Sprouts Bowl",type:"Sprouts",calories:"320 kcal",price:219,image:"hero.jpg"},{id:"zesty-quinoa-salad",name:"Zesty Quinoa Salad",type:"Salads",calories:"280 kcal",price:249,image:"images/food2.png"},{id:"cucumber-mint-cooler",name:"Cucumber Mint Cooler",type:"Better Water",calories:"30 kcal",price:99,image:"images/food1.png"},{id:"color-crunch-salad",name:"Color Crunch Salad",type:"Salads",calories:"300 kcal",price:229,image:"images/food4.png"},{id:"lemon-basil-hydrate",name:"Lemon Basil Hydrate",type:"Better Water",calories:"22 kcal",price:89,image:"images/food3.png"},{id:"chef-daily-bowl",name:"Chef Daily Bowl",type:"Sprouts",calories:"360 kcal",price:269,image:"images/food4.png"}]);combos=[{title:"Office Lunch Combo",detail:"1 salad + 1 infused water",price:"INR 299"},{title:"Post Workout Combo",detail:"1 sprouts bowl + hydration bottle",price:"INR 329"},{title:"Weekly Smart Pack",detail:"5 meals + 5 waters",price:"INR 1,699"}];ngOnInit(){this.loadMenu()}addToCart(n){this.cart.add({id:n.id,name:n.name,type:n.type,image:n.image,price:n.price,calories:n.calories})}async loadMenu(){this.loading.set(!0),this.errorMessage.set("");try{let n=await this.masterDataApi.listPublicMenuItems();n.length>0&&this.menuItems.set(n.map(t=>({id:t.menuItemId,name:t.name,type:t.category,calories:t.calories||"N/A",price:t.price,image:t.image||"images/food4.png"})))}catch{this.errorMessage.set("Live menu not available. Showing default menu.")}finally{this.loading.set(!1)}}static \u0275fac=function(t){return new(t||e)(I(Wt),I(Gi))};static \u0275cmp=ie({type:e,selectors:[["app-menu"]],decls:38,vars:2,consts:[[1,"menu-shell"],[1,"menu-hero"],[1,"kicker"],[1,"tag-row"],[1,"hero-actions"],["routerLink","/cart",1,"btn","btn-primary"],["routerLink","/contact",1,"btn","btn-ghost"],["src","images/food4.png","alt","Healthy Green Spoon meal"],[1,"menu-grid-section"],[1,"section-head"],[1,"menu-note"],[1,"menu-grid"],[1,"menu-card"],[1,"combo-section"],[1,"combo-grid"],[1,"combo-card"],[3,"src","alt"],[1,"menu-card-content"],[1,"pill"],[1,"menu-card-footer"],["type","button",3,"click"],["routerLink","/contact"]],template:function(t,r){t&1&&(d(0,"main",0)(1,"section",1)(2,"div")(3,"p",2),u(4,"Green Spoon Menu"),l(),d(5,"h1"),u(6,"Cloud Kitchen Meals That Keep You Light and Energized"),l(),d(7,"p"),u(8," Choose from chef-designed sprouts, salads, and infused water made in small fresh batches every day. "),l(),d(9,"div",3),G(10,u1,2,1,"span",null,ct),l(),d(12,"div",4)(13,"a",5),u(14,"Build My Order"),l(),d(15,"a",6),u(16,"Plan Subscriptions"),l()()(),he(17,"img",7),l(),d(18,"section",8)(19,"div",9)(20,"p",2),u(21,"Featured Picks"),l(),d(22,"h2"),u(23,"Today\u2019s Kitchen Highlights"),l()(),j(24,d1,2,0,"p",10),j(25,f1,2,1,"p",10),d(26,"div",11),G(27,p1,14,6,"article",12,c1),l()(),d(29,"section",13)(30,"div",9)(31,"p",2),u(32,"Smart Combos"),l(),d(33,"h2"),u(34,"Save More With Daily Packs"),l()(),d(35,"div",14),G(36,h1,10,3,"article",15,l1),l()()()),t&2&&(p(10),q(r.topTags),p(14),B(r.loading()?24:-1),p(),B(r.errorMessage()?25:-1),p(2),q(r.menuItems()),p(9),q(r.combos))},dependencies:[Ie],styles:["[_nghost-%COMP%]{display:block}.menu-shell[_ngcontent-%COMP%]{width:min(1160px,100% - 2.2rem);margin-inline:auto;padding-top:1.8rem;padding-bottom:3rem;font-family:Fredoka,sans-serif}.kicker[_ngcontent-%COMP%]{margin:0;text-transform:uppercase;letter-spacing:2px;font-size:.75rem;font-weight:700;color:#1f7a3f}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin:0;color:#103623}p[_ngcontent-%COMP%]{margin:0;color:#476356;line-height:1.6}.btn[_ngcontent-%COMP%]{display:inline-flex;text-decoration:none;font-weight:700;border-radius:999px;padding:.75rem 1.25rem}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(120deg,#1f7a3f,#84cd3c);color:#fff}.btn-ghost[_ngcontent-%COMP%]{border:1px solid rgba(16,54,35,.2);color:#18462f;background:#fff}.menu-hero[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr .9fr;gap:1rem;align-items:center;background:linear-gradient(120deg,#84cd3c33,#1f7a3f1a);border:1px solid rgba(16,70,38,.12);border-radius:26px;padding:1.2rem}.menu-hero[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:grid;gap:.75rem;align-content:start}.menu-hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(1.8rem,4vw,2.8rem);line-height:1.18}.menu-hero[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:0;max-width:620px}.menu-hero[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:320px;object-fit:cover;border-radius:18px}.tag-row[_ngcontent-%COMP%]{margin-top:0;display:flex;gap:.4rem;flex-wrap:wrap}.tag-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ffffffdb;border:1px solid rgba(16,70,38,.12);border-radius:999px;padding:.3rem .65rem;font-size:.8rem;color:#234c34}.hero-actions[_ngcontent-%COMP%]{margin-top:.1rem;display:flex;gap:.6rem;flex-wrap:wrap}.menu-grid-section[_ngcontent-%COMP%], .combo-section[_ngcontent-%COMP%]{margin-top:2.6rem}.section-head[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:.45rem;font-size:clamp(1.4rem,3.4vw,2.2rem)}.menu-note[_ngcontent-%COMP%]{margin-top:.8rem;font-size:.9rem}.menu-grid[_ngcontent-%COMP%]{margin-top:1rem;display:grid;gap:1rem;grid-template-columns:repeat(3,minmax(0,1fr))}.menu-card[_ngcontent-%COMP%]{background:#fff;border:1px solid rgba(16,70,38,.11);border-radius:18px;overflow:hidden}.menu-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:210px;object-fit:cover}.menu-card-content[_ngcontent-%COMP%]{padding:.8rem}.pill[_ngcontent-%COMP%]{display:inline-flex;padding:.25rem .6rem;border-radius:999px;background:#84cd3c33;color:#194b31;font-size:.72rem;font-weight:700}.menu-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:.55rem;font-size:1.03rem}.menu-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:.25rem;font-size:.86rem}.menu-card-footer[_ngcontent-%COMP%]{margin-top:.7rem;display:flex;align-items:center;justify-content:space-between}.menu-card-footer[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#123e28}.menu-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0;border-radius:999px;padding:.3rem .75rem;background:#123e28;color:#fff;font-size:.82rem;font-family:inherit;font-weight:700;cursor:pointer}.combo-grid[_ngcontent-%COMP%]{margin-top:1rem;display:grid;gap:1rem;grid-template-columns:repeat(3,minmax(0,1fr))}.combo-card[_ngcontent-%COMP%]{background:linear-gradient(145deg,#fff,#edf8eb);border:1px solid rgba(16,70,38,.12);border-radius:18px;padding:.9rem}.combo-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.02rem}.combo-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:.42rem;min-height:44px}.combo-card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-top:.65rem;display:flex;justify-content:space-between;align-items:center}.combo-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#1f7a3f;font-weight:700;font-size:.86rem}@media(max-width:1100px){.menu-hero[_ngcontent-%COMP%]{grid-template-columns:1fr}.menu-grid[_ngcontent-%COMP%], .combo-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}}@media(max-width:700px){.menu-shell[_ngcontent-%COMP%]{width:min(1160px,100% - 1.1rem)}.menu-hero[_ngcontent-%COMP%]{border-radius:18px}.menu-hero[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:230px}.menu-grid[_ngcontent-%COMP%], .combo-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};var m1=(e,n)=>n.id;function g1(e,n){e&1&&(d(0,"section",3)(1,"h2"),u(2,"Your cart is empty"),l(),d(3,"p"),u(4,"Add fresh bowls, salads, and better water from the menu."),l(),d(5,"a",5),u(6,"Go To Menu"),l()())}function y1(e,n){if(e&1){let t=ne();d(0,"article",7),he(1,"img",13),d(2,"div",14)(3,"p",15),u(4),l(),d(5,"h3"),u(6),l(),d(7,"p",16),u(8),l(),d(9,"p",17),u(10),l()(),d(11,"div",18)(12,"div",19)(13,"button",20),V("click",function(){let i=D(t).$implicit,o=v(2);return E(o.decrement(i.id))}),u(14,"-"),l(),d(15,"span"),u(16),l(),d(17,"button",20),V("click",function(){let i=D(t).$implicit,o=v(2);return E(o.increment(i.id))}),u(18,"+"),l()(),d(19,"button",21),V("click",function(){let i=D(t).$implicit,o=v(2);return E(o.remove(i.id))}),u(20,"Remove"),l()()()}if(e&2){let t=n.$implicit;p(),U("src",t.image,mt)("alt",t.name),p(3),b(t.type),p(2),b(t.name),p(2),b(t.calories),p(2),S("INR ",t.price),p(6),b(t.quantity)}}function v1(e,n){if(e&1){let t=ne();d(0,"section",4)(1,"div",6),G(2,y1,21,7,"article",7,m1),l(),d(4,"aside",8)(5,"h2"),u(6,"Order Summary"),l(),d(7,"div",9)(8,"span"),u(9,"Subtotal"),l(),d(10,"strong"),u(11),l()(),d(12,"div",9)(13,"span"),u(14,"Delivery"),l(),d(15,"strong"),u(16),l()(),d(17,"div",9)(18,"span"),u(19,"Tax (5%)"),l(),d(20,"strong"),u(21),l()(),d(22,"div",10)(23,"span"),u(24,"Total"),l(),d(25,"strong"),u(26),l()(),d(27,"a",11),u(28,"Proceed To Checkout"),l(),d(29,"button",12),V("click",function(){D(t);let i=v();return E(i.clear())}),u(30,"Clear Cart"),l()()()}if(e&2){let t=v();p(2),q(t.items()),p(9),S("INR ",t.subtotal()),p(5),S("INR ",t.deliveryFee()),p(5),S("INR ",t.tax()),p(5),S("INR ",t.grandTotal())}}var Nl=class e{constructor(n){this.cart=n}items(){return this.cart.items()}subtotal(){return this.cart.subtotal()}deliveryFee(){return this.items().length>0?39:0}tax(){return Math.round(this.subtotal()*.05)}grandTotal(){return this.subtotal()+this.deliveryFee()+this.tax()}increment(n){this.cart.increment(n)}decrement(n){this.cart.decrement(n)}remove(n){this.cart.remove(n)}clear(){this.cart.clear()}static \u0275fac=function(t){return new(t||e)(I(Wt))};static \u0275cmp=ie({type:e,selectors:[["app-cart"]],decls:8,vars:1,consts:[[1,"cart-shell"],[1,"cart-head"],[1,"kicker"],[1,"empty-cart"],[1,"cart-layout"],["routerLink","/menu"],[1,"cart-items"],[1,"item-card"],[1,"summary-card"],[1,"line"],[1,"line","total"],["routerLink","/checkout",1,"checkout"],["type","button",1,"clear",3,"click"],[3,"src","alt"],[1,"item-main"],[1,"type"],[1,"meta"],[1,"price"],[1,"item-actions"],[1,"qty-control"],["type","button",3,"click"],["type","button",1,"remove",3,"click"]],template:function(t,r){t&1&&(d(0,"main",0)(1,"section",1)(2,"p",2),u(3,"Your Cart"),l(),d(4,"h1"),u(5,"Review Items Before Checkout"),l()(),j(6,g1,7,0,"section",3)(7,v1,31,4,"section",4),l()),t&2&&(p(6),B(r.items().length===0?6:7))},dependencies:[we,Ie],styles:["[_nghost-%COMP%]{display:block}.cart-shell[_ngcontent-%COMP%]{width:min(1100px,100% - 2rem);margin-inline:auto;padding-top:2rem;padding-bottom:3rem;font-family:Fredoka,sans-serif}.kicker[_ngcontent-%COMP%]{margin:0;text-transform:uppercase;letter-spacing:2px;font-size:.75rem;font-weight:700;color:#1f7a3f}.cart-head[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.5rem 0 0;color:#123e28}.empty-cart[_ngcontent-%COMP%]{margin-top:1.5rem;border:1px solid rgba(18,62,40,.15);background:#fff;border-radius:20px;padding:1.2rem}.empty-cart[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#123e28}.empty-cart[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0 0;color:#4b6658}.empty-cart[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:.9rem;display:inline-flex;text-decoration:none;border-radius:999px;padding:.55rem 1rem;background:linear-gradient(120deg,#1f7a3f,#84cd3c);color:#fff;font-weight:700}.cart-layout[_ngcontent-%COMP%]{margin-top:1.4rem;display:grid;grid-template-columns:1.3fr .7fr;gap:1rem;align-items:start}.cart-items[_ngcontent-%COMP%]{display:grid;gap:.85rem}.item-card[_ngcontent-%COMP%]{display:grid;grid-template-columns:120px 1fr auto;gap:.85rem;border:1px solid rgba(18,62,40,.14);border-radius:18px;background:#fff;padding:.7rem;align-items:center}.item-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:95px;border-radius:12px;object-fit:cover}.item-main[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{margin:0;color:#1f7a3f;font-size:.75rem;font-weight:700}.item-main[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:.35rem 0 0;color:#123e28;font-size:1rem}.item-main[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{margin:.28rem 0 0;color:#5d766a;font-size:.85rem}.item-main[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{margin:.35rem 0 0;color:#123e28;font-weight:700}.item-actions[_ngcontent-%COMP%]{display:grid;gap:.5rem;justify-items:end}.qty-control[_ngcontent-%COMP%]{display:inline-flex;align-items:center;border:1px solid rgba(18,62,40,.2);border-radius:999px;overflow:hidden}.qty-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0;background:#f1f8ef;width:28px;height:28px;cursor:pointer;color:#123e28;font-weight:800}.qty-control[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{min-width:32px;text-align:center;font-weight:700;color:#123e28}.item-actions[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]{border:0;background:transparent;color:#b33b3b;font-weight:700;cursor:pointer}.summary-card[_ngcontent-%COMP%]{border:1px solid rgba(18,62,40,.15);background:#fff;border-radius:18px;padding:.9rem}.summary-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#123e28;font-size:1.2rem}.line[_ngcontent-%COMP%]{margin-top:.7rem;display:flex;justify-content:space-between;align-items:center;color:#4b6658}.line.total[_ngcontent-%COMP%]{margin-top:.95rem;padding-top:.75rem;border-top:1px dashed rgba(18,62,40,.2);color:#123e28}.checkout[_ngcontent-%COMP%]{margin-top:1rem;display:inline-flex;width:100%;justify-content:center;text-decoration:none;border-radius:999px;padding:.65rem 1rem;background:linear-gradient(120deg,#1f7a3f,#84cd3c);color:#fff;font-weight:700}.clear[_ngcontent-%COMP%]{margin-top:.6rem;width:100%;border:1px solid rgba(18,62,40,.2);border-radius:999px;background:#fff;color:#123e28;font-family:inherit;font-weight:700;padding:.6rem .9rem;cursor:pointer}@media(max-width:900px){.cart-layout[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media(max-width:680px){.cart-shell[_ngcontent-%COMP%]{width:min(1100px,100% - 1rem)}.item-card[_ngcontent-%COMP%]{grid-template-columns:1fr;justify-items:start}.item-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:180px}.item-actions[_ngcontent-%COMP%]{justify-items:start}}"]})};var KC=(()=>{class e{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||e)(I(Ut),I(et))};static \u0275dir=Ce({type:e})}return e})(),Qi=(()=>{class e extends KC{static \u0275fac=(()=>{let t;return function(i){return(t||(t=jt(e)))(i||e)}})();static \u0275dir=Ce({type:e,features:[at]})}return e})(),ai=new R(""),C1={provide:ai,useExisting:pt(()=>Fs),multi:!0},Fs=(()=>{class e extends Qi{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=jt(e)))(i||e)}})();static \u0275dir=Ce({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&V("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[an([C1]),at]})}return e})(),_1={provide:ai,useExisting:pt(()=>_t),multi:!0};function b1(){let e=Ht()?Ht().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var D1=new R(""),_t=(()=>{class e extends KC{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!b1())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||e)(I(Ut),I(et),I(D1,8))};static \u0275dir=Ce({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&V("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[an([_1]),at]})}return e})();var Ih=new R(""),QC=new R("");function E1(e){return n=>{if(n.value==null||e==null)return null;let t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}function UC(e){return null}function JC(e){return e!=null}function XC(e){return fr(e)?pe(e):e}function e_(e){let n={};return e.forEach(t=>{n=t!=null?_(_({},n),t):n}),Object.keys(n).length===0?null:n}function t_(e,n){return n.map(t=>t(e))}function M1(e){return!e.validate}function n_(e){return e.map(n=>M1(n)?n:t=>n.validate(t))}function w1(e){if(!e)return null;let n=e.filter(JC);return n.length==0?null:function(t){return e_(t_(t,n))}}function Sh(e){return e!=null?w1(n_(e)):null}function I1(e){if(!e)return null;let n=e.filter(JC);return n.length==0?null:function(t){let r=t_(t,n).map(XC);return Tu(r).pipe(ae(e_))}}function xh(e){return e!=null?I1(n_(e)):null}function HC(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function S1(e){return e._rawValidators}function x1(e){return e._rawAsyncValidators}function Mh(e){return e?Array.isArray(e)?e:[e]:[]}function Fl(e,n){return Array.isArray(e)?e.includes(n):e===n}function $C(e,n){let t=Mh(n);return Mh(e).forEach(i=>{Fl(t,i)||t.push(i)}),t}function zC(e,n){return Mh(n).filter(t=>!Fl(e,t))}var Ll=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Sh(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=xh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return this.control?this.control.hasError(n,t):!1}getError(n,t){return this.control?this.control.getError(n,t):null}},Yi=class extends Ll{name;get formDirective(){return null}get path(){return null}},Ki=class extends Ll{_parent=null;name=null;valueAccessor=null},Vl=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var Gt=(()=>{class e extends Vl{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(I(Ki,2))};static \u0275dir=Ce({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&qr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[at]})}return e})(),r_=(()=>{class e extends Vl{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(I(Yi,10))};static \u0275dir=Ce({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&qr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[at]})}return e})();var As="VALID",kl="INVALID",qi="PENDING",Ps="DISABLED",br=class{},jl=class extends br{value;source;constructor(n,t){super(),this.value=n,this.source=t}},Ns=class extends br{pristine;source;constructor(n,t){super(),this.pristine=n,this.source=t}},ks=class extends br{touched;source;constructor(n,t){super(),this.touched=n,this.source=t}},Zi=class extends br{status;source;constructor(n,t){super(),this.status=n,this.source=t}},wh=class extends br{source;constructor(n){super(),this.source=n}},Bl=class extends br{source;constructor(n){super(),this.source=n}};function i_(e){return($l(e)?e.validators:e)||null}function T1(e){return Array.isArray(e)?Sh(e):e||null}function o_(e,n){return($l(n)?n.asyncValidators:e)||null}function O1(e){return Array.isArray(e)?xh(e):e||null}function $l(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function A1(e,n,t){let r=e.controls;if(!(n?Object.keys(r):r).length)throw new T(1e3,"");if(!r[t])throw new T(1001,"")}function P1(e,n,t){e._forEachChild((r,i)=>{if(t[i]===void 0)throw new T(1002,"")})}var Ul=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,t){this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return Le(this.statusReactive)}set status(n){Le(()=>this.statusReactive.set(n))}_status=yt(()=>this.statusReactive());statusReactive=P(void 0);get valid(){return this.status===As}get invalid(){return this.status===kl}get pending(){return this.status==qi}get disabled(){return this.status===Ps}get enabled(){return this.status!==Ps}errors;get pristine(){return Le(this.pristineReactive)}set pristine(n){Le(()=>this.pristineReactive.set(n))}_pristine=yt(()=>this.pristineReactive());pristineReactive=P(!0);get dirty(){return!this.pristine}get touched(){return Le(this.touchedReactive)}set touched(n){Le(()=>this.touchedReactive.set(n))}_touched=yt(()=>this.touchedReactive());touchedReactive=P(!1);get untouched(){return!this.touched}_events=new Oe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators($C(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators($C(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(zC(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(zC(n,this._rawAsyncValidators))}hasValidator(n){return Fl(this._rawValidators,n)}hasAsyncValidator(n){return Fl(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let t=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(F(_({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new ks(!0,r))}markAllAsDirty(n={}){this.markAsDirty({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(n))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),t&&n.emitEvent!==!1&&this._events.next(new ks(!1,r))}markAsDirty(n={}){let t=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(F(_({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new Ns(!1,r))}markAsPristine(n={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),t&&n.emitEvent!==!1&&this._events.next(new Ns(!0,r))}markAsPending(n={}){this.status=qi;let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Zi(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(F(_({},n),{sourceControl:t}))}disable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=Ps,this.errors=null,this._forEachChild(i=>{i.disable(F(_({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new jl(this.value,r)),this._events.next(new Zi(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(F(_({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=As,this._forEachChild(r=>{r.enable(F(_({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(F(_({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===As||this.status===qi)&&this._runAsyncValidator(r,n.emitEvent)}let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new jl(this.value,t)),this._events.next(new Zi(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(F(_({},n),{sourceControl:t}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ps:As}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=qi,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:n!==!1};let r=XC(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(n){let t=n;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new Zi(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,r)}_initObservables(){this.valueChanges=new Se,this.statusChanges=new Se}_calculateStatus(){return this._allControlsDisabled()?Ps:this.errors?kl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qi)?qi:this._anyControlsHaveStatus(kl)?kl:As}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),i&&this._events.next(new Ns(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new ks(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){$l(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let t=this._parent&&this._parent.dirty;return!n&&!!t&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=T1(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=O1(this._rawAsyncValidators)}},Hl=class extends Ul{constructor(n,t,r){super(i_(t),o_(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){P1(this,!0,n),Object.keys(n).forEach(r=>{A1(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(Object.keys(n).forEach(r=>{let i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,F(_({},t),{onlySelf:!0}))}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Bl(this))}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&n(r))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(n,t){let r=n;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var zl=new R("",{factory:()=>Wl}),Wl="always";function R1(e,n){return[...n.path,e]}function s_(e,n,t=Wl){a_(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||t==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),k1(e,n),L1(e,n),F1(e,n),N1(e,n)}function WC(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function N1(e,n){if(n.valueAccessor.setDisabledState){let t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}function a_(e,n){let t=S1(e);n.validator!==null?e.setValidators(HC(t,n.validator)):typeof t=="function"&&e.setValidators([t]);let r=x1(e);n.asyncValidator!==null?e.setAsyncValidators(HC(r,n.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();WC(n._rawValidators,i),WC(n._rawAsyncValidators,i)}function k1(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&c_(e,n)})}function F1(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&c_(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function c_(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function L1(e,n){let t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}function V1(e,n){e==null,a_(e,n)}function j1(e,n){if(!e.hasOwnProperty("model"))return!1;let t=e.model;return t.isFirstChange()?!0:!Object.is(n,t.currentValue)}function B1(e){return Object.getPrototypeOf(e.constructor)===Qi}function U1(e,n){e._syncPendingControls(),n.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function H1(e,n){if(!n)return null;Array.isArray(n);let t,r,i;return n.forEach(o=>{o.constructor===_t?t=o:B1(o)?r=o:i=o}),i||r||t||null}var $1={provide:Yi,useExisting:pt(()=>Th)},Rs=Promise.resolve(),Th=(()=>{class e extends Yi{callSetDisabledState;get submitted(){return Le(this.submittedReactive)}_submitted=yt(()=>this.submittedReactive());submittedReactive=P(!1);_directives=new Set;form;ngSubmit=new Se;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Hl({},Sh(t),xh(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Rs.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),s_(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Rs.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Rs.then(()=>{let r=this._findContainer(t.path),i=new Hl({});V1(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Rs.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Rs.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),U1(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new wh(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||e)(I(Ih,10),I(QC,10),I(zl,8))};static \u0275dir=Ce({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&V("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[an([$1]),at]})}return e})();function GC(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function qC(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var z1=class extends Ul{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,t,r){super(i_(t),o_(r,t)),this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$l(t)&&(t.nonNullable||t.initialValueIsDefault)&&(qC(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),t.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Bl(this))}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){GC(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){GC(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){qC(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var W1={provide:Ki,useExisting:pt(()=>Ot)},ZC=Promise.resolve(),Ot=(()=>{class e extends Ki{_changeDetectorRef;callSetDisabledState;control=new z1;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Se;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=H1(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),j1(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){s_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){ZC.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Yr(r);ZC.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?R1(t,this._parent):[t]}static \u0275fac=function(r){return new(r||e)(I(Yi,9),I(Ih,10),I(QC,10),I(ai,10),I(Gn,8),I(zl,8))};static \u0275dir=Ce({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[an([W1]),at,In]})}return e})();var l_=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ce({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})(),G1={provide:ai,useExisting:pt(()=>Ls),multi:!0},Ls=(()=>{class e extends Qi{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=jt(e)))(i||e)}})();static \u0275dir=Ce({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&V("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[an([G1]),at]})}return e})(),q1={provide:ai,useExisting:pt(()=>Oh),multi:!0};var Z1=(()=>{class e{_accessors=[];add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t){this._accessors.splice(r,1);return}}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return t[0].control?t[0]._parent===r._control._parent&&t[1].name===r.name:!1}static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Oh=(()=>{class e extends Qi{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=C(zl,{optional:!0})??Wl;constructor(t,r,i,o){super(t,r),this._registry=i,this._injector=o}ngOnInit(){this._control=this._injector.get(Ki),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(r){return new(r||e)(I(Ut),I(et),I(Z1),I(Je))};static \u0275dir=Ce({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&V("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[an([q1]),at]})}return e})();var Y1={provide:ai,useExisting:pt(()=>Dr),multi:!0};function u_(e,n){return e==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function K1(e){return e.split(":")[0]}var Dr=(()=>{class e extends Qi{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=C(Wn).injector;destroyRef=C(Vt);cdr=C(Gn);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,qo({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=u_(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=K1(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=jt(e)))(i||e)}})();static \u0275dir=Ce({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&V("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[an([Y1]),at]})}return e})(),Ji=(()=>{class e{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(u_(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||e)(I(et),I(Ut),I(Dr,9))};static \u0275dir=Ce({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),Q1={provide:ai,useExisting:pt(()=>d_),multi:!0};function YC(e,n){return e==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function J1(e){return e.split(":")[0]}var d_=(()=>{class e extends Qi{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],f=this._getOptionValue(c.value);i.push(f)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let f=this._getOptionValue(c.value);i.push(f)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=J1(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=jt(e)))(i||e)}})();static \u0275dir=Ce({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&V("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[an([Q1]),at]})}return e})(),Xi=(()=>{class e{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(YC(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(YC(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(I(et),I(Ut),I(d_,9))};static \u0275dir=Ce({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();function X1(e){return typeof e=="number"?e:parseFloat(e)}var eT=(()=>{class e{_validator=UC;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):UC,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ce({type:e,features:[In]})}return e})();var tT={provide:Ih,useExisting:pt(()=>Ah),multi:!0},Ah=(()=>{class e extends eT{min;inputName="min";normalizeInput=t=>X1(t);createValidator=t=>E1(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=jt(e)))(i||e)}})();static \u0275dir=Ce({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&pr("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[an([tT]),at]})}return e})();var nT=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=sn({type:e});static \u0275inj=Rt({})}return e})();var qt=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:zl,useValue:t.callSetDisabledState??Wl}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=sn({type:e});static \u0275inj=Rt({imports:[nT]})}return e})();var Gl=class e{razorpayKeyId=be.payment.razorpayKeyId;upiId=be.payment.upiId;businessName=be.payment.businessName;async launchRazorpay(n){if(await this.ensureRazorpayLoaded(),!window.Razorpay)throw new Error("Razorpay SDK not available.");let t=window.Razorpay;return new Promise((r,i)=>{let o=new t({key:n.keyId,amount:Math.round(n.amountInRupees*100),currency:n.currency,order_id:n.providerOrderId,name:this.businessName,description:`Order ${n.orderReference}`,image:"videos/greenspoonlogo.jpeg",prefill:{name:n.customer.name,email:n.customer.email,contact:n.customer.contact},notes:{order_reference:n.orderReference},theme:{color:"#1f7a3f"},handler:s=>{if(!s.razorpay_payment_id||!s.razorpay_order_id||!s.razorpay_signature){i(new Error("Incomplete Razorpay payment response."));return}r({paymentId:s.razorpay_payment_id,providerOrderId:s.razorpay_order_id,signature:s.razorpay_signature})}});o.on("payment.failed",()=>{i(new Error("Razorpay payment failed or cancelled."))}),o.open()})}buildWhatsAppPaymentUrl(n,t,r,i){let o=this.normalizePhone(n),s=`upi://pay?pa=${this.upiId}&pn=${encodeURIComponent(this.businessName)}&am=${i.toFixed(2)}&cu=INR&tn=${encodeURIComponent(`Order ${r}`)}`,a=`Hi ${t||"there"}, your Green Spoon order ${r} is ready for payment.%0AAmount: INR ${i}%0APay on UPI: ${s}%0AAfter payment, share screenshot in this chat.`;return`https://wa.me/${o}?text=${a}`}buildWhatsAppConfirmationUrl(n,t,r){let i=this.normalizePhone(n),o=`Hi ${t||"there"}, your Green Spoon order ${r} has been received successfully.%0AOur kitchen team has started preparing it.`;return`https://wa.me/${i}?text=${o}`}buildConfirmationMessage(n,t,r){return`Hi ${n||"there"}, your Green Spoon order ${t} is received. Total paid: INR ${r}. Our kitchen has started preparation.`}async ensureRazorpayLoaded(){if(window.Razorpay)return;if(document.querySelector('script[data-razorpay-sdk="true"]')){await this.waitForRazorpay();return}await new Promise((t,r)=>{let i=document.createElement("script");i.src="https://checkout.razorpay.com/v1/checkout.js",i.async=!0,i.dataset.razorpaySdk="true",i.onload=()=>t(),i.onerror=()=>r(new Error("Failed to load Razorpay SDK.")),document.body.appendChild(i)}),await this.waitForRazorpay()}async waitForRazorpay(){let t=0;for(;!window.Razorpay&&t<20;)await new Promise(r=>setTimeout(r,100)),t+=1;if(!window.Razorpay)throw new Error("Razorpay SDK not initialized.")}normalizePhone(n){let t=n.replace(/\D/g,"");return t?t.length===10?`91${t}`:t:""}static \u0275fac=function(t){return new(t||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})};var Ph=class e{storageKey="greenspoon-live-tracking-v1";timers=new Map;orders=this.readFromStorage();constructor(){this.resumeActiveTracking()}async createOrderTracking(n){let t=this.orders[n.orderId];if(t)return t.status!=="delivered"&&this.startTicker(t.orderId),t;let r=this.resolveDestination(n.city),i=this.resolveOrigin(n.city),o=this.buildRoute(i,r,14),s=Date.now(),a=this.pickAgent(),c=F(_({},n),{status:"assigned",agentName:a.name,agentPhone:a.phone,route:o,progressIndex:0,current:o[0],etaMinutes:(o.length-1)*4,createdAt:s,updatedAt:s,events:[{status:"assigned",label:this.statusLabel("assigned"),time:s}]});return this.orders[c.orderId]=c,this.persist(),this.startTicker(c.orderId),c}async getOrder(n){return this.orders[n]??null}async updateTrackingLocation(n,t){let r=this.orders[n];if(!r)return!1;let i=Date.now(),s=r.events[r.events.length-1]?.status===t.status?r.events:[...r.events,{status:t.status,label:this.statusLabel(t.status),time:i}],a={assigned:0,picked_up:2,on_the_way:7,nearby:11,delivered:13},c=Math.min(r.route.length-1,a[t.status]??r.progressIndex);return this.orders[n]=F(_({},r),{status:t.status,etaMinutes:t.etaMinutes,current:{lat:t.lat,lng:t.lng},progressIndex:c,updatedAt:i,events:s}),this.persist(),t.status==="delivered"?this.stopTicker(n):this.startTicker(n),!0}statusLabel(n){switch(n){case"assigned":return"Delivery agent assigned";case"picked_up":return"Order picked up from kitchen";case"on_the_way":return"Rider is on the way";case"nearby":return"Rider is near your location";case"delivered":return"Order delivered";default:return"Tracking update"}}startTicker(n){if(this.timers.has(n))return;let t=setInterval(()=>{this.advance(n)},8e3);this.timers.set(n,t)}stopTicker(n){let t=this.timers.get(n);t&&(clearInterval(t),this.timers.delete(n))}advance(n){let t=this.orders[n];if(!t){this.stopTicker(n);return}if(t.status==="delivered"){this.stopTicker(n);return}let r=Math.min(t.progressIndex+1,t.route.length-1),i=this.resolveStatus(r,t.route.length),o=Math.max(0,(t.route.length-1-r)*4),s=Date.now(),a=t.events[t.events.length-1]?.status===i?t.events:[...t.events,{status:i,label:this.statusLabel(i),time:s}];if(this.orders[n]=F(_({},t),{progressIndex:r,current:t.route[r],status:i,etaMinutes:o,updatedAt:s,events:a}),this.persist(),this.orders[n].status==="delivered"){this.stopTicker(n);return}r>=t.route.length-1&&i==="nearby"&&this.stopTicker(n)}resolveStatus(n,t){return n<=1?"picked_up":n>=Math.floor(t*.75)?"nearby":"on_the_way"}resolveDestination(n){let t={hyderabad:{lat:17.385,lng:78.4867},bengaluru:{lat:12.9716,lng:77.5946},bangalore:{lat:12.9716,lng:77.5946},chennai:{lat:13.0827,lng:80.2707},mumbai:{lat:19.076,lng:72.8777},delhi:{lat:28.6139,lng:77.209}},r=n.trim().toLowerCase(),i=t[r]??t.hyderabad;return{lat:i.lat+this.randomOffset(.018),lng:i.lng+this.randomOffset(.018)}}resolveOrigin(n){let t=this.resolveDestination(n);return{lat:t.lat+this.randomOffset(.03),lng:t.lng+this.randomOffset(.03)}}buildRoute(n,t,r){let i=[];for(let o=0;o<r;o+=1){let s=o/(r-1),a=Math.sin(s*Math.PI)*.004;i.push({lat:this.round(n.lat+(t.lat-n.lat)*s+a),lng:this.round(n.lng+(t.lng-n.lng)*s-a/2)})}return i}resumeActiveTracking(){let n=Object.values(this.orders);for(let t of n)t.status!=="delivered"&&this.startTicker(t.orderId)}pickAgent(){let n=[{name:"Ravi Kumar",phone:"+91 90000 10021"},{name:"Sneha Reddy",phone:"+91 90000 10022"},{name:"Arjun Patel",phone:"+91 90000 10023"},{name:"Aisha Khan",phone:"+91 90000 10024"}];return n[Math.floor(Math.random()*n.length)]}readFromStorage(){try{if(!this.canUseStorage())return{};let n=localStorage.getItem(this.storageKey);if(!n)return{};let t=JSON.parse(n);return t&&typeof t=="object"?t:{}}catch{return{}}}persist(){this.canUseStorage()&&localStorage.setItem(this.storageKey,JSON.stringify(this.orders))}canUseStorage(){return typeof window<"u"&&typeof localStorage<"u"}randomOffset(n){return(Math.random()*2-1)*n}round(n){return Math.round(n*1e6)/1e6}static \u0275fac=function(t){return new(t||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})},Rh=class e{constructor(n){this.http=n}baseUrl=be.api.baseUrl;async createOrderTracking(n){let t=await this.getOrder(n.orderId);return t||this.toFallbackTracking(n)}async getOrder(n){try{let t=await ee(this.http.get(`${this.baseUrl}/tracking/${n}`));return this.mapHttpTracking(t)}catch(t){if(this.isNotFound(t))return null;throw t}}async updateTrackingLocation(n,t){try{return!!(await ee(this.http.post(`${this.baseUrl}/tracking/${n}/location`,t))).ok}catch(r){if(this.isNotFound(r))return!1;throw r}}mapHttpTracking(n){let t={assigned:1,picked_up:3,on_the_way:7,nearby:10,delivered:13},r=14,i=Math.min(r-1,t[n.status]??0),o=Array.from({length:r},()=>_({},n.current));return{orderId:n.orderId,customerName:"",customerPhone:"",addressLine:"",city:"",notes:"",total:0,paymentMode:"",status:n.status,agentName:n.agentName,agentPhone:n.agentPhone,route:o,progressIndex:i,current:n.current,etaMinutes:n.etaMinutes,createdAt:n.events[0]?.time??n.updatedAt,updatedAt:n.updatedAt,events:n.events}}toFallbackTracking(n){let t=Date.now();return F(_({},n),{status:"assigned",agentName:"Delivery agent",agentPhone:"Updating...",route:[{lat:0,lng:0}],progressIndex:0,current:{lat:0,lng:0},etaMinutes:0,createdAt:t,updatedAt:t,events:[{status:"assigned",label:"Tracking will start shortly",time:t}]})}isNotFound(n){return n instanceof _e&&n.status===404}static \u0275fac=function(t){return new(t||e)(A(zt))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})},Er=class e{constructor(n,t){this.local=n;this.remote=t;this.adapter=be.api.orderApiMode==="http"?this.remote:this.local}adapter;pollers=new Map;createOrderTracking(n){return this.adapter.createOrderTracking(n)}getOrder(n){return this.adapter.getOrder(n)}updateTrackingLocation(n,t){return this.adapter.updateTrackingLocation(n,t)}watchOrder(n,t,r=8e3){let i=this.pollers.get(n);i&&(clearInterval(i),this.pollers.delete(n)),this.getOrder(n).then(s=>t(s));let o=setInterval(()=>{this.getOrder(n).then(s=>t(s))},r);return this.pollers.set(n,o),()=>{let s=this.pollers.get(n);s&&(clearInterval(s),this.pollers.delete(n))}}statusLabel(n){switch(n){case"assigned":return"Delivery agent assigned";case"picked_up":return"Order picked up from kitchen";case"on_the_way":return"Rider is on the way";case"nearby":return"Rider is near your location";case"delivered":return"Order delivered";default:return"Tracking update"}}progressPercent(n){let t=Math.max(1,n.route.length-1);return Math.round(n.progressIndex/t*100)}static \u0275fac=function(t){return new(t||e)(A(Ph),A(Rh))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})};var kh=class e{storageKey="greenspoon-orders-v1";paymentOrdersKey="greenspoon-payment-orders-v1";defaultTenantId="greenspoon-demo-tenant";customerOtpKey="greenspoon-customer-lookup-otp-v1";allowedTransitions={created:["confirmed","cancelled"],confirmed:["preparing","cancelled"],preparing:["out_for_delivery","cancelled"],out_for_delivery:[],delivered:[],cancelled:[]};async createOrder(n){let t=Date.now(),r=n.deliveryFeeMode??"prepaid",i=n.deliveryFeeSettlementStatus??this.defaultSettlementStatus(r),o=n.tenantId??this.defaultTenantId,s=F(_({},n),{tenantId:o,status:"confirmed",deliveryFeeMode:r,deliveryFeeSettlementStatus:i,createdAt:t,updatedAt:t}),a=this.readAll();return a[s.orderId]=s,this.persistAll(a),s}async getOrder(n){return this.readAll()[n]??null}async listOrders(){return Object.values(this.readAll()).sort((t,r)=>r.createdAt-t.createdAt)}async updateOrderStatus(n,t){let r=this.readAll(),i=r[n];if(!i)return null;if(!this.isValidTransition(i.status,t))throw new Error(`Invalid status transition: ${i.status} -> ${t}`);let o=F(_({},i),{status:t,updatedAt:Date.now()});return r[n]=o,this.persistAll(r),o}async createRazorpayOrder(n){let t=`order_${Date.now()}_${Math.floor(Math.random()*900+100)}`,r=this.readPaymentOrders();return r[t]=n,this.persistPaymentOrders(r),{provider:"razorpay",providerOrderId:t,amount:n.amount,currency:n.currency,keyId:be.payment.razorpayKeyId}}async verifyRazorpayPayment(n){let r=this.readPaymentOrders()[n.providerOrderId];if(!r)return{verified:!1,paymentReference:n.paymentId,message:"Payment order not found."};let i=r.orderReference===n.orderReference,o=!!(n.paymentId&&n.signature),s=i&&o;return{verified:s,paymentReference:n.paymentId,message:s?"Payment verified in local mode.":"Payment verification failed."}}async queueWhatsAppConfirmation(n){return{queued:!0,channel:"whatsapp",providerMessageId:`local-${n.orderId}-${Date.now()}`}}async confirmDelivery(n,t){let r=this.readAll(),i=r[n];if(!i)return null;let o=i.deliveryConfirmation?.expectedOtp,s=!o||o===t.otpCode;if(!s)throw new Error("Invalid OTP. Delivery cannot be confirmed.");let a=Date.now(),c=i.deliveryFeeMode==="collect_at_drop"&&t.collectDeliveryFee,f=c?t.collectionAmount??0:0,h=c?"collected":i.deliveryFeeMode==="restaurant_settled"?"restaurant_settled":i.deliveryFeeMode==="collect_at_drop"?"pending_collection":"not_applicable",m=F(_({},i),{status:"delivered",updatedAt:a,deliveryFeeSettlementStatus:h,deliveryFeeCollection:c?{amountCollected:f,method:t.collectionMethod??"cash",collectedAt:a,collectedBy:t.confirmedBy,notes:t.collectionNotes||void 0}:i.deliveryFeeCollection,deliveryConfirmation:F(_({},i.deliveryConfirmation),{receivedOtp:t.otpCode,otpVerified:s,proofNote:t.proofNote||void 0,deliveredAt:a,confirmedBy:t.confirmedBy})});return r[n]=m,this.persistAll(r),m}async requestCustomerLookupOtp(n){let t=n.phone.replace(/\D/g,"");if(t.length<10)throw new Error("Enter a valid phone number.");let r=`otp-${Date.now()}-${Math.floor(Math.random()*900+100)}`,i=`${Math.floor(1e3+Math.random()*9e3)}`,o=Date.now()+300*1e3,s=this.readOtpStore();return s[r]={phone:t,debugOtp:i,expiresAt:o},this.persistOtpStore(s),{requestId:r,expiresAt:o,debugOtp:i}}async lookupCustomerOrdersByPhone(n){let t=n.phone.replace(/\D/g,""),r=this.readOtpStore(),i=r[n.requestId];if(!i||i.expiresAt<Date.now())throw new Error("OTP request expired. Please request a new OTP.");if(i.phone.slice(-10)!==t.slice(-10))throw new Error("Phone number does not match OTP request.");if(n.otpCode.trim()!==i.debugOtp)throw new Error("Invalid OTP.");return delete r[n.requestId],this.persistOtpStore(r),Object.values(this.readAll()).filter(o=>this.normalizePhone(o.customer.phone).endsWith(t.slice(-10))).sort((o,s)=>s.createdAt-o.createdAt)}readAll(){try{if(!this.canUseStorage())return{};let n=localStorage.getItem(this.storageKey);if(!n)return{};let t=JSON.parse(n);return t&&typeof t=="object"?t:{}}catch{return{}}}persistAll(n){this.canUseStorage()&&localStorage.setItem(this.storageKey,JSON.stringify(n))}canUseStorage(){return typeof window<"u"&&typeof localStorage<"u"}readPaymentOrders(){try{if(!this.canUseStorage())return{};let n=localStorage.getItem(this.paymentOrdersKey);if(!n)return{};let t=JSON.parse(n);return t&&typeof t=="object"?t:{}}catch{return{}}}persistPaymentOrders(n){this.canUseStorage()&&localStorage.setItem(this.paymentOrdersKey,JSON.stringify(n))}readOtpStore(){try{if(!this.canUseStorage())return{};let n=localStorage.getItem(this.customerOtpKey);if(!n)return{};let t=JSON.parse(n);return t&&typeof t=="object"?t:{}}catch{return{}}}persistOtpStore(n){this.canUseStorage()&&localStorage.setItem(this.customerOtpKey,JSON.stringify(n))}normalizePhone(n){return n.replace(/\D/g,"")}isValidTransition(n,t){return n===t?!0:this.allowedTransitions[n]?.includes(t)??!1}defaultSettlementStatus(n){switch(n){case"collect_at_drop":return"pending_collection";case"restaurant_settled":return"restaurant_settled";default:return"not_applicable"}}static \u0275fac=function(t){return new(t||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})},Fh=class e{constructor(n){this.http=n}baseUrl=be.api.baseUrl;async createOrder(n){return ee(this.http.post(`${this.baseUrl}/orders`,n))}async getOrder(n){try{return await ee(this.http.get(`${this.baseUrl}/orders/${n}`))}catch(t){if(this.isNotFound(t))return null;throw t}}async listOrders(){return ee(this.http.get(`${this.baseUrl}/orders`))}async updateOrderStatus(n,t){try{return await ee(this.http.patch(`${this.baseUrl}/orders/${n}/status`,{status:t}))}catch(r){if(this.isNotFound(r))return null;throw r}}async createRazorpayOrder(n){return ee(this.http.post(`${this.baseUrl}/payments/razorpay/order`,n))}async verifyRazorpayPayment(n){return ee(this.http.post(`${this.baseUrl}/payments/razorpay/verify`,n))}async queueWhatsAppConfirmation(n){return ee(this.http.post(`${this.baseUrl}/notifications/whatsapp/confirmation`,n))}async confirmDelivery(n,t){try{return await ee(this.http.post(`${this.baseUrl}/orders/${n}/delivery-confirmation`,t))}catch(r){if(this.isNotFound(r))return null;throw r}}requestCustomerLookupOtp(n){return ee(this.http.post(`${this.baseUrl}/orders/customer/request-otp`,n))}lookupCustomerOrdersByPhone(n){return ee(this.http.post(`${this.baseUrl}/orders/customer/lookup`,n))}isNotFound(n){return n instanceof _e&&n.status===404}static \u0275fac=function(t){return new(t||e)(A(zt))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})},An=class e{constructor(n,t){this.local=n;this.remote=t;this.adapter=be.api.orderApiMode==="http"?this.remote:this.local}adapter;createOrder(n){return this.adapter.createOrder(n)}getOrder(n){return this.adapter.getOrder(n)}listOrders(){return this.adapter.listOrders()}updateOrderStatus(n,t){return this.adapter.updateOrderStatus(n,t)}createRazorpayOrder(n){return this.adapter.createRazorpayOrder(n)}verifyRazorpayPayment(n){return this.adapter.verifyRazorpayPayment(n)}queueWhatsAppConfirmation(n){return this.adapter.queueWhatsAppConfirmation(n)}confirmDelivery(n,t){return this.adapter.confirmDelivery(n,t)}requestCustomerLookupOtp(n){return this.adapter.requestCustomerLookupOtp(n)}lookupCustomerOrdersByPhone(n){return this.adapter.lookupCustomerOrdersByPhone(n)}static \u0275fac=function(t){return new(t||e)(A(kh),A(Fh))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})};var bt=class e{storageKey="greenspoon-auth-v2";authApiPrefix=`${be.api.baseUrl}/auth/`;sessionSignal=P(this.readSession());rawHttp;refreshInFlight=null;session=this.sessionSignal.asReadonly();users=[{userId:"u-platform-admin",email:"admin@greenspoon.com",password:"Admin@123",name:"Platform Admin",role:"platform_admin",tenantId:"greenspoon-platform"},{userId:"u-owner",email:"owner@greenspoon.com",password:"Owner@123",name:"Restaurant Owner",role:"restaurant_owner",tenantId:"greenspoon-demo-tenant"},{userId:"u-manager",email:"manager@greenspoon.com",password:"Manager@123",name:"Kitchen Manager",role:"manager",tenantId:"greenspoon-demo-tenant"},{userId:"u-dispatch",email:"dispatch@greenspoon.com",password:"Dispatch@123",name:"Dispatch Lead",role:"dispatch",tenantId:"greenspoon-demo-tenant"},{userId:"u-customer",email:"customer@greenspoon.com",password:"Customer@123",name:"Green Spoon Customer",role:"customer",tenantId:"greenspoon-demo-tenant"}];constructor(n){this.rawHttp=new zt(n)}async login(n,t){return this.useRemoteAuth()?this.loginRemote(n,t):this.loginLocal(n,t)}async logout(){let n=this.sessionSignal();if(this.useRemoteAuth()&&n?.accessToken&&pn(n.refreshToken))try{await ee(this.rawHttp.post(`${be.api.baseUrl}/auth/logout`,{refreshToken:n.refreshToken},{headers:{Authorization:`Bearer ${n.accessToken}`}}))}catch{}this.clearSession()}isAuthenticated(){return this.sessionSignal()!==null}hasAnyRole(n){let t=this.sessionSignal();return t?n.includes(t.role):!1}accessToken(){return this.sessionSignal()?.accessToken??""}shouldAttachToken(n){return!this.useRemoteAuth()||!n.startsWith(be.api.baseUrl)?!1:!this.isAuthApiUrl(n)}async refreshAccessToken(){if(!this.useRemoteAuth())return!1;let n=this.sessionSignal();return pn(n?.refreshToken)?this.refreshInFlight?this.refreshInFlight:(this.refreshInFlight=this.refreshRemote(n.refreshToken).finally(()=>{this.refreshInFlight=null}),this.refreshInFlight):(this.clearSession(),!1)}async loginRemote(n,t){try{let r=await ee(this.rawHttp.post(`${be.api.baseUrl}/auth/login`,{email:n.trim(),password:t})),i=F(_({},this.mapUser(r.user)),{loginAt:Date.now(),accessToken:r.accessToken,refreshToken:r.refreshToken,tokenType:r.tokenType??"Bearer",expiresIn:r.expiresIn??"",authMode:"http"});return this.setSession(i),{ok:!0}}catch(r){return{ok:!1,message:this.extractHttpErrorMessage(r,"Invalid email or password.")}}}loginLocal(n,t){let r=n.trim().toLowerCase(),i=this.users.find(s=>s.email.toLowerCase()===r);if(!i||i.password!==t)return{ok:!1,message:"Invalid email or password."};let o={userId:i.userId,email:i.email,name:i.name,role:i.role,tenantId:i.tenantId,loginAt:Date.now(),authMode:"local"};return this.setSession(o),{ok:!0}}async refreshRemote(n){try{let t=await ee(this.rawHttp.post(`${be.api.baseUrl}/auth/refresh`,{refreshToken:n})),r=this.sessionSignal(),i=F(_({},this.mapUser(t.user)),{loginAt:Date.now(),accessToken:t.accessToken,refreshToken:t.refreshToken??n,tokenType:t.tokenType??r?.tokenType??"Bearer",expiresIn:t.expiresIn??r?.expiresIn??"",authMode:"http"});return this.setSession(i),!0}catch{return this.clearSession(),!1}}useRemoteAuth(){return be.api.orderApiMode==="http"}isAuthApiUrl(n){return n.startsWith(this.authApiPrefix)}setSession(n){this.sessionSignal.set(n),this.persistSession(n)}clearSession(){this.sessionSignal.set(null),this.canUseStorage()&&localStorage.removeItem(this.storageKey)}persistSession(n){this.canUseStorage()&&localStorage.setItem(this.storageKey,JSON.stringify(n))}readSession(){try{if(!this.canUseStorage())return null;let n=localStorage.getItem(this.storageKey);if(!n)return null;let t=JSON.parse(n),r=typeof t.loginAt=="number"?t.loginAt:NaN;return!pn(t.userId)||!pn(t.email)||!pn(t.name)||!iT(t.role)||!pn(t.tenantId)||!Number.isFinite(r)?null:{userId:t.userId,email:t.email,name:t.name,role:t.role,tenantId:t.tenantId,loginAt:r,accessToken:pn(t.accessToken)?t.accessToken:void 0,refreshToken:pn(t.refreshToken)?t.refreshToken:void 0,tokenType:pn(t.tokenType)?t.tokenType:void 0,expiresIn:pn(t.expiresIn)?t.expiresIn:void 0,authMode:t.authMode==="http"?"http":"local"}}catch{return null}}mapUser(n){return{userId:n.userId,email:n.email,name:n.name,role:n.role,tenantId:n.tenantId}}extractHttpErrorMessage(n,t){if(typeof n=="object"&&n!==null){let r=n;if(r.status===0)return"Cannot reach auth server. Start backend on http://localhost:3000 and open app at http://localhost:4200.";if(pn(r.error?.message))return r.error.message}return t}canUseStorage(){return typeof window<"u"&&typeof localStorage<"u"}static \u0275fac=function(t){return new(t||e)(A(fs))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})};function pn(e){return typeof e=="string"&&e.trim().length>0}function iT(e){return e==="platform_admin"||e==="restaurant_owner"||e==="manager"||e==="dispatch"||e==="kitchen"||e==="rider"||e==="customer"}var oT=e=>["/track",e],sT=(e,n)=>n.id;function aT(e,n){if(e&1&&(d(0,"p"),u(1),l()),e&2){let t=v(2);p(),S("Delivery Due At Drop: INR ",t.confirmedDeliveryDue)}}function cT(e,n){if(e&1){let t=ne();d(0,"section",3)(1,"h2"),u(2,"Order received successfully"),l(),d(3,"p"),u(4," Order "),d(5,"strong"),u(6),l(),u(7," confirmed via "),d(8,"strong"),u(9),l(),u(10,". "),l(),d(11,"article",6),he(12,"img",7),d(13,"div")(14,"p",8),u(15,"ORDER RECEIVED"),l(),d(16,"h3"),u(17),l(),d(18,"p"),u(19),l(),d(20,"p"),u(21),l(),j(22,aT,2,1,"p"),d(23,"p"),u(24,"Delivery OTP: "),d(25,"strong"),u(26),l()(),d(27,"p"),u(28,"Thank you for ordering from Green Spoon."),l()()(),d(29,"p",9),u(30," Manually send the above confirmation card image/screenshot to customer on WhatsApp. "),l(),d(31,"div",10)(32,"button",11),V("click",function(){D(t);let i=v();return E(i.openCustomerWhatsAppConfirmation())}),u(33," Open Customer WhatsApp "),l(),d(34,"button",12),V("click",function(){D(t);let i=v();return E(i.copyConfirmationMessage())}),u(35," Copy Confirmation Message "),l(),d(36,"a",13),u(37,"Track Live Delivery"),l(),d(38,"a",14),u(39,"Order More"),l()()()}if(e&2){let t=v();p(6),b(t.confirmedOrderReference),p(3),b(t.confirmedPaymentMode),p(8),b(t.confirmedCustomerName),p(2),S("Ref: ",t.confirmedOrderReference),p(2),S("Paid Now: INR ",t.confirmedTotal),p(),B(t.confirmedDeliveryDue>0?22:-1),p(4),b(t.confirmedDeliveryOtp),p(10),U("routerLink",Zr(8,oT,t.trackedOrderId))}}function lT(e,n){e&1&&(d(0,"section",4)(1,"h2"),u(2,"No items to checkout"),l(),d(3,"p"),u(4,"Add items in your cart first."),l(),d(5,"a",14),u(6,"Go To Menu"),l()())}function uT(e,n){if(e&1&&(d(0,"div",23)(1,"span"),u(2),l(),d(3,"strong"),u(4),l()()),e&2){let t=n.$implicit;p(2),qe("",t.name," x ",t.quantity),p(2),S("INR ",t.price*t.quantity)}}function dT(e,n){if(e&1&&(d(0,"div",24)(1,"span"),u(2,"Pay At Drop"),l(),d(3,"strong"),u(4),l()()),e&2){let t=v(2);p(4),S("INR ",t.deliveryFeeDueAtDrop())}}function fT(e,n){if(e&1){let t=ne();d(0,"button",34),V("click",function(){D(t);let i=v(2);return E(i.startPayment())}),u(1),l()}if(e&2){let t=v(2);U("disabled",t.isProcessing),p(),S(" ",t.isProcessing?"Processing...":"Pay With Razorpay"," ")}}function pT(e,n){if(e&1){let t=ne();d(0,"button",12),V("click",function(){D(t);let i=v(3);return E(i.confirmWhatsAppPayment())}),u(1," Confirm Payment Received & Place Order "),l()}}function hT(e,n){if(e&1){let t=ne();d(0,"button",34),V("click",function(){D(t);let i=v(2);return E(i.startPayment())}),u(1," Send WhatsApp Pay Request "),l(),j(2,pT,2,0,"button",35)}if(e&2){let t=v(2);U("disabled",t.isProcessing),p(2),B(t.paymentRequested?2:-1)}}function mT(e,n){if(e&1&&(d(0,"p",33),u(1),l()),e&2){let t=v(2);p(),b(t.statusMessage)}}function gT(e,n){if(e&1){let t=ne();d(0,"section",5)(1,"form",15)(2,"h2"),u(3,"Delivery Address"),l(),d(4,"label"),u(5," Full Name "),d(6,"input",16),$("ngModelChange",function(i){D(t);let o=v();return z(o.customerName,i)||(o.customerName=i),E(i)}),l()(),d(7,"label"),u(8," Phone Number "),d(9,"input",17),$("ngModelChange",function(i){D(t);let o=v();return z(o.customerPhone,i)||(o.customerPhone=i),E(i)}),l()(),d(10,"label"),u(11," Email (optional) "),d(12,"input",18),$("ngModelChange",function(i){D(t);let o=v();return z(o.customerEmail,i)||(o.customerEmail=i),E(i)}),l()(),d(13,"label"),u(14," Address Line "),d(15,"input",19),$("ngModelChange",function(i){D(t);let o=v();return z(o.addressLine,i)||(o.addressLine=i),E(i)}),l()(),d(16,"label"),u(17," City "),d(18,"input",20),$("ngModelChange",function(i){D(t);let o=v();return z(o.city,i)||(o.city=i),E(i)}),l()(),d(19,"label"),u(20," Notes "),d(21,"textarea",21),$("ngModelChange",function(i){D(t);let o=v();return z(o.notes,i)||(o.notes=i),E(i)}),l()()(),d(22,"aside",22)(23,"h2"),u(24,"Bill Summary"),l(),G(25,uT,5,3,"div",23,sT),d(27,"div",24)(28,"span"),u(29,"Subtotal"),l(),d(30,"strong"),u(31),l()(),d(32,"div",24)(33,"span"),u(34,"Delivery"),l(),d(35,"strong"),u(36),l()(),d(37,"div",24)(38,"span"),u(39,"Tax (5%)"),l(),d(40,"strong"),u(41),l()(),d(42,"div",24)(43,"span"),u(44,"Order Total"),l(),d(45,"strong"),u(46),l()(),d(47,"div",25)(48,"p"),u(49,"Delivery Fee Settlement"),l(),d(50,"label")(51,"input",26),$("ngModelChange",function(i){D(t);let o=v();return z(o.deliveryFeeMode,i)||(o.deliveryFeeMode=i),E(i)}),l(),u(52," Customer prepays delivery fee "),l(),d(53,"label")(54,"input",27),$("ngModelChange",function(i){D(t);let o=v();return z(o.deliveryFeeMode,i)||(o.deliveryFeeMode=i),E(i)}),l(),u(55," Customer pays delivery fee at location "),l(),d(56,"label")(57,"input",28),$("ngModelChange",function(i){D(t);let o=v();return z(o.deliveryFeeMode,i)||(o.deliveryFeeMode=i),E(i)}),l(),u(58," Restaurant settles delivery fee directly "),l()(),d(59,"div",29)(60,"span"),u(61,"Pay Now"),l(),d(62,"strong"),u(63),l()(),j(64,dT,5,1,"div",24),d(65,"div",25)(66,"p"),u(67,"Payment Method"),l(),d(68,"label")(69,"input",30),$("ngModelChange",function(i){D(t);let o=v();return z(o.paymentMethod,i)||(o.paymentMethod=i),E(i)}),l(),u(70," Razorpay "),l(),d(71,"label")(72,"input",31),$("ngModelChange",function(i){D(t);let o=v();return z(o.paymentMethod,i)||(o.paymentMethod=i),E(i)}),l(),u(73," WhatsApp Pay (UPI via chat) "),l()(),j(74,fT,2,2,"button",32)(75,hT,3,2),j(76,mT,2,1,"p",33),l()()}if(e&2){let t=v();p(6),H("ngModel",t.customerName),p(3),H("ngModel",t.customerPhone),p(3),H("ngModel",t.customerEmail),p(3),H("ngModel",t.addressLine),p(3),H("ngModel",t.city),p(3),H("ngModel",t.notes),p(4),q(t.items()),p(6),S("INR ",t.subtotal()),p(5),S("INR ",t.deliveryFee()),p(5),S("INR ",t.tax()),p(5),S("INR ",t.total()),p(5),H("ngModel",t.deliveryFeeMode),p(3),H("ngModel",t.deliveryFeeMode),p(3),H("ngModel",t.deliveryFeeMode),p(6),S("INR ",t.payableNow()),p(),B(t.deliveryFeeDueAtDrop()>0?64:-1),p(5),H("ngModel",t.paymentMethod),p(3),H("ngModel",t.paymentMethod),p(2),B(t.paymentMethod==="razorpay"?74:75),p(2),B(t.statusMessage?76:-1)}}var Yl=class e{constructor(n,t,r,i,o){this.cart=n;this.payment=t;this.tracking=r;this.orderApi=i;this.auth=o}orderPlaced=!1;isProcessing=!1;paymentRequested=!1;paymentMethod="razorpay";deliveryFeeMode="prepaid";statusMessage="";customerName="";customerPhone="";customerEmail="";addressLine="";city="";notes="";confirmedCustomerName="";confirmedCustomerPhone="";confirmedOrderReference="";confirmedTotal=0;confirmedPaymentMode="";confirmedDeliveryDue=0;confirmedDeliveryOtp="";trackedOrderId="";pendingOrderReference="";items(){return this.cart.items()}subtotal(){return this.cart.subtotal()}deliveryFee(){return this.items().length>0?39:0}tax(){return Math.round(this.subtotal()*.05)}total(){return this.subtotal()+this.deliveryFee()+this.tax()}payableNow(){return this.deliveryFeeMode==="collect_at_drop"?this.subtotal()+this.tax():this.deliveryFeeMode==="restaurant_settled"?this.subtotal()+this.tax():this.total()}deliveryFeeDueAtDrop(){return this.deliveryFeeMode==="collect_at_drop"?this.deliveryFee():0}isFormValid(){return this.customerName.trim().length>1&&this.customerPhone.replace(/\D/g,"").length>=10&&this.addressLine.trim().length>3&&this.city.trim().length>1}async startPayment(){if(this.items().length!==0){if(!this.isFormValid()){this.statusMessage="Please complete name, phone, address, and city before payment.";return}if(this.statusMessage="",this.paymentMethod==="razorpay"){await this.payWithRazorpay();return}this.sendWhatsAppPaymentRequest()}}async payWithRazorpay(){if(this.payment.razorpayKeyId.includes("replace_with_your_key")){this.statusMessage="Add your Razorpay Key ID in payment service before using Razorpay.";return}this.isProcessing=!0;let n=this.generateOrderReference();try{let t=await this.orderApi.createRazorpayOrder({orderReference:n,amount:this.payableNow(),currency:"INR"}),r=await this.payment.launchRazorpay({keyId:t.keyId,amountInRupees:t.amount,currency:t.currency,providerOrderId:t.providerOrderId,customer:{name:this.customerName,contact:this.customerPhone,email:this.customerEmail},orderReference:n}),i=await this.orderApi.verifyRazorpayPayment({orderReference:n,providerOrderId:r.providerOrderId,paymentId:r.paymentId,signature:r.signature});if(!i.verified){this.statusMessage=i.message??"Payment verification failed.";return}await this.finalizeOrder(n,"razorpay",i.paymentReference)}catch(t){let r=t instanceof Error?t.message:"Payment failed.";this.statusMessage=r}finally{this.isProcessing=!1}}sendWhatsAppPaymentRequest(){this.pendingOrderReference=this.generateOrderReference();let n=this.payment.buildWhatsAppPaymentUrl(this.customerPhone,this.customerName,this.pendingOrderReference,this.payableNow());window.open(n,"_blank"),this.paymentRequested=!0,this.statusMessage="WhatsApp payment request opened. After receiving payment proof, click Confirm Order."}async confirmWhatsAppPayment(){this.paymentRequested&&await this.finalizeOrder(this.pendingOrderReference,"whatsapp",`manual-${this.pendingOrderReference}`)}openCustomerWhatsAppConfirmation(){let n=this.payment.buildWhatsAppConfirmationUrl(this.confirmedCustomerPhone,this.confirmedCustomerName,this.confirmedOrderReference);window.open(n,"_blank")}async copyConfirmationMessage(){let n=this.payment.buildConfirmationMessage(this.confirmedCustomerName,this.confirmedOrderReference,this.confirmedTotal);try{await navigator.clipboard.writeText(n),this.statusMessage="Confirmation message copied. Share it with the customer on WhatsApp."}catch{this.statusMessage=n}}async finalizeOrder(n,t,r){let i=this.items().map(y=>_({},y));if(i.length===0){this.statusMessage="Cart is empty. Please add items before placing order.";return}let o=this.subtotal(),s=this.deliveryFee(),a=this.tax(),c=o+s+a,f=this.payableNow(),h=this.deliveryFeeDueAtDrop(),m=this.generateDeliveryOtp();try{let y=await this.orderApi.createOrder({orderId:n,tenantId:this.resolveTenantId(),customer:{name:this.customerName,phone:this.customerPhone,email:this.customerEmail||void 0},address:{line1:this.addressLine,city:this.city,notes:this.notes||void 0},items:i,totals:{subtotal:o,deliveryFee:s,tax:a,grandTotal:c,payableNow:f,deliveryFeeDueAtDrop:h},paymentMethod:t,paymentReference:r,deliveryFeeMode:this.deliveryFeeMode,deliveryFeeSettlementStatus:this.deliveryFeeMode==="collect_at_drop"?"pending_collection":this.deliveryFeeMode==="restaurant_settled"?"restaurant_settled":"not_applicable",deliveryConfirmation:{expectedOtp:m,otpVerified:!1}});this.confirmedOrderReference=y.orderId,this.confirmedCustomerName=y.customer.name,this.confirmedCustomerPhone=y.customer.phone,this.confirmedTotal=y.totals.payableNow??y.totals.grandTotal,this.confirmedDeliveryDue=y.totals.deliveryFeeDueAtDrop??0,this.confirmedDeliveryOtp=y.deliveryConfirmation?.expectedOtp??m,this.confirmedPaymentMode=t==="razorpay"?"Razorpay":"WhatsApp Pay",this.trackedOrderId=y.orderId,await this.tracking.createOrderTracking({orderId:y.orderId,customerName:y.customer.name,customerPhone:y.customer.phone,addressLine:y.address.line1,city:y.address.city,notes:y.address.notes??"",total:y.totals.grandTotal,paymentMode:this.confirmedPaymentMode}),this.orderPlaced=!0,this.paymentRequested=!1,this.pendingOrderReference="",this.cart.clear()}catch{this.statusMessage="Order could not be saved. Please try again."}}generateOrderReference(){let n=Date.now().toString().slice(-6),t=Math.floor(Math.random()*900+100);return`GS-${n}-${t}`}generateDeliveryOtp(){return`${Math.floor(1e3+Math.random()*9e3)}`}resolveTenantId(){return this.auth.session()?.tenantId}static \u0275fac=function(t){return new(t||e)(I(Wt),I(Gl),I(Er),I(An),I(bt))};static \u0275cmp=ie({type:e,selectors:[["app-checkout"]],decls:9,vars:1,consts:[[1,"checkout-shell"],[1,"checkout-head"],[1,"kicker"],[1,"success-box"],[1,"empty-box"],[1,"checkout-layout"],["aria-label","WhatsApp confirmation image card",1,"confirmation-card"],["src","videos/greenspoonlogo.jpeg","alt","Green Spoon order confirmation"],[1,"label"],[1,"manual-note"],[1,"success-actions"],["type","button",3,"click"],["type","button",1,"secondary",3,"click"],[3,"routerLink"],["routerLink","/menu"],["aria-label","Delivery details",1,"details-card"],["type","text","placeholder","Enter your name","name","customerName",3,"ngModelChange","ngModel"],["type","tel","placeholder","Enter your phone number","name","customerPhone",3,"ngModelChange","ngModel"],["type","email","placeholder","Enter your email","name","customerEmail",3,"ngModelChange","ngModel"],["type","text","placeholder","House / Street / Landmark","name","addressLine",3,"ngModelChange","ngModel"],["type","text","placeholder","City","name","city",3,"ngModelChange","ngModel"],["rows","3","placeholder","Any delivery instructions","name","notes",3,"ngModelChange","ngModel"],[1,"summary-card"],[1,"item-line"],[1,"line"],[1,"payment-methods"],["type","radio","name","deliveryFeeMode","value","prepaid",3,"ngModelChange","ngModel"],["type","radio","name","deliveryFeeMode","value","collect_at_drop",3,"ngModelChange","ngModel"],["type","radio","name","deliveryFeeMode","value","restaurant_settled",3,"ngModelChange","ngModel"],[1,"line","total"],["type","radio","name","paymentMethod","value","razorpay",3,"ngModelChange","ngModel"],["type","radio","name","paymentMethod","value","whatsapp",3,"ngModelChange","ngModel"],["type","button",3,"disabled"],[1,"status-note"],["type","button",3,"click","disabled"],["type","button",1,"secondary"]],template:function(t,r){t&1&&(d(0,"main",0)(1,"section",1)(2,"p",2),u(3,"Checkout"),l(),d(4,"h1"),u(5,"Confirm Delivery Details"),l()(),j(6,cT,40,10,"section",3)(7,lT,7,0,"section",4)(8,gT,77,19,"section",5),l()),t&2&&(p(6),B(r.orderPlaced?6:r.items().length===0?7:8))},dependencies:[we,qt,l_,_t,Oh,Gt,r_,Ot,Th,Ie],styles:["[_nghost-%COMP%]{display:block}.checkout-shell[_ngcontent-%COMP%]{width:min(1100px,100% - 2rem);margin-inline:auto;padding-top:2rem;padding-bottom:3rem;font-family:Fredoka,sans-serif}.kicker[_ngcontent-%COMP%]{margin:0;text-transform:uppercase;letter-spacing:2px;font-size:.75rem;font-weight:700;color:#1f7a3f}.checkout-head[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.45rem 0 0;color:#123e28}.success-box[_ngcontent-%COMP%], .empty-box[_ngcontent-%COMP%]{margin-top:1.2rem;border:1px solid rgba(18,62,40,.15);border-radius:18px;background:#fff;padding:1rem}.success-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .empty-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#123e28}.success-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .empty-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0 0;color:#4b6658}.success-box[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .empty-box[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:.8rem;display:inline-flex;text-decoration:none;border-radius:999px;padding:.55rem 1rem;background:linear-gradient(120deg,#1f7a3f,#84cd3c);color:#fff;font-weight:700}.confirmation-card[_ngcontent-%COMP%]{margin-top:.95rem;display:grid;grid-template-columns:180px 1fr;gap:.8rem;border:1px solid rgba(18,62,40,.18);border-radius:14px;padding:.7rem;background:linear-gradient(140deg,#f5fbf3,#fff)}.confirmation-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:130px;object-fit:cover;border-radius:10px}.confirmation-card[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin:0;color:#1f7a3f;font-size:.75rem;font-weight:700;letter-spacing:1px}.confirmation-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:.3rem 0 0;color:#123e28}.manual-note[_ngcontent-%COMP%]{font-size:.86rem}.success-actions[_ngcontent-%COMP%]{margin-top:.9rem;display:flex;gap:.55rem;flex-wrap:wrap}.success-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .success-actions[_ngcontent-%COMP%]   .secondary[_ngcontent-%COMP%], .success-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:0;border-radius:999px;font-family:inherit;font-weight:700;padding:.55rem .9rem;cursor:pointer}.success-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .success-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background:linear-gradient(120deg,#1f7a3f,#84cd3c);color:#fff}.success-actions[_ngcontent-%COMP%]   .secondary[_ngcontent-%COMP%]{background:#fff;color:#123e28;border:1px solid rgba(18,62,40,.2)}.checkout-layout[_ngcontent-%COMP%]{margin-top:1.2rem;display:grid;grid-template-columns:1.2fr .8fr;gap:1rem;align-items:start}.details-card[_ngcontent-%COMP%], .summary-card[_ngcontent-%COMP%]{border:1px solid rgba(18,62,40,.14);border-radius:18px;background:#fff;padding:.9rem}.details-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .summary-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#123e28;font-size:1.2rem}.details-card[_ngcontent-%COMP%]{display:grid;gap:.65rem}.details-card[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:grid;gap:.3rem;font-weight:600;color:#214835;font-size:.9rem}.details-card[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .details-card[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:1px solid rgba(18,62,40,.2);border-radius:12px;padding:.65rem .75rem;font:inherit;color:#123e28;background:#fbfefb}.details-card[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.item-line[_ngcontent-%COMP%]{margin-top:.7rem;display:flex;justify-content:space-between;gap:.7rem;color:#4b6658;font-size:.88rem}.line[_ngcontent-%COMP%]{margin-top:.6rem;display:flex;justify-content:space-between;color:#4b6658}.line.total[_ngcontent-%COMP%]{margin-top:.9rem;padding-top:.7rem;border-top:1px dashed rgba(18,62,40,.2);color:#123e28}.payment-methods[_ngcontent-%COMP%]{margin-top:.9rem;padding-top:.8rem;border-top:1px dashed rgba(18,62,40,.2);display:grid;gap:.45rem}.payment-methods[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#123e28;font-weight:700}.payment-methods[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.45rem;color:#4b6658;font-size:.9rem}.summary-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:.9rem;width:100%;border:0;border-radius:999px;background:linear-gradient(120deg,#1f7a3f,#84cd3c);color:#fff;font-family:inherit;font-weight:700;padding:.68rem 1rem;cursor:pointer}.summary-card[_ngcontent-%COMP%]   button.secondary[_ngcontent-%COMP%]{margin-top:.55rem;background:#fff;color:#123e28;border:1px solid rgba(18,62,40,.2)}.summary-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.status-note[_ngcontent-%COMP%]{margin-top:.65rem;font-size:.85rem;color:#1f7a3f}@media(max-width:900px){.checkout-layout[_ngcontent-%COMP%], .confirmation-card[_ngcontent-%COMP%]{grid-template-columns:1fr}.confirmation-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:180px}}@media(max-width:680px){.checkout-shell[_ngcontent-%COMP%]{width:min(1100px,100% - 1rem)}}"]})};var yT=(e,n)=>n.year,vT=(e,n)=>n.title;function CT(e,n){if(e&1&&(O(0,"article")(1,"span"),u(2),x(),O(3,"p"),u(4),x()()),e&2){let t=n.$implicit;p(2),b(t.year),p(2),b(t.detail)}}function _T(e,n){if(e&1&&(O(0,"article")(1,"h3"),u(2),x(),O(3,"p"),u(4),x()()),e&2){let t=n.$implicit;p(2),b(t.title),p(2),b(t.detail)}}var Kl=class e{principles=[{title:"Fresh-First Sourcing",detail:"Ingredients are procured daily from trusted local vendors."},{title:"Nutrition-Led Recipes",detail:"Every bowl is portioned for balanced energy and protein."},{title:"Cloud Kitchen Precision",detail:"Fast prep and clean packaging keep quality consistent."}];milestones=[{year:"2024",detail:"Green Spoon started as a micro kitchen with a sprouts-first menu."},{year:"2025",detail:"Expanded into salads, better water, and recurring meal subscriptions."},{year:"2026",detail:"Built a scalable cloud-kitchen model for city-wide operations."}];static \u0275fac=function(t){return new(t||e)};static \u0275cmp=ie({type:e,selectors:[["app-about"]],decls:39,vars:0,consts:[[1,"about-shell"],[1,"about-hero"],["src","videos/greenspoonlogo.jpeg","alt","Green Spoon brand mark"],[1,"kicker"],[1,"story-block"],[1,"section-head"],[1,"timeline"],[1,"principles-block"],[1,"principles-grid"],[1,"ops-block"],["src","images/franchise.png","alt","Green Spoon cloud kitchen model"]],template:function(t,r){t&1&&(O(0,"main",0)(1,"section",1),gt(2,"img",2),O(3,"div")(4,"p",3),u(5,"About Green Spoon"),x(),O(6,"h1"),u(7,"We Built a Cloud Kitchen to Make Healthy Eating Practical"),x(),O(8,"p"),u(9," Green Spoon combines chef workflows, fresh ingredients, and reliable delivery operations to make better food part of your everyday routine. "),x()()(),O(10,"section",4)(11,"div",5)(12,"p",3),u(13,"Our Story"),x(),O(14,"h2"),u(15,"From Daily Sprouts to Full Lifestyle Meals"),x()(),O(16,"p"),u(17," What started as a simple idea around clean sprouts quickly grew into a full-stack cloud kitchen. Today, we produce balanced salads, hydration options, and customizable meal subscriptions for professionals, families, and fitness-focused customers. "),x(),O(18,"div",6),G(19,CT,5,2,"article",null,yT),x()(),O(21,"section",7)(22,"div",5)(23,"p",3),u(24,"Kitchen DNA"),x(),O(25,"h2"),u(26,"How We Maintain Quality Every Day"),x()(),O(27,"div",8),G(28,_T,5,2,"article",null,vT),x()(),O(30,"section",9),gt(31,"img",10),O(32,"div")(33,"p",3),u(34,"Operating Model"),x(),O(35,"h2"),u(36,"Designed for Consistency, Ready for Scale"),x(),O(37,"p"),u(38," With centralized prep systems, transparent sourcing, and delivery-friendly packaging, Green Spoon is built to serve cities efficiently while preserving food quality. "),x()()()()),t&2&&(p(19),q(r.milestones),p(9),q(r.principles))},styles:["[_nghost-%COMP%]{display:block}.about-shell[_ngcontent-%COMP%]{width:min(1100px,100% - 2.2rem);margin-inline:auto;padding-top:2rem;padding-bottom:3rem;font-family:Fredoka,sans-serif}.kicker[_ngcontent-%COMP%]{margin:0;text-transform:uppercase;letter-spacing:2px;font-size:.75rem;font-weight:700;color:#1f7a3f}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin:0;color:#103623}p[_ngcontent-%COMP%]{margin:0;color:#476356;line-height:1.65}.about-hero[_ngcontent-%COMP%], .ops-block[_ngcontent-%COMP%]{display:grid;grid-template-columns:.9fr 1.1fr;gap:1rem;align-items:start;background:#fff;border:1px solid rgba(16,70,38,.11);border-radius:24px;padding:1rem}.about-hero[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .ops-block[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:grid;gap:.75rem;align-content:start}.about-hero[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .ops-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:290px;object-fit:cover;border-radius:16px}.about-hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(1.55rem,3.4vw,2.35rem);line-height:1.2}.story-block[_ngcontent-%COMP%], .principles-block[_ngcontent-%COMP%], .ops-block[_ngcontent-%COMP%]{margin-top:2.5rem}.section-head[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:.42rem;font-size:clamp(1.45rem,3.4vw,2.2rem)}.story-block[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin-top:.8rem}.timeline[_ngcontent-%COMP%]{margin-top:1rem;display:grid;gap:.8rem}.timeline[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{background:linear-gradient(140deg,#fff,#edf8eb);border:1px solid rgba(16,70,38,.13);border-radius:16px;padding:.75rem}.timeline[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#1f7a3f;font-weight:700}.timeline[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:.3rem}.principles-grid[_ngcontent-%COMP%]{margin-top:1rem;display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:.8rem}.principles-grid[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{background:#fff;border:1px solid rgba(16,70,38,.12);border-radius:16px;padding:.8rem}.principles-grid[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.principles-grid[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:.35rem;font-size:.9rem}.ops-block[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:clamp(1.3rem,2.7vw,1.85rem);line-height:1.22}@media(max-width:1100px){.about-hero[_ngcontent-%COMP%], .ops-block[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media(max-width:900px){.principles-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}}@media(max-width:700px){.about-shell[_ngcontent-%COMP%]{width:min(1100px,100% - 1.1rem)}.about-hero[_ngcontent-%COMP%], .ops-block[_ngcontent-%COMP%]{border-radius:18px}.about-hero[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .ops-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:220px}.principles-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};var bT=(e,n)=>n.title;function DT(e,n){if(e&1&&(O(0,"article")(1,"h4"),u(2),x(),O(3,"p"),u(4),x()()),e&2){let t=n.$implicit;p(2),b(t.title),p(2),b(t.detail)}}function ET(e,n){if(e&1&&(O(0,"span"),u(1),x()),e&2){let t=n.$implicit;p(),b(t)}}var Ql=class e{channels=[{title:"Customer Support",detail:"+91 90000 11122 | support@greenspoonfoods.com"},{title:"Subscriptions Desk",detail:"+91 90000 33344 | plans@greenspoonfoods.com"},{title:"Franchise Enquiries",detail:"+91 90000 55566 | franchise@greenspoonfoods.com"}];serviceCities=["Hyderabad","Bengaluru","Chennai","Mumbai","Delhi"];static \u0275fac=function(t){return new(t||e)};static \u0275cmp=ie({type:e,selectors:[["app-contact"]],decls:52,vars:0,consts:[[1,"contact-shell"],[1,"contact-hero"],[1,"kicker"],["src","images/food3.png","alt","Green Spoon infused water"],[1,"contact-grid"],["aria-label","Contact form",1,"contact-form"],["type","text","placeholder","Enter your name"],["type","tel","placeholder","Enter your phone number"],["type","email","placeholder","Enter your email"],["rows","4","placeholder","Tell us your requirement"],["type","button"],[1,"contact-side"],[1,"channel-list"],[1,"city-card"],["src","images/food5.png","alt","Green Spoon app preview"]],template:function(t,r){t&1&&(O(0,"main",0)(1,"section",1)(2,"div")(3,"p",2),u(4,"Contact Green Spoon"),x(),O(5,"h1"),u(6,"Tell Us What You Need, We\u2019ll Build the Right Plan"),x(),O(7,"p"),u(8," Reach us for meal subscriptions, catering, franchise opportunities, or support for your existing orders. "),x()(),gt(9,"img",3),x(),O(10,"section",4)(11,"form",5)(12,"h2"),u(13,"Send an Enquiry"),x(),O(14,"label"),u(15," Full Name "),gt(16,"input",6),x(),O(17,"label"),u(18," Phone Number "),gt(19,"input",7),x(),O(20,"label"),u(21," Email "),gt(22,"input",8),x(),O(23,"label"),u(24," I am interested in "),O(25,"select")(26,"option"),u(27,"Meal Subscription"),x(),O(28,"option"),u(29,"One-time Order Support"),x(),O(30,"option"),u(31,"Corporate Meals"),x(),O(32,"option"),u(33,"Franchise Opportunity"),x()()(),O(34,"label"),u(35," Message "),gt(36,"textarea",9),x(),O(37,"button",10),u(38,"Submit Enquiry"),x()(),O(39,"aside",11)(40,"div",12)(41,"h3"),u(42,"Reach Us Directly"),x(),G(43,DT,5,2,"article",null,bT),x(),O(45,"div",13)(46,"h3"),u(47,"Service Cities"),x(),O(48,"div"),G(49,ET,2,1,"span",null,ct),x()(),gt(51,"img",14),x()()()),t&2&&(p(43),q(r.channels),p(6),q(r.serviceCities))},styles:["[_nghost-%COMP%]{display:block}.contact-shell[_ngcontent-%COMP%]{width:min(1100px,100% - 2.2rem);margin-inline:auto;padding-top:2rem;padding-bottom:3rem;font-family:Fredoka,sans-serif}.kicker[_ngcontent-%COMP%]{margin:0;text-transform:uppercase;letter-spacing:2px;font-size:.75rem;font-weight:700;color:#1f7a3f}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin:0;color:#103623}p[_ngcontent-%COMP%]{margin:0;color:#476356;line-height:1.62}.contact-hero[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.15fr .85fr;gap:1rem;align-items:start;background:linear-gradient(120deg,#84cd3c33,#1f7a3f14);border:1px solid rgba(16,70,38,.12);border-radius:24px;padding:1.1rem}.contact-hero[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:grid;gap:.75rem;align-content:start}.contact-hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(1.55rem,3.4vw,2.3rem);line-height:1.2}.contact-hero[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:0;max-width:620px}.contact-hero[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:290px;object-fit:cover;border-radius:16px}.contact-grid[_ngcontent-%COMP%]{margin-top:2.4rem;display:grid;grid-template-columns:1fr .95fr;gap:1rem}.contact-form[_ngcontent-%COMP%]{background:#fff;border:1px solid rgba(16,70,38,.12);border-radius:20px;padding:1rem;display:grid;gap:.7rem}.contact-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem}.contact-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:grid;gap:.35rem;color:#18462f;font-size:.9rem;font-weight:600}.contact-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .contact-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .contact-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:1px solid rgba(16,70,38,.2);border-radius:12px;padding:.65rem .75rem;font:inherit;color:#113c28;background:#fbfefb}.contact-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.contact-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:.2rem;border:0;border-radius:999px;background:linear-gradient(120deg,#1f7a3f,#84cd3c);color:#fff;padding:.7rem 1rem;font-family:inherit;font-weight:700;cursor:pointer}.contact-side[_ngcontent-%COMP%]{display:grid;gap:.85rem}.channel-list[_ngcontent-%COMP%], .city-card[_ngcontent-%COMP%]{background:#fff;border:1px solid rgba(16,70,38,.12);border-radius:20px;padding:.9rem}.channel-list[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{margin-top:.65rem;border-top:1px dashed rgba(16,70,38,.14);padding-top:.65rem}.channel-list[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]:first-of-type{border-top:0;padding-top:0;margin-top:.5rem}.channel-list[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.92rem}.channel-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:.25rem;font-size:.84rem}.city-card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-top:.55rem;display:flex;gap:.4rem;flex-wrap:wrap}.city-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#84cd3c33;color:#18462f;border-radius:999px;padding:.28rem .62rem;font-size:.8rem}.contact-side[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:220px;border-radius:20px;object-fit:cover;border:1px solid rgba(16,70,38,.12)}@media(max-width:1100px){.contact-hero[_ngcontent-%COMP%], .contact-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media(max-width:700px){.contact-shell[_ngcontent-%COMP%]{width:min(1100px,100% - 1.1rem)}.contact-hero[_ngcontent-%COMP%], .contact-form[_ngcontent-%COMP%], .channel-list[_ngcontent-%COMP%], .city-card[_ngcontent-%COMP%], .contact-side[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:16px}.contact-hero[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:220px}}"]})};var MT=(e,n)=>n.time;function wT(e,n){e&1&&(d(0,"section",3)(1,"h2"),u(2,"Loading tracking..."),l(),d(3,"p"),u(4,"Please wait while we fetch your latest rider status."),l()())}function IT(e,n){e&1&&(d(0,"section",3)(1,"h2"),u(2,"Tracking not available"),l(),d(3,"p"),u(4,"We could not find this order tracking link."),l(),d(5,"a",5),u(6,"Go To Menu"),l()())}function ST(e,n){e&1&&(d(0,"strong"),u(1,"Delivered"),l())}function xT(e,n){if(e&1&&(d(0,"strong"),u(1),l()),e&2){let t=v(2);p(),S("",t.order().etaMinutes," mins")}}function TT(e,n){if(e&1&&he(0,"iframe",15),e&2){let t=v(2);U("src",t.mapUrl(),_c)}}function OT(e,n){if(e&1&&(d(0,"div",17),he(1,"span",18),d(2,"div")(3,"p"),u(4),l(),d(5,"small"),u(6),Ze(7,"date"),l()()()),e&2){let t=n.$implicit;p(4),b(t.label),p(2),b(Ye(7,2,t.time,"shortTime"))}}function AT(e,n){if(e&1&&(d(0,"section",4)(1,"article",6)(2,"p",7),u(3),l(),d(4,"h2"),u(5),l(),d(6,"p",8),u(7," ETA: "),j(8,ST,2,0,"strong")(9,xT,2,1,"strong"),l(),d(10,"div",9)(11,"div",10),he(12,"div",11),l(),d(13,"span"),u(14),l()(),d(15,"div",12)(16,"h3"),u(17,"Delivery Agent"),l(),d(18,"p"),u(19),l(),d(20,"p"),u(21),l()(),d(22,"div",13)(23,"h3"),u(24,"Current Location"),l(),d(25,"p"),u(26),l(),d(27,"p"),u(28),l(),d(29,"p"),u(30),Ze(31,"date"),l()()(),d(32,"article",14)(33,"h3"),u(34,"Live Rider Map"),l(),j(35,TT,1,1,"iframe",15),d(36,"div",16)(37,"h3"),u(38,"Tracking Timeline"),l(),G(39,OT,8,5,"div",17,MT),l()()()),e&2){let t=v();p(3),S("Order ",t.order().orderId),p(2),b(t.statusLabel(t.order())),p(3),B(t.order().status==="delivered"?8:9),p(4),Rc("width",t.progress(t.order()),"%"),p(2),S("",t.progress(t.order()),"%"),p(5),b(t.order().agentName),p(2),b(t.order().agentPhone),p(5),S("Lat: ",t.order().current.lat),p(2),S("Lng: ",t.order().current.lng),p(2),S("Last updated: ",Ye(31,12,t.order().updatedAt,"mediumTime")),p(5),B(t.mapUrl()?35:-1),p(4),q(t.order().events)}}var Jl=class e{constructor(n,t,r){this.route=n;this.tracking=t;this.sanitizer=r;let i=this.route.snapshot.paramMap.get("orderId")??"";this.orderId.set(i),this.loadOrder(i),this.route.paramMap.subscribe(o=>{let s=o.get("orderId")??"";this.orderId.set(s),this.loadOrder(s)})}orderId=P("");order=P(null);loading=P(!0);stopWatch=null;mapUrl=yt(()=>{let n=this.order();if(!n)return null;let t=`https://maps.google.com/maps?q=${n.current.lat},${n.current.lng}&z=15&output=embed`;return this.sanitizer.bypassSecurityTrustResourceUrl(t)});progress(n){return this.tracking.progressPercent(n)}statusLabel(n){return this.tracking.statusLabel(n.status)}ngOnDestroy(){this.stopWatch&&(this.stopWatch(),this.stopWatch=null)}async loadOrder(n){if(this.stopWatch&&(this.stopWatch(),this.stopWatch=null),!n){this.order.set(null),this.loading.set(!1);return}this.loading.set(!0);try{let t=await this.tracking.getOrder(n);this.order.set(t),this.stopWatch=this.tracking.watchOrder(n,r=>{this.order.set(r)})}catch{this.order.set(null)}finally{this.loading.set(!1)}}static \u0275fac=function(t){return new(t||e)(I(Ct),I(Er),I(qp))};static \u0275cmp=ie({type:e,selectors:[["app-tracking"]],decls:9,vars:1,consts:[[1,"tracking-shell"],[1,"tracking-head"],[1,"kicker"],[1,"missing-order"],[1,"tracking-grid"],["routerLink","/menu"],[1,"tracking-card"],[1,"order-id"],[1,"eta"],["aria-label","Delivery progress",1,"progress-wrap"],[1,"progress-track"],[1,"progress-fill"],[1,"agent-card"],[1,"location-card"],[1,"map-card"],["title","Delivery map","loading","lazy","referrerpolicy","no-referrer-when-downgrade",3,"src"],[1,"timeline"],[1,"timeline-row"],[1,"dot"]],template:function(t,r){t&1&&(d(0,"main",0)(1,"section",1)(2,"p",2),u(3,"Live Tracking"),l(),d(4,"h1"),u(5,"Track Your Delivery Agent In Real Time"),l()(),j(6,wT,5,0,"section",3)(7,IT,7,0,"section",3)(8,AT,41,15,"section",4),l()),t&2&&(p(6),B(r.loading()?6:r.order()?8:7))},dependencies:[we,Ie,It],styles:["[_nghost-%COMP%]{display:block}.tracking-shell[_ngcontent-%COMP%]{width:min(1120px,100% - 2rem);margin-inline:auto;padding-top:2rem;padding-bottom:3rem;font-family:Fredoka,sans-serif}.kicker[_ngcontent-%COMP%]{margin:0;text-transform:uppercase;letter-spacing:2px;font-size:.75rem;font-weight:700;color:#1f7a3f}.tracking-head[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.45rem 0 0;color:#123e28}.missing-order[_ngcontent-%COMP%]{margin-top:1.2rem;border:1px solid rgba(18,62,40,.14);border-radius:18px;background:#fff;padding:1rem}.missing-order[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#123e28}.missing-order[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0 0;color:#4b6658}.missing-order[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:.75rem;display:inline-flex;text-decoration:none;border-radius:999px;padding:.55rem 1rem;background:linear-gradient(120deg,#1f7a3f,#84cd3c);color:#fff;font-weight:700}.tracking-grid[_ngcontent-%COMP%]{margin-top:1.2rem;display:grid;grid-template-columns:.95fr 1.05fr;gap:1rem;align-items:start}.tracking-card[_ngcontent-%COMP%], .map-card[_ngcontent-%COMP%]{border:1px solid rgba(18,62,40,.14);border-radius:18px;background:#fff;padding:.95rem}.order-id[_ngcontent-%COMP%]{margin:0;color:#1f7a3f;font-size:.82rem;font-weight:700}.tracking-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:.35rem 0 0;color:#123e28;font-size:1.25rem}.eta[_ngcontent-%COMP%]{margin:.5rem 0 0;color:#4b6658}.eta[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#123e28}.progress-wrap[_ngcontent-%COMP%]{margin-top:.8rem;display:grid;gap:.3rem}.progress-track[_ngcontent-%COMP%]{width:100%;height:10px;border-radius:999px;overflow:hidden;background:#eaf5e8}.progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(120deg,#1f7a3f,#84cd3c);transition:width .4s ease}.progress-wrap[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#1f7a3f;font-weight:700;font-size:.85rem}.agent-card[_ngcontent-%COMP%], .location-card[_ngcontent-%COMP%]{margin-top:.8rem;border:1px dashed rgba(18,62,40,.2);border-radius:14px;padding:.7rem}.agent-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .location-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .map-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .timeline[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#123e28;font-size:1rem}.agent-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .location-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.35rem 0 0;color:#4b6658;font-size:.9rem}.map-card[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;margin-top:.7rem;height:300px;border:0;border-radius:14px}.timeline[_ngcontent-%COMP%]{margin-top:.9rem;border-top:1px dashed rgba(18,62,40,.2);padding-top:.8rem}.timeline-row[_ngcontent-%COMP%]{margin-top:.55rem;display:grid;grid-template-columns:14px 1fr;gap:.55rem}.timeline-row[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;margin-top:.35rem;background:#1f7a3f}.timeline-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#123e28;font-size:.9rem}.timeline-row[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#5b7468}@media(max-width:920px){.tracking-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media(max-width:680px){.tracking-shell[_ngcontent-%COMP%]{width:min(1120px,100% - 1rem)}.map-card[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{height:240px}}"]})};var PT=(e,n)=>n.id+"-"+n.quantity;function RT(e,n){if(e&1){let t=ne();O(0,"button",10),Ai("click",function(){let i=D(t).$implicit,o=v();return E(o.setFilter(i))}),u(1),O(2,"span"),u(3),x()()}if(e&2){let t=n.$implicit,r=v();qr("active",r.filter()===t),pr("aria-selected",r.filter()===t),p(),S(" ",r.statusLabel(t)," "),p(2),b(r.statusCounters()[t])}}function NT(e,n){if(e&1&&(O(0,"section",7),u(1),x()),e&2){let t=v();p(),S(" ",t.errorMessage()," ")}}function kT(e,n){e&1&&(O(0,"section",8),u(1,"Loading orders..."),x())}function FT(e,n){e&1&&(O(0,"section",8),u(1,"No orders available for this status."),x())}function LT(e,n){if(e&1&&(O(0,"div",17),gt(1,"img",20),O(2,"div")(3,"p"),u(4),x(),O(5,"small"),u(6),x()()()),e&2){let t=n.$implicit;p(),Ko("src",t.image,mt)("alt",t.name),p(3),b(t.name),p(2),qe("",t.quantity," x INR ",t.price)}}function VT(e,n){e&1&&(O(0,"p",19),u(1,"No further actions."),x())}function jT(e,n){if(e&1){let t=ne();O(0,"button",22),Ai("click",function(){let i=D(t).$implicit,o=v(2).$implicit,s=v(2);return E(s.updateStatus(o,i))}),u(1),x()}if(e&2){let t=n.$implicit,r=v(2).$implicit,i=v(2);Ko("disabled",!i.canUpdate(r,t)),p(),S(" Move to ",i.statusLabel(t)," ")}}function BT(e,n){if(e&1&&G(0,jT,2,2,"button",21,ct),e&2){let t=v().$implicit,r=v(2);q(r.nextStatuses(t))}}function UT(e,n){if(e&1&&(O(0,"article",11)(1,"div",12)(2,"div")(3,"p",13),u(4),x(),O(5,"h2"),u(6),x()(),O(7,"span",14),u(8),x()(),O(9,"div",15)(10,"p")(11,"strong"),u(12,"Phone:"),x(),u(13),x(),O(14,"p")(15,"strong"),u(16,"City:"),x(),u(17),x(),O(18,"p")(19,"strong"),u(20,"Payment:"),x(),u(21),x(),O(22,"p")(23,"strong"),u(24,"Total:"),x(),u(25),x(),O(26,"p")(27,"strong"),u(28,"Pay Now:"),x(),u(29),x(),O(30,"p")(31,"strong"),u(32,"Fee Mode:"),x(),u(33),x(),O(34,"p")(35,"strong"),u(36,"Settlement:"),x(),u(37),x(),O(38,"p")(39,"strong"),u(40,"Placed:"),x(),u(41),Ze(42,"date"),x(),O(43,"p")(44,"strong"),u(45,"Updated:"),x(),u(46),Ze(47,"date"),x()(),O(48,"div",16),G(49,LT,7,5,"div",17,PT),x(),O(51,"div",18),j(52,VT,2,0,"p",19)(53,BT,2,0),x()()),e&2){let t=n.$implicit,r=v(2);p(4),S("Order ",t.orderId),p(2),b(t.customer.name),p(),Cp("status-chip "+t.status),p(),S(" ",r.statusLabel(t.status)," "),p(5),S(" ",t.customer.phone),p(4),S(" ",t.address.city),p(4),S(" ",r.paymentLabel(t.paymentMethod)),p(4),S(" INR ",t.totals.grandTotal),p(4),S(" INR ",t.totals.payableNow??t.totals.grandTotal),p(4),S(" ",t.deliveryFeeMode||"prepaid"),p(4),S(" ",t.deliveryFeeSettlementStatus||"not_applicable"),p(4),S(" ",Ye(42,15,t.createdAt,"medium")),p(5),S(" ",Ye(47,18,t.updatedAt,"mediumTime")),p(3),q(t.items),p(3),B(r.nextStatuses(t).length===0?52:53)}}function HT(e,n){if(e&1&&(O(0,"section",9),G(1,UT,54,21,"article",11,mp().trackOrder,!0),x()),e&2){let t=v();p(),q(t.filteredOrders())}}var Xl=class e{constructor(n){this.orderApi=n}statusFilters=["all","created","confirmed","preparing","out_for_delivery","delivered","cancelled"];loading=P(!0);errorMessage=P("");filter=P("all");orders=P([]);activeUpdateKey=P("");filteredOrders=yt(()=>{let n=this.filter(),t=this.orders();return n==="all"?t:t.filter(r=>r.status===n)});statusCounters=yt(()=>{let n={all:this.orders().length,created:0,confirmed:0,preparing:0,out_for_delivery:0,delivered:0,cancelled:0};for(let t of this.orders())n[t.status]+=1;return n});transitions={created:["confirmed","cancelled"],confirmed:["preparing","cancelled"],preparing:["out_for_delivery","cancelled"],out_for_delivery:[],delivered:[],cancelled:[]};ngOnInit(){this.loadOrders()}async refresh(){await this.loadOrders()}setFilter(n){this.filter.set(n)}nextStatuses(n){return this.transitions[n.status]??[]}canUpdate(n,t){let r=this.getActionKey(n.orderId,t);return this.activeUpdateKey()!==r}async updateStatus(n,t){this.errorMessage.set("");let r=this.getActionKey(n.orderId,t);this.activeUpdateKey.set(r);try{let i=await this.orderApi.updateOrderStatus(n.orderId,t);if(!i){this.errorMessage.set("Order not found. Please refresh.");return}this.orders.update(o=>o.map(s=>s.orderId===i.orderId?i:s))}catch(i){this.errorMessage.set(this.extractErrorMessage(i))}finally{this.activeUpdateKey.set("")}}trackOrder(n,t){return t.orderId}statusLabel(n){switch(n){case"all":return"All";case"created":return"Created";case"confirmed":return"Confirmed";case"preparing":return"Preparing";case"out_for_delivery":return"Out For Delivery";case"delivered":return"Delivered";case"cancelled":return"Cancelled";default:return n}}paymentLabel(n){return n==="razorpay"?"Razorpay":"WhatsApp"}async loadOrders(){this.loading.set(!0),this.errorMessage.set("");try{let n=await this.orderApi.listOrders();this.orders.set(n)}catch(n){this.errorMessage.set(this.extractErrorMessage(n))}finally{this.loading.set(!1)}}extractErrorMessage(n){return n instanceof _e?typeof n.error?.message=="string"?n.error.message:`Request failed with status ${n.status}.`:n instanceof Error?n.message:"Unexpected error. Please try again."}getActionKey(n,t){return`${n}:${t}`}static \u0275fac=function(t){return new(t||e)(I(An))};static \u0275cmp=ie({type:e,selectors:[["app-admin-orders"]],decls:18,vars:2,consts:[[1,"admin-shell"],[1,"admin-head"],[1,"kicker"],[1,"toolbar"],["role","tablist","aria-label","Order status filters",1,"filters"],["type","button","role","tab",1,"pill",3,"active"],["type","button",1,"refresh-btn",3,"click"],[1,"error-box"],[1,"placeholder"],[1,"order-grid"],["type","button","role","tab",1,"pill",3,"click"],[1,"order-card"],[1,"card-head"],[1,"order-id"],[1,"status-chip"],[1,"meta-grid"],[1,"items-list"],[1,"item-row"],[1,"actions"],[1,"done-note"],[3,"src","alt"],["type","button",3,"disabled"],["type","button",3,"click","disabled"]],template:function(t,r){t&1&&(O(0,"main",0)(1,"section",1)(2,"p",2),u(3,"Kitchen Console"),x(),O(4,"h1"),u(5,"Manage Live Orders"),x(),O(6,"p"),u(7," Update order pipeline from confirmation to delivery. This screen is intended for kitchen and dispatch staff. "),x()(),O(8,"section",3)(9,"div",4),G(10,RT,4,5,"button",5,ct),x(),O(12,"button",6),Ai("click",function(){return r.refresh()}),u(13,"Refresh"),x()(),j(14,NT,2,1,"section",7),j(15,kT,2,0,"section",8)(16,FT,2,0,"section",8)(17,HT,3,0,"section",9),x()),t&2&&(p(10),q(r.statusFilters),p(4),B(r.errorMessage()?14:-1),p(),B(r.loading()?15:r.filteredOrders().length===0?16:17))},dependencies:[we,It],styles:['.admin-shell[_ngcontent-%COMP%]{width:min(1160px,100%);margin:0 auto;padding:1.2rem 1rem 3rem;color:#173f2a}.admin-head[_ngcontent-%COMP%]{margin-bottom:1rem}.kicker[_ngcontent-%COMP%]{margin:0 0 .35rem;font-family:Fredoka,sans-serif;font-size:.82rem;letter-spacing:.18em;color:#1f7a3f;text-transform:uppercase;font-weight:700}.admin-head[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-family:"Baloo 2",sans-serif;font-size:clamp(1.65rem,3vw,2.5rem)}.admin-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.45rem 0 0;font-family:Fredoka,sans-serif;color:#3e5f4d}.toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.85rem;align-items:flex-start;margin:1.15rem 0}.filters[_ngcontent-%COMP%]{display:flex;gap:.45rem;flex-wrap:wrap}.pill[_ngcontent-%COMP%]{border:1px solid rgba(27,95,55,.26);background:#eff8f1;color:#214f35;border-radius:999px;padding:.38rem .72rem;font-family:Fredoka,sans-serif;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:.35rem}.pill[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{min-width:18px;height:18px;border-radius:999px;background:#d8edd9;font-size:.7rem;display:inline-flex;align-items:center;justify-content:center}.pill.active[_ngcontent-%COMP%]{background:#1f7a3f;color:#fff}.pill.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#84cd3c;color:#123b26}.refresh-btn[_ngcontent-%COMP%]{border:0;border-radius:12px;padding:.52rem .95rem;background:#123f28;color:#fff;font-family:Fredoka,sans-serif;font-weight:700;cursor:pointer}.error-box[_ngcontent-%COMP%]{border:1px solid rgba(167,42,42,.25);background:#fff1f1;color:#9f2424;border-radius:14px;padding:.7rem .9rem;font-family:Fredoka,sans-serif;margin-bottom:1rem}.placeholder[_ngcontent-%COMP%]{border-radius:16px;border:1px dashed rgba(37,84,56,.25);background:#f5fbf6;min-height:120px;display:grid;place-items:center;font-family:Fredoka,sans-serif;font-weight:600}.order-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(330px,1fr));gap:.95rem}.order-card[_ngcontent-%COMP%]{border-radius:20px;border:1px solid rgba(31,103,58,.2);background:#fff;box-shadow:0 16px 30px #11402414;padding:1rem}.card-head[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;gap:.6rem}.order-id[_ngcontent-%COMP%]{margin:0;font-family:Fredoka,sans-serif;color:#2f7a4a;font-weight:700;font-size:.82rem}.card-head[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:.25rem 0 0;font-family:"Baloo 2",sans-serif;font-size:1.35rem}.status-chip[_ngcontent-%COMP%]{border-radius:999px;padding:.22rem .65rem;font-family:Fredoka,sans-serif;font-weight:700;font-size:.78rem;white-space:nowrap}.status-chip.created[_ngcontent-%COMP%]{background:#ecf2ff;color:#2f55b0}.status-chip.confirmed[_ngcontent-%COMP%]{background:#eaf6ee;color:#17683a}.status-chip.preparing[_ngcontent-%COMP%]{background:#fff4dd;color:#8e5a00}.status-chip.out_for_delivery[_ngcontent-%COMP%]{background:#e5f6ff;color:#0b5d83}.status-chip.delivered[_ngcontent-%COMP%]{background:#dff9e3;color:#155930}.status-chip.cancelled[_ngcontent-%COMP%]{background:#ffe9e9;color:#9e2d2d}.meta-grid[_ngcontent-%COMP%]{margin-top:.8rem;padding:.65rem;border-radius:14px;background:#f6faf7;display:grid;grid-template-columns:1fr 1fr;gap:.45rem}.meta-grid[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-family:Fredoka,sans-serif;font-size:.88rem;color:#385845}.items-list[_ngcontent-%COMP%]{margin-top:.8rem;display:grid;gap:.55rem}.item-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:48px 1fr;gap:.6rem;align-items:center}.item-row[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:10px;object-fit:cover}.item-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-family:Fredoka,sans-serif;font-weight:600}.item-row[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#4e6c5a;font-family:Fredoka,sans-serif}.actions[_ngcontent-%COMP%]{margin-top:.9rem;display:flex;gap:.5rem;flex-wrap:wrap}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0;border-radius:10px;padding:.45rem .72rem;background:#1f7a3f;color:#fff;font-family:Fredoka,sans-serif;font-weight:700;cursor:pointer}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.45;cursor:not-allowed}.done-note[_ngcontent-%COMP%]{margin:0;font-family:Fredoka,sans-serif;color:#4f6e5d;font-weight:600}@media(max-width:720px){.toolbar[_ngcontent-%COMP%]{flex-direction:column}.meta-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}']})};var $T=e=>["/track",e],zT=(e,n)=>n.orderId;function WT(e,n){if(e&1&&(d(0,"section",3),u(1),l()),e&2){let t=v();p(),b(t.errorMessage())}}function GT(e,n){if(e&1&&(d(0,"section",4),u(1),l()),e&2){let t=v();p(),b(t.statusMessage())}}function qT(e,n){e&1&&(d(0,"section",5),u(1,"Loading dispatch data..."),l())}function ZT(e,n){e&1&&(d(0,"section",5),u(1,"No active orders available."),l())}function YT(e,n){if(e&1&&(d(0,"option",10),u(1),l()),e&2){let t=n.$implicit;U("value",t.orderId),p(),Nc(" ",t.orderId," - ",t.customer.name," - INR ",t.totals.grandTotal," ")}}function KT(e,n){if(e&1&&(d(0,"p")(1,"strong"),u(2,"Due At Drop:"),l(),u(3),l()),e&2){let t=v(3);p(3),S(" INR ",t.selectedOrder().totals.deliveryFeeDueAtDrop)}}function QT(e,n){if(e&1&&(d(0,"div",32)(1,"p")(2,"strong"),u(3,"Customer:"),l(),u(4),l(),d(5,"p")(6,"strong"),u(7,"Phone:"),l(),u(8),l(),d(9,"p")(10,"strong"),u(11,"Address:"),l(),u(12),l(),d(13,"p")(14,"strong"),u(15,"Order Status:"),l(),u(16),l(),d(17,"p")(18,"strong"),u(19,"Delivery Fee Mode:"),l(),u(20),l(),d(21,"p")(22,"strong"),u(23,"Settlement:"),l(),u(24),l(),j(25,KT,4,1,"p"),l(),d(26,"a",33),u(27,"Open Customer Tracking Page"),l()),e&2){let t=v(2);p(4),S(" ",t.selectedOrder().customer.name),p(4),S(" ",t.selectedOrder().customer.phone),p(4),qe(" ",t.selectedOrder().address.line1,", ",t.selectedOrder().address.city),p(4),S(" ",t.selectedOrder().status),p(4),S(" ",t.selectedOrder().deliveryFeeMode||"prepaid"),p(4),S(" ",t.selectedOrder().deliveryFeeSettlementStatus||"not_applicable"),p(),B((t.selectedOrder().totals.deliveryFeeDueAtDrop||0)>0?25:-1),p(),U("routerLink",Zr(9,$T,t.selectedOrder().orderId))}}function JT(e,n){if(e&1&&(d(0,"option",10),u(1),l()),e&2){let t=n.$implicit,r=v(2);U("value",t),p(),b(r.deliveryLabel(t))}}function XT(e,n){e&1&&u(0," Updating... ")}function eO(e,n){e&1&&u(0," Push Tracking ")}function tO(e,n){if(e&1&&(d(0,"div",21)(1,"p")(2,"strong"),u(3,"Current:"),l(),u(4),l(),d(5,"p")(6,"strong"),u(7,"Status:"),l(),u(8),l(),d(9,"p")(10,"strong"),u(11,"ETA:"),l(),u(12),l(),d(13,"p")(14,"strong"),u(15,"Updated:"),l(),u(16),Ze(17,"date"),l()()),e&2){let t=v(2);p(4),qe(" ",t.tracking().current.lat,", ",t.tracking().current.lng),p(4),S(" ",t.deliveryLabel(t.tracking().status)),p(4),S(" ",t.tracking().etaMinutes," mins"),p(4),S(" ",Ye(17,5,t.tracking().updatedAt,"mediumTime"))}}function nO(e,n){e&1&&u(0," Queueing... ")}function rO(e,n){e&1&&u(0," Queue WhatsApp Confirmation Log ")}function iO(e,n){if(e&1){let t=ne();d(0,"div",11)(1,"label",34),u(2,"Amount Collected"),l(),d(3,"input",35),$("ngModelChange",function(i){D(t);let o=v(2);return z(o.collectionAmountInput,i)||(o.collectionAmountInput=i),E(i)}),l(),d(4,"label",36),u(5,"Collection Method"),l(),d(6,"select",37),$("ngModelChange",function(i){D(t);let o=v(2);return z(o.collectionMethod,i)||(o.collectionMethod=i),E(i)}),d(7,"option",38),u(8,"Cash"),l(),d(9,"option",39),u(10,"UPI"),l()(),d(11,"label",40),u(12,"Collection Notes"),l(),d(13,"input",41),$("ngModelChange",function(i){D(t);let o=v(2);return z(o.collectionNotesInput,i)||(o.collectionNotesInput=i),E(i)}),l()()}if(e&2){let t=v(2);p(3),H("ngModel",t.collectionAmountInput),p(3),H("ngModel",t.collectionMethod),p(7),H("ngModel",t.collectionNotesInput)}}function oO(e,n){e&1&&u(0," Confirming... ")}function sO(e,n){e&1&&u(0," Confirm Delivery ")}function aO(e,n){if(e&1){let t=ne();d(0,"section",6)(1,"article",7)(2,"h2"),u(3,"Select Order"),l(),d(4,"label",8),u(5,"Active Orders"),l(),d(6,"select",9),V("ngModelChange",function(i){D(t);let o=v();return o.selectedOrderId.set(i),E(o.onOrderSelectionChange())}),G(7,YT,2,4,"option",10,zT),l(),j(9,QT,28,11),l(),d(10,"article",7)(11,"h2"),u(12,"Push Tracking Update"),l(),d(13,"div",11)(14,"label",12),u(15,"Latitude"),l(),d(16,"input",13),$("ngModelChange",function(i){D(t);let o=v();return z(o.latInput,i)||(o.latInput=i),E(i)}),l(),d(17,"label",14),u(18,"Longitude"),l(),d(19,"input",15),$("ngModelChange",function(i){D(t);let o=v();return z(o.lngInput,i)||(o.lngInput=i),E(i)}),l(),d(20,"label",16),u(21,"ETA Minutes"),l(),d(22,"input",17),$("ngModelChange",function(i){D(t);let o=v();return z(o.etaInput,i)||(o.etaInput=i),E(i)}),l(),d(23,"label",18),u(24,"Delivery Status"),l(),d(25,"select",19),$("ngModelChange",function(i){D(t);let o=v();return z(o.deliveryStatus,i)||(o.deliveryStatus=i),E(i)}),G(26,JT,2,2,"option",10,ct),l()(),d(28,"button",20),V("click",function(){D(t);let i=v();return E(i.pushTrackingUpdate())}),j(29,XT,1,0)(30,eO,1,0),l(),j(31,tO,18,8,"div",21),l()(),d(32,"section",22)(33,"h2"),u(34,"Customer WhatsApp Confirmation"),l(),d(35,"p"),u(36,"Queue a confirmation event after manual WhatsApp reply by operations staff."),l(),d(37,"button",23),V("click",function(){D(t);let i=v();return E(i.queueWhatsAppConfirmation())}),j(38,nO,1,0)(39,rO,1,0),l()(),d(40,"section",22)(41,"h2"),u(42,"Delivery Confirmation"),l(),d(43,"p"),u(44,"Confirm handoff with OTP and capture delivery fee collection if applicable."),l(),d(45,"div",11)(46,"label",24),u(47,"Delivery OTP"),l(),d(48,"input",25),$("ngModelChange",function(i){D(t);let o=v();return z(o.deliveryOtpInput,i)||(o.deliveryOtpInput=i),E(i)}),l(),d(49,"label",26),u(50,"Confirmed By"),l(),d(51,"input",27),$("ngModelChange",function(i){D(t);let o=v();return z(o.confirmedByInput,i)||(o.confirmedByInput=i),E(i)}),l(),d(52,"label",28),u(53,"Proof Note"),l(),d(54,"input",29),$("ngModelChange",function(i){D(t);let o=v();return z(o.proofNoteInput,i)||(o.proofNoteInput=i),E(i)}),l()(),d(55,"label",30)(56,"input",31),$("ngModelChange",function(i){D(t);let o=v();return z(o.collectDeliveryFee,i)||(o.collectDeliveryFee=i),E(i)}),l(),u(57," Collect delivery fee at drop "),l(),j(58,iO,14,3,"div",11),d(59,"button",23),V("click",function(){D(t);let i=v();return E(i.confirmDelivery())}),j(60,oO,1,0)(61,sO,1,0),l()()}if(e&2){let t=v();p(6),U("ngModel",t.selectedOrderId()),p(),q(t.activeOrders()),p(2),B(t.selectedOrder()?9:-1),p(7),H("ngModel",t.latInput),p(3),H("ngModel",t.lngInput),p(3),H("ngModel",t.etaInput),p(3),H("ngModel",t.deliveryStatus),p(),q(t.deliveryStatuses),p(2),U("disabled",t.busyUpdate()),p(),B(t.busyUpdate()?29:30),p(2),B(t.tracking()?31:-1),p(6),U("disabled",t.busyNotify()||!t.selectedOrder()),p(),B(t.busyNotify()?38:39),p(10),H("ngModel",t.deliveryOtpInput),p(3),H("ngModel",t.confirmedByInput),p(3),H("ngModel",t.proofNoteInput),p(2),H("ngModel",t.collectDeliveryFee),p(2),B(t.collectDeliveryFee?58:-1),p(),U("disabled",t.busyConfirm()||!t.selectedOrder()),p(),B(t.busyConfirm()?60:61)}}var eu=class e{constructor(n,t){this.orderApi=n;this.trackingService=t}loading=P(!0);busyUpdate=P(!1);busyNotify=P(!1);busyConfirm=P(!1);statusMessage=P("");errorMessage=P("");orders=P([]);selectedOrderId=P("");tracking=P(null);latInput="";lngInput="";etaInput="20";deliveryStatus="on_the_way";deliveryOtpInput="";proofNoteInput="";confirmedByInput="Dispatch Team";collectDeliveryFee=!1;collectionAmountInput="";collectionMethod="cash";collectionNotesInput="";deliveryStatuses=["assigned","picked_up","on_the_way","nearby","delivered"];selectedOrder=yt(()=>this.orders().find(n=>n.orderId===this.selectedOrderId())??null);activeOrders=yt(()=>this.orders().filter(n=>n.status!=="cancelled"&&n.status!=="delivered"));ngOnInit(){this.loadOrders()}async refresh(){await this.loadOrders()}async onOrderSelectionChange(){this.statusMessage.set(""),this.errorMessage.set(""),await this.loadTrackingForSelectedOrder()}async pushTrackingUpdate(){let n=this.selectedOrder();if(!n){this.errorMessage.set("Select an order first.");return}let t=Number.parseFloat(this.latInput),r=Number.parseFloat(this.lngInput),i=Number.parseInt(this.etaInput,10);if(!Number.isFinite(t)||!Number.isFinite(r)){this.errorMessage.set("Latitude and longitude must be valid numbers.");return}if(!Number.isFinite(i)||i<0){this.errorMessage.set("ETA must be a non-negative number.");return}this.busyUpdate.set(!0),this.errorMessage.set(""),this.statusMessage.set("");try{if(!await this.trackingService.updateTrackingLocation(n.orderId,{lat:t,lng:r,status:this.deliveryStatus,etaMinutes:i})){this.errorMessage.set("Tracking not found for this order.");return}await this.loadTrackingForSelectedOrder(),this.statusMessage.set("Tracking updated successfully.")}catch(o){this.errorMessage.set(this.extractErrorMessage(o))}finally{this.busyUpdate.set(!1)}}async queueWhatsAppConfirmation(){let n=this.selectedOrder();if(!n){this.errorMessage.set("Select an order first.");return}let t=this.buildCustomerMessage(n);this.busyNotify.set(!0),this.errorMessage.set(""),this.statusMessage.set("");try{let r=await this.orderApi.queueWhatsAppConfirmation({orderId:n.orderId,customerName:n.customer.name,customerPhone:n.customer.phone,message:t});this.statusMessage.set(r.providerMessageId?`WhatsApp confirmation queued (${r.providerMessageId}).`:"WhatsApp confirmation queued.")}catch(r){this.errorMessage.set(this.extractErrorMessage(r))}finally{this.busyNotify.set(!1)}}async confirmDelivery(){let n=this.selectedOrder();if(!n){this.errorMessage.set("Select an order first.");return}if(!this.deliveryOtpInput.trim()){this.errorMessage.set("Delivery OTP is required.");return}let t;if(this.collectDeliveryFee){let r=Number.parseFloat(this.collectionAmountInput);if(!Number.isFinite(r)||r<0){this.errorMessage.set("Collection amount must be a non-negative number.");return}t=r}this.busyConfirm.set(!0),this.errorMessage.set(""),this.statusMessage.set("");try{let r=await this.orderApi.confirmDelivery(n.orderId,{otpCode:this.deliveryOtpInput.trim(),proofNote:this.proofNoteInput.trim()||void 0,confirmedBy:this.confirmedByInput.trim()||"Dispatch Team",collectDeliveryFee:this.collectDeliveryFee,collectionAmount:t,collectionMethod:this.collectDeliveryFee?this.collectionMethod:void 0,collectionNotes:this.collectDeliveryFee&&this.collectionNotesInput.trim()||void 0});if(!r){this.errorMessage.set("Order not found.");return}let i=this.tracking();await this.trackingService.updateTrackingLocation(n.orderId,{lat:Number.parseFloat(this.latInput||"0")||i?.current.lat||17.385,lng:Number.parseFloat(this.lngInput||"0")||i?.current.lng||78.4867,status:"delivered",etaMinutes:0}),this.orders.update(o=>o.map(s=>s.orderId===r.orderId?r:s)),await this.loadTrackingForSelectedOrder(),this.statusMessage.set("Delivery confirmed successfully.")}catch(r){this.errorMessage.set(this.extractErrorMessage(r))}finally{this.busyConfirm.set(!1)}}deliveryLabel(n){switch(n){case"assigned":return"Assigned";case"picked_up":return"Picked Up";case"on_the_way":return"On The Way";case"nearby":return"Nearby";case"delivered":return"Delivered";default:return n}}async loadOrders(){this.loading.set(!0),this.errorMessage.set(""),this.statusMessage.set("");try{let n=await this.orderApi.listOrders();this.orders.set(n);let t=n.filter(r=>r.status!=="cancelled"&&r.status!=="delivered");(!this.selectedOrderId()||!t.some(r=>r.orderId===this.selectedOrderId()))&&t.length>0&&this.selectedOrderId.set(t[0].orderId),this.selectedOrderId()?await this.loadTrackingForSelectedOrder():this.tracking.set(null)}catch(n){this.errorMessage.set(this.extractErrorMessage(n))}finally{this.loading.set(!1)}}async loadTrackingForSelectedOrder(){let n=this.selectedOrderId();if(!n){this.tracking.set(null);return}try{let t=await this.trackingService.getOrder(n);this.tracking.set(t),t?(this.latInput=t.current.lat.toFixed(6),this.lngInput=t.current.lng.toFixed(6),this.etaInput=String(t.etaMinutes),this.deliveryStatus=t.status):(this.latInput="",this.lngInput="",this.etaInput="20",this.deliveryStatus="on_the_way");let r=this.selectedOrder();r&&(this.collectDeliveryFee=r.deliveryFeeMode==="collect_at_drop",this.collectionAmountInput=String(r.totals.deliveryFeeDueAtDrop??r.totals.deliveryFee))}catch(t){this.errorMessage.set(this.extractErrorMessage(t))}}buildCustomerMessage(n){let t=this.etaInput||"0",r=this.deliveryLabel(this.deliveryStatus),i=n.totals.deliveryFeeDueAtDrop??0,o=i>0?` Please pay delivery charge INR ${i} at drop location.`:"";return`Hi ${n.customer.name}, your Green Spoon order ${n.orderId} is currently ${r}. Estimated delivery in ${t} minutes.${o}`}extractErrorMessage(n){return n instanceof _e?typeof n.error?.message=="string"?n.error.message:`Request failed with status ${n.status}.`:n instanceof Error?n.message:"Unexpected error. Please try again."}static \u0275fac=function(t){return new(t||e)(I(An),I(Er))};static \u0275cmp=ie({type:e,selectors:[["app-admin-dispatch"]],decls:13,vars:3,consts:[[1,"dispatch-shell"],[1,"dispatch-head"],[1,"kicker"],[1,"error-box"],[1,"success-box"],[1,"placeholder"],[1,"dispatch-grid"],[1,"panel"],["for","orderSelect"],["id","orderSelect",3,"ngModelChange","ngModel"],[3,"value"],[1,"form-grid"],["for","latInput"],["id","latInput","type","text","placeholder","17.385000",3,"ngModelChange","ngModel"],["for","lngInput"],["id","lngInput","type","text","placeholder","78.486700",3,"ngModelChange","ngModel"],["for","etaInput"],["id","etaInput","type","number","min","0",3,"ngModelChange","ngModel"],["for","deliveryStatus"],["id","deliveryStatus",3,"ngModelChange","ngModel"],["type","button",1,"primary-btn",3,"click","disabled"],[1,"tracking-preview"],[1,"panel","notify-panel"],["type","button",1,"secondary-btn",3,"click","disabled"],["for","deliveryOtpInput"],["id","deliveryOtpInput","type","text","placeholder","Enter OTP shared by customer",3,"ngModelChange","ngModel"],["for","confirmedByInput"],["id","confirmedByInput","type","text","placeholder","Dispatch staff name",3,"ngModelChange","ngModel"],["for","proofNoteInput"],["id","proofNoteInput","type","text","placeholder","Photo/signature/remarks",3,"ngModelChange","ngModel"],[1,"inline-check"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"order-info"],[1,"track-link",3,"routerLink"],["for","collectionAmountInput"],["id","collectionAmountInput","type","number","min","0",3,"ngModelChange","ngModel"],["for","collectionMethod"],["id","collectionMethod",3,"ngModelChange","ngModel"],["value","cash"],["value","upi"],["for","collectionNotesInput"],["id","collectionNotesInput","type","text","placeholder","Optional notes",3,"ngModelChange","ngModel"]],template:function(t,r){t&1&&(d(0,"main",0)(1,"section",1)(2,"p",2),u(3,"Dispatch Console"),l(),d(4,"h1"),u(5,"Update Rider Location and Customer Notification"),l(),d(6,"p"),u(7,"Select an order, push tracking status, and queue WhatsApp confirmation logs."),l()(),j(8,WT,2,1,"section",3),j(9,GT,2,1,"section",4),j(10,qT,2,0,"section",5)(11,ZT,2,0,"section",5)(12,aO,62,18),l()),t&2&&(p(8),B(r.errorMessage()?8:-1),p(),B(r.statusMessage()?9:-1),p(),B(r.loading()?10:r.activeOrders().length===0?11:12))},dependencies:[we,qt,Ji,Xi,_t,Ls,Fs,Dr,Gt,Ah,Ot,Ie,It],styles:['.dispatch-shell[_ngcontent-%COMP%]{width:min(1160px,100%);margin:0 auto;padding:1.2rem 1rem 3rem;color:#183f2b}.dispatch-head[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-family:"Baloo 2",sans-serif;font-size:clamp(1.65rem,3vw,2.5rem)}.kicker[_ngcontent-%COMP%]{margin:0 0 .35rem;font-family:Fredoka,sans-serif;font-size:.82rem;letter-spacing:.18em;color:#1f7a3f;text-transform:uppercase;font-weight:700}.dispatch-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.45rem 0 0;font-family:Fredoka,sans-serif;color:#3e5f4d}.dispatch-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:.95rem;margin-top:1rem}.panel[_ngcontent-%COMP%]{border-radius:18px;border:1px solid rgba(31,103,58,.2);background:#fff;box-shadow:0 16px 30px #11402414;padding:1rem}.panel[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 .6rem;font-family:"Baloo 2",sans-serif}label[_ngcontent-%COMP%]{display:block;font-family:Fredoka,sans-serif;font-weight:600;margin:.55rem 0 .28rem}.inline-check[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.45rem;margin-top:.75rem}.inline-check[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:auto}select[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{width:100%;border:1px solid rgba(27,95,55,.22);border-radius:12px;background:#f6faf7;padding:.55rem .62rem;font-family:Fredoka,sans-serif;color:#1f4d33}.order-info[_ngcontent-%COMP%]{margin-top:.8rem;padding:.7rem;border-radius:12px;background:#f5fbf7}.order-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .tracking-preview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.35rem 0;font-family:Fredoka,sans-serif;color:#355846}.track-link[_ngcontent-%COMP%]{margin-top:.65rem;display:inline-flex;text-decoration:none;font-family:Fredoka,sans-serif;font-weight:700;color:#1f7a3f}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:.4rem .6rem}.primary-btn[_ngcontent-%COMP%], .secondary-btn[_ngcontent-%COMP%]{margin-top:.9rem;border:0;border-radius:12px;padding:.6rem .95rem;font-family:Fredoka,sans-serif;font-weight:700;cursor:pointer}.primary-btn[_ngcontent-%COMP%]{background:#1f7a3f;color:#fff}.secondary-btn[_ngcontent-%COMP%]{background:#174d31;color:#fff}.primary-btn[_ngcontent-%COMP%]:disabled, .secondary-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.tracking-preview[_ngcontent-%COMP%]{margin-top:.8rem;border-radius:12px;padding:.7rem;background:#f5fbf7}.notify-panel[_ngcontent-%COMP%]{margin-top:.95rem}.error-box[_ngcontent-%COMP%], .success-box[_ngcontent-%COMP%]{border-radius:12px;padding:.62rem .8rem;font-family:Fredoka,sans-serif;margin-top:.95rem}.error-box[_ngcontent-%COMP%]{border:1px solid rgba(167,42,42,.25);background:#fff1f1;color:#9f2424}.success-box[_ngcontent-%COMP%]{border:1px solid rgba(30,110,61,.2);background:#edf9ef;color:#236940}.placeholder[_ngcontent-%COMP%]{margin-top:1rem;border-radius:16px;border:1px dashed rgba(37,84,56,.25);background:#f5fbf6;min-height:120px;display:grid;place-items:center;font-family:Fredoka,sans-serif;font-weight:600}@media(max-width:860px){.dispatch-grid[_ngcontent-%COMP%], .form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}']})};var cO=e=>["/track",e],lO=(e,n)=>n.orderId,uO=(e,n)=>n.id+"-"+n.quantity;function dO(e,n){if(e&1){let t=ne();d(0,"button",10),V("click",function(){D(t);let i=v();return E(i.requestPhoneOtp())}),u(1,"Request OTP"),l()}if(e&2){let t=v();U("disabled",t.loading())}}function fO(e,n){if(e&1&&(d(0,"p",17),u(1),l()),e&2){let t=v(2);p(),S("Demo OTP: ",t.debugOtpHint())}}function pO(e,n){if(e&1){let t=ne();d(0,"label",15),u(1,"OTP"),l(),d(2,"input",16),$("ngModelChange",function(i){D(t);let o=v();return z(o.otpInput,i)||(o.otpInput=i),E(i)}),l(),j(3,fO,2,1,"p",17),d(4,"div",18)(5,"button",10),V("click",function(){D(t);let i=v();return E(i.verifyPhoneOtpAndSearch())}),u(6," Verify OTP and Find Orders "),l(),d(7,"button",19),V("click",function(){D(t);let i=v();return E(i.resetPhoneLookup())}),u(8," Reset "),l()()}if(e&2){let t=v();p(2),H("ngModel",t.otpInput),p(),B(t.debugOtpHint()?3:-1),p(2),U("disabled",t.loading()),p(2),U("disabled",t.loading())}}function hO(e,n){if(e&1&&(d(0,"section",11),u(1),l()),e&2){let t=v();p(),b(t.errorMessage())}}function mO(e,n){if(e&1&&(d(0,"section",12),u(1),l()),e&2){let t=v();p(),b(t.statusMessage())}}function gO(e,n){e&1&&(d(0,"section",13),u(1,"Searching orders..."),l())}function yO(e,n){if(e&1&&(d(0,"div",26),he(1,"img",30),d(2,"div")(3,"p"),u(4),l(),d(5,"small"),u(6),l()()()),e&2){let t=n.$implicit;p(),U("src",t.image,mt)("alt",t.name),p(3),b(t.name),p(2),qe("",t.quantity," x INR ",t.price)}}function vO(e,n){if(e&1){let t=ne();d(0,"article",20)(1,"div",21)(2,"div")(3,"p",22),u(4),l(),d(5,"h2"),u(6),l()(),d(7,"span",23),u(8),l()(),d(9,"p",24),u(10),Ze(11,"date"),l(),d(12,"p",24),u(13),l(),d(14,"p",24),u(15),l(),d(16,"div",25),G(17,yO,7,5,"div",26,uO),l(),d(19,"div",27)(20,"a",28),u(21,"Track Order"),l(),d(22,"button",29),V("click",function(){let i=D(t).$implicit,o=v(2);return E(o.reorder(i))}),u(23,"Reorder"),l()()()}if(e&2){let t=n.$implicit,r=v(2);p(4),S("Order ",t.orderId),p(2),b(t.customer.name),p(2),b(r.statusLabel(t.status)),p(2),b(Ye(11,8,t.createdAt,"medium")),p(3),qe("",t.address.line1,", ",t.address.city),p(2),S("Total: INR ",t.totals.grandTotal),p(2),q(t.items),p(3),U("routerLink",Zr(11,cO,t.orderId))}}function CO(e,n){if(e&1&&(d(0,"section",14),G(1,vO,24,13,"article",20,lO),l()),e&2){let t=v();p(),q(t.foundOrders())}}var tu=class e{constructor(n,t,r){this.orderApi=n;this.cart=t;this.router=r}loading=P(!1);errorMessage=P("");statusMessage=P("");foundOrders=P([]);otpRequested=P(!1);otpRequestId=P("");debugOtpHint=P("");phoneInput="";otpInput="";orderIdInput="";async requestPhoneOtp(){let n=this.normalizePhone(this.phoneInput);if(n.length<10){this.errorMessage.set("Enter a valid phone number.");return}this.loading.set(!0),this.errorMessage.set(""),this.statusMessage.set("");try{let t=await this.orderApi.requestCustomerLookupOtp({phone:n});this.otpRequested.set(!0),this.otpRequestId.set(t.requestId),this.debugOtpHint.set(t.debugOtp??""),this.statusMessage.set(t.debugOtp?`OTP sent. Demo OTP: ${t.debugOtp}`:"OTP sent to your registered phone number.")}catch(t){this.errorMessage.set(this.extractErrorMessage(t))}finally{this.loading.set(!1)}}async verifyPhoneOtpAndSearch(){let n=this.normalizePhone(this.phoneInput);if(n.length<10){this.errorMessage.set("Enter a valid phone number.");return}if(!this.otpRequested()||!this.otpRequestId()){this.errorMessage.set("Request OTP first.");return}if(!this.otpInput.trim()){this.errorMessage.set("Enter the OTP.");return}this.loading.set(!0),this.errorMessage.set(""),this.statusMessage.set(""),this.foundOrders.set([]);try{let t=await this.orderApi.lookupCustomerOrdersByPhone({phone:n,requestId:this.otpRequestId(),otpCode:this.otpInput.trim()});this.foundOrders.set(t),t.length===0?this.statusMessage.set("No orders found for this phone number."):this.statusMessage.set(`Found ${t.length} order(s).`)}catch(t){this.errorMessage.set(this.extractErrorMessage(t))}finally{this.loading.set(!1)}}resetPhoneLookup(){this.otpRequested.set(!1),this.otpRequestId.set(""),this.debugOtpHint.set(""),this.otpInput="",this.statusMessage.set(""),this.errorMessage.set(""),this.foundOrders.set([])}async searchByOrderId(){let n=this.orderIdInput.trim();if(!n){this.errorMessage.set("Enter an order ID.");return}this.loading.set(!0),this.errorMessage.set(""),this.statusMessage.set(""),this.foundOrders.set([]);try{let t=await this.orderApi.getOrder(n);if(!t){this.statusMessage.set("No order found with this ID.");return}this.foundOrders.set([t])}catch(t){this.errorMessage.set(this.extractErrorMessage(t))}finally{this.loading.set(!1)}}async reorder(n){this.cart.clear();for(let t of n.items)this.cart.add({id:t.id,name:t.name,type:t.type,image:t.image,price:t.price,calories:t.calories},t.quantity);this.statusMessage.set(`Items from ${n.orderId} added to cart.`),await this.router.navigate(["/cart"])}statusLabel(n){return n.replace(/_/g," ")}normalizePhone(n){return n.replace(/\D/g,"")}extractErrorMessage(n){return n instanceof _e?typeof n.error?.message=="string"?n.error.message:`Request failed with status ${n.status}.`:n instanceof Error?n.message:"Unexpected error. Please try again."}static \u0275fac=function(t){return new(t||e)(I(An),I(Wt),I(Re))};static \u0275cmp=ie({type:e,selectors:[["app-my-orders"]],decls:29,vars:7,consts:[[1,"orders-shell"],[1,"orders-head"],[1,"kicker"],[1,"search-grid"],[1,"search-card"],["for","phoneInput"],["id","phoneInput","type","tel","placeholder","e.g. 9000010021",3,"ngModelChange","ngModel"],["type","button",3,"disabled"],["for","orderIdInput"],["id","orderIdInput","type","text","placeholder","e.g. GS-123456-111",3,"ngModelChange","ngModel"],["type","button",3,"click","disabled"],[1,"error-box"],[1,"status-box"],[1,"placeholder"],[1,"results-grid"],["for","otpInput"],["id","otpInput","type","text","placeholder","Enter OTP",3,"ngModelChange","ngModel"],[1,"debug-hint"],[1,"otp-actions"],["type","button",1,"ghost-btn",3,"click","disabled"],[1,"order-card"],[1,"card-head"],[1,"order-id"],[1,"status-chip"],[1,"meta"],[1,"items-list"],[1,"item-row"],[1,"actions"],[3,"routerLink"],["type","button",3,"click"],[3,"src","alt"]],template:function(t,r){t&1&&(d(0,"main",0)(1,"section",1)(2,"p",2),u(3,"My Orders"),l(),d(4,"h1"),u(5,"Find and Track Your Green Spoon Orders"),l(),d(6,"p"),u(7,"Search using your phone number or your order reference."),l()(),d(8,"section",3)(9,"article",4)(10,"h2"),u(11,"Search By Phone"),l(),d(12,"label",5),u(13,"Phone Number"),l(),d(14,"input",6),$("ngModelChange",function(o){return z(r.phoneInput,o)||(r.phoneInput=o),o}),l(),j(15,dO,2,1,"button",7)(16,pO,9,4),l(),d(17,"article",4)(18,"h2"),u(19,"Search By Order ID"),l(),d(20,"label",8),u(21,"Order ID"),l(),d(22,"input",9),$("ngModelChange",function(o){return z(r.orderIdInput,o)||(r.orderIdInput=o),o}),l(),d(23,"button",10),V("click",function(){return r.searchByOrderId()}),u(24,"Find Order"),l()()(),j(25,hO,2,1,"section",11),j(26,mO,2,1,"section",12),j(27,gO,2,0,"section",13)(28,CO,3,0,"section",14),l()),t&2&&(p(14),H("ngModel",r.phoneInput),p(),B(r.otpRequested()?16:15),p(7),H("ngModel",r.orderIdInput),p(),U("disabled",r.loading()),p(2),B(r.errorMessage()?25:-1),p(),B(r.statusMessage()?26:-1),p(),B(r.loading()?27:r.foundOrders().length>0?28:-1))},dependencies:[we,qt,_t,Gt,Ot,Ie,It],styles:['.orders-shell[_ngcontent-%COMP%]{width:min(1160px,100%);margin:0 auto;padding:1.2rem 1rem 3rem;color:#1b412d}.kicker[_ngcontent-%COMP%]{margin:0 0 .35rem;font-family:Fredoka,sans-serif;font-size:.82rem;letter-spacing:.18em;color:#1f7a3f;text-transform:uppercase;font-weight:700}.orders-head[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-family:"Baloo 2",sans-serif;font-size:clamp(1.65rem,3vw,2.5rem)}.orders-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.45rem 0 0;font-family:Fredoka,sans-serif;color:#3e5f4d}.search-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:.9rem;margin-top:1rem}.search-card[_ngcontent-%COMP%]{border-radius:18px;border:1px solid rgba(31,103,58,.2);background:#fff;box-shadow:0 16px 30px #11402414;padding:1rem}.search-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 .6rem;font-family:"Baloo 2",sans-serif}label[_ngcontent-%COMP%]{display:block;font-family:Fredoka,sans-serif;font-weight:600;margin-bottom:.3rem}input[_ngcontent-%COMP%]{width:100%;border:1px solid rgba(27,95,55,.24);border-radius:12px;background:#f6faf7;padding:.55rem .62rem;font-family:Fredoka,sans-serif;color:#1f4d33}button[_ngcontent-%COMP%]{margin-top:.75rem;border:0;border-radius:12px;padding:.52rem .9rem;background:#1f7a3f;color:#fff;font-family:Fredoka,sans-serif;font-weight:700;cursor:pointer}button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.otp-actions[_ngcontent-%COMP%]{margin-top:.6rem;display:flex;flex-wrap:wrap;gap:.45rem}.otp-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:0}.ghost-btn[_ngcontent-%COMP%]{background:#13422a}.debug-hint[_ngcontent-%COMP%]{margin:.45rem 0 0;font-family:Fredoka,sans-serif;font-size:.86rem;color:#2f6a46}.error-box[_ngcontent-%COMP%], .status-box[_ngcontent-%COMP%]{margin-top:.9rem;border-radius:12px;padding:.62rem .8rem;font-family:Fredoka,sans-serif}.error-box[_ngcontent-%COMP%]{border:1px solid rgba(167,42,42,.25);background:#fff1f1;color:#9f2424}.status-box[_ngcontent-%COMP%]{border:1px solid rgba(30,110,61,.2);background:#edf9ef;color:#236940}.placeholder[_ngcontent-%COMP%]{margin-top:1rem;border-radius:16px;border:1px dashed rgba(37,84,56,.25);background:#f5fbf6;min-height:120px;display:grid;place-items:center;font-family:Fredoka,sans-serif;font-weight:600}.results-grid[_ngcontent-%COMP%]{margin-top:1rem;display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:.9rem}.order-card[_ngcontent-%COMP%]{border-radius:18px;border:1px solid rgba(31,103,58,.2);background:#fff;box-shadow:0 16px 30px #11402414;padding:1rem}.card-head[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:.6rem}.order-id[_ngcontent-%COMP%]{margin:0;font-family:Fredoka,sans-serif;color:#2f7a4a;font-weight:700;font-size:.82rem}.card-head[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:.25rem 0 0;font-family:"Baloo 2",sans-serif;font-size:1.3rem}.status-chip[_ngcontent-%COMP%]{border-radius:999px;padding:.22rem .65rem;font-family:Fredoka,sans-serif;font-weight:700;font-size:.78rem;background:#ecf6ed;color:#1a693a;text-transform:capitalize}.meta[_ngcontent-%COMP%]{margin:.45rem 0 0;font-family:Fredoka,sans-serif;color:#456251}.items-list[_ngcontent-%COMP%]{margin-top:.75rem;display:grid;gap:.5rem}.item-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:48px 1fr;gap:.55rem;align-items:center}.item-row[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:10px;object-fit:cover}.item-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-family:Fredoka,sans-serif;font-weight:600}.item-row[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#4e6c5a;font-family:Fredoka,sans-serif}.actions[_ngcontent-%COMP%]{margin-top:.9rem;display:flex;gap:.55rem}.actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0;text-decoration:none;border:0;border-radius:10px;padding:.45rem .72rem;font-family:Fredoka,sans-serif;font-weight:700;cursor:pointer}.actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background:#1f7a3f;color:#fff}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#10452b;color:#fff}@media(max-width:860px){.search-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}']})};var f_=(e,n)=>n.email;function _O(e,n){if(e&1&&(d(0,"p",4),u(1),l()),e&2){let t=v();p(),b(t.infoMessage)}}function bO(e,n){if(e&1&&(d(0,"p",5),u(1),l()),e&2){let t=v();p(),b(t.errorMessage)}}function DO(e,n){if(e&1){let t=ne();d(0,"button",14),V("click",function(){let i=D(t).$implicit,o=v();return E(o.useDemo(i))}),u(1),l()}if(e&2){let t=n.$implicit,r=v();U("disabled",r.isSubmitting),p(),S(" ",t.label," ")}}function EO(e,n){if(e&1&&(d(0,"small"),u(1),l()),e&2){let t=n.$implicit;p(),qe("",t.email," / ",t.password)}}var nu=class e{constructor(n,t,r){this.auth=n;this.router=t;this.route=r;if(this.auth.isAuthenticated()){let o=this.route.snapshot.queryParamMap.get("returnUrl")||"/";this.router.navigateByUrl(o);return}let i=this.route.snapshot.queryParamMap.get("reason");i==="forbidden"?this.infoMessage="Your account does not have permission for that page.":i==="session_expired"&&(this.infoMessage="Your session expired. Please sign in again.")}demoAccounts=[{label:"Platform Admin",email:"admin@greenspoon.com",password:"Admin@123"},{label:"Owner",email:"owner@greenspoon.com",password:"Owner@123"},{label:"Manager",email:"manager@greenspoon.com",password:"Manager@123"},{label:"Dispatch",email:"dispatch@greenspoon.com",password:"Dispatch@123"},{label:"Customer",email:"customer@greenspoon.com",password:"Customer@123"}];email="";password="";isSubmitting=!1;errorMessage="";infoMessage="";async submit(){if(this.errorMessage="",this.infoMessage="",!this.email.trim()||!this.password.trim()){this.errorMessage="Email and password are required.";return}this.isSubmitting=!0;try{let n=await this.auth.login(this.email,this.password);if(!n.ok){this.errorMessage=n.message||"Login failed.";return}let t=this.route.snapshot.queryParamMap.get("returnUrl");if(t){await this.router.navigateByUrl(t);return}await this.router.navigateByUrl(this.resolveLandingUrl())}finally{this.isSubmitting=!1}}useDemo(n){this.email=n.email,this.password=n.password,this.errorMessage=""}resolveLandingUrl(){let n=this.auth.session()?.role;return n?n==="dispatch"?"/admin/dispatch":this.canAccessAdminOrders(n)?"/admin/orders":"/":"/"}canAccessAdminOrders(n){return["platform_admin","restaurant_owner","manager"].includes(n)}static \u0275fac=function(t){return new(t||e)(I(bt),I(Re),I(Ct))};static \u0275cmp=ie({type:e,selectors:[["app-login"]],decls:26,vars:6,consts:[[1,"login-shell"],[1,"login-card"],[1,"kicker"],[1,"lead"],[1,"info"],[1,"error"],["for","emailInput"],["id","emailInput","type","email","placeholder","you@greenspoon.com",3,"ngModelChange","ngModel"],["for","passwordInput"],["id","passwordInput","type","password","placeholder","Enter password",3,"ngModelChange","ngModel"],["type","button",1,"submit-btn",3,"click","disabled"],[1,"demo-users"],[1,"demo-grid"],["type","button",1,"demo-btn",3,"disabled"],["type","button",1,"demo-btn",3,"click","disabled"]],template:function(t,r){t&1&&(d(0,"main",0)(1,"section",1)(2,"p",2),u(3,"Enterprise Access"),l(),d(4,"h1"),u(5,"Sign In"),l(),d(6,"p",3),u(7,"Use your role account to access admin and dispatch consoles."),l(),j(8,_O,2,1,"p",4),j(9,bO,2,1,"p",5),d(10,"label",6),u(11,"Email"),l(),d(12,"input",7),$("ngModelChange",function(o){return z(r.email,o)||(r.email=o),o}),l(),d(13,"label",8),u(14,"Password"),l(),d(15,"input",9),$("ngModelChange",function(o){return z(r.password,o)||(r.password=o),o}),l(),d(16,"button",10),V("click",function(){return r.submit()}),u(17),l(),d(18,"div",11)(19,"p"),u(20,"Demo users"),l(),d(21,"div",12),G(22,DO,2,2,"button",13,f_),l(),G(24,EO,2,2,"small",null,f_),l()()()),t&2&&(p(8),B(r.infoMessage?8:-1),p(),B(r.errorMessage?9:-1),p(3),H("ngModel",r.email),p(3),H("ngModel",r.password),p(),U("disabled",r.isSubmitting),p(),S(" ",r.isSubmitting?"Signing in...":"Sign In"," "),p(5),q(r.demoAccounts),p(2),q(r.demoAccounts))},dependencies:[we,qt,_t,Gt,Ot],styles:['.login-shell[_ngcontent-%COMP%]{min-height:calc(100vh - 90px);display:grid;place-items:center;padding:1.2rem 1rem 2rem}.login-card[_ngcontent-%COMP%]{width:min(460px,100%);border-radius:24px;border:1px solid rgba(20,82,45,.22);background:#fff;box-shadow:0 22px 38px #0d3b1f26;padding:1.2rem 1.1rem;color:#1e472f}.kicker[_ngcontent-%COMP%]{margin:0 0 .3rem;font-family:Fredoka,sans-serif;font-size:.82rem;letter-spacing:.16em;color:#1f7a3f;text-transform:uppercase;font-weight:700}h1[_ngcontent-%COMP%]{margin:0;font-family:"Baloo 2",sans-serif;font-size:clamp(1.7rem,3vw,2.35rem)}.lead[_ngcontent-%COMP%]{margin:.45rem 0 .85rem;font-family:Fredoka,sans-serif;color:#476453}label[_ngcontent-%COMP%]{display:block;margin-top:.65rem;margin-bottom:.28rem;font-family:Fredoka,sans-serif;font-weight:600}input[_ngcontent-%COMP%]{width:100%;border:1px solid rgba(25,92,55,.24);border-radius:12px;background:#f6faf7;padding:.6rem .62rem;font-family:Fredoka,sans-serif;color:#1f4d33}.submit-btn[_ngcontent-%COMP%]{width:100%;margin-top:.95rem;border:0;border-radius:12px;padding:.58rem .9rem;background:linear-gradient(130deg,#1d733c,#84cd3c);color:#fff;font-family:Fredoka,sans-serif;font-weight:700;cursor:pointer}.submit-btn[_ngcontent-%COMP%]:disabled{opacity:.55;cursor:not-allowed}.info[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]{border-radius:10px;padding:.52rem .62rem;font-family:Fredoka,sans-serif;margin:.35rem 0}.info[_ngcontent-%COMP%]{border:1px solid rgba(31,110,64,.2);background:#edf9ef;color:#236940}.error[_ngcontent-%COMP%]{border:1px solid rgba(167,42,42,.25);background:#fff1f1;color:#9f2424}.demo-users[_ngcontent-%COMP%]{margin-top:1rem;padding:.7rem;border-radius:12px;background:#f4fbf5;border:1px dashed rgba(23,93,54,.24);display:grid;gap:.16rem}.demo-users[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .demo-users[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{margin:0;font-family:Fredoka,sans-serif}.demo-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.35rem}.demo-btn[_ngcontent-%COMP%]{border:1px solid rgba(21,90,52,.26);border-radius:999px;background:#fff;color:#205535;font-family:Fredoka,sans-serif;font-weight:700;font-size:.78rem;padding:.35rem .65rem;cursor:pointer}.demo-btn[_ngcontent-%COMP%]:disabled{opacity:.55;cursor:not-allowed}.demo-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#84cd3c24}']})};var Vs=(e,n)=>{let t=C(bt),r=C(Re);if(!t.isAuthenticated())return r.createUrlTree(["/login"],{queryParams:{returnUrl:n.url}});let i=e.data?.roles??[];return i.length>0&&!t.hasAnyRole(i)?r.createUrlTree(["/login"],{queryParams:{returnUrl:n.url,reason:"forbidden"}}):!0};var Lh=class e{storageKey="greenspoon-tenants-v1";defaultPlans=[{plan:"monthly",durationDays:30,amount:4999,currency:"INR"},{plan:"quarterly",durationDays:90,amount:13999,currency:"INR"},{plan:"yearly",durationDays:365,amount:49999,currency:"INR"}];async listPlans(){return[...this.defaultPlans]}async listTenants(){let n=this.readAll();return Object.values(n).sort((t,r)=>t.tenantId.localeCompare(r.tenantId))}async createTenant(n){let t=this.readAll();if(t[n.tenantId])throw new Error("tenantId already exists.");let r=Date.now(),i=this.defaultPlans.find(s=>s.plan===n.plan)??this.defaultPlans[0],o={tenantId:n.tenantId,name:n.name,createdAt:r,updatedAt:r,subscription:{tenantId:n.tenantId,plan:i.plan,status:n.status,amount:i.amount,currency:i.currency,startAt:r,currentPeriodStart:r,currentPeriodEnd:r+i.durationDays*24*60*60*1e3,updatedAt:r}};return t[n.tenantId]=o,this.persistAll(t),o}async getTenantSubscription(n){return this.readAll()[n]?.subscription??null}async updateTenantSubscription(n,t){let r=this.readAll(),i=r[n];if(!i?.subscription)return null;let o=Date.now(),s=this.defaultPlans.find(f=>f.plan===t.plan)??this.defaultPlans[0],a=t.startAt??o,c=F(_({},i.subscription),{plan:t.plan,status:t.status,amount:s.amount,currency:s.currency,startAt:a,currentPeriodStart:a,currentPeriodEnd:a+s.durationDays*24*60*60*1e3,updatedAt:o});return r[n]=F(_({},i),{updatedAt:o,subscription:c}),this.persistAll(r),c}async updateTenantSubscriptionStatus(n,t){let r=this.readAll(),i=r[n];if(!i?.subscription)return null;let o=Date.now(),s=F(_({},i.subscription),{status:t.status,updatedAt:o});return r[n]=F(_({},i),{updatedAt:o,subscription:s}),this.persistAll(r),s}readAll(){try{if(!this.canUseStorage())return{};let n=localStorage.getItem(this.storageKey);if(!n)return{};let t=JSON.parse(n);return t&&typeof t=="object"?t:{}}catch{return{}}}persistAll(n){this.canUseStorage()&&localStorage.setItem(this.storageKey,JSON.stringify(n))}canUseStorage(){return typeof window<"u"&&typeof localStorage<"u"}static \u0275fac=function(t){return new(t||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})},Vh=class e{constructor(n){this.http=n}baseUrl=be.api.baseUrl;listPlans(){return ee(this.http.get(`${this.baseUrl}/subscriptions/plans`))}listTenants(){return ee(this.http.get(`${this.baseUrl}/tenants`))}createTenant(n){return ee(this.http.post(`${this.baseUrl}/tenants`,n))}async getTenantSubscription(n){try{return await ee(this.http.get(`${this.baseUrl}/tenants/${encodeURIComponent(n)}/subscription`))}catch(t){if(this.isNotFound(t))return null;throw t}}async updateTenantSubscription(n,t){try{return await ee(this.http.put(`${this.baseUrl}/tenants/${encodeURIComponent(n)}/subscription`,t))}catch(r){if(this.isNotFound(r))return null;throw r}}async updateTenantSubscriptionStatus(n,t){try{return await ee(this.http.patch(`${this.baseUrl}/tenants/${encodeURIComponent(n)}/subscription/status`,t))}catch(r){if(this.isNotFound(r))return null;throw r}}isNotFound(n){return n instanceof _e&&n.status===404}static \u0275fac=function(t){return new(t||e)(A(zt))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})},to=class e{constructor(n,t){this.local=n;this.remote=t;this.adapter=be.api.orderApiMode==="http"?this.remote:this.local}adapter;listPlans(){return this.adapter.listPlans()}listTenants(){return this.adapter.listTenants()}createTenant(n){return this.adapter.createTenant(n)}getTenantSubscription(n){return this.adapter.getTenantSubscription(n)}updateTenantSubscription(n,t){return this.adapter.updateTenantSubscription(n,t)}updateTenantSubscriptionStatus(n,t){return this.adapter.updateTenantSubscriptionStatus(n,t)}static \u0275fac=function(t){return new(t||e)(A(Lh),A(Vh))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})};var h_=(e,n)=>n.plan,MO=(e,n)=>n.tenantId;function wO(e,n){if(e&1&&(d(0,"option",11),u(1),l()),e&2){let t=n.$implicit,r=v();U("value",t.plan),p(),qe("",r.planLabel(t.plan)," - INR ",t.amount)}}function IO(e,n){if(e&1&&(d(0,"option",11),u(1),l()),e&2){let t=n.$implicit,r=v();U("value",t),p(),b(r.statusLabel(t))}}function SO(e,n){if(e&1&&(d(0,"section",17),u(1),l()),e&2){let t=v();p(),b(t.errorMessage())}}function xO(e,n){if(e&1&&(d(0,"section",18),u(1),l()),e&2){let t=v();p(),b(t.statusMessage())}}function TO(e,n){e&1&&(d(0,"section",19),u(1,"Loading tenants..."),l())}function OO(e,n){e&1&&(d(0,"section",19),u(1,"No tenants found."),l())}function AO(e,n){if(e&1&&(d(0,"p")(1,"strong"),u(2,"Current Plan:"),l(),u(3),l(),d(4,"p")(5,"strong"),u(6,"Period End:"),l(),u(7),Ze(8,"date"),l()),e&2){let t=v().$implicit,r=v(2);p(3),qe(" ",r.planLabel(t.subscription.plan)," (INR ",t.subscription.amount,") "),p(4),S(" ",Ye(8,3,t.subscription.currentPeriodEnd,"medium")," ")}}function PO(e,n){e&1&&(d(0,"p")(1,"strong"),u(2,"Subscription:"),l(),u(3," Missing"),l())}function RO(e,n){if(e&1&&(d(0,"option",11),u(1),l()),e&2){let t=n.$implicit,r=v(3);U("value",t.plan),p(),b(r.planLabel(t.plan))}}function NO(e,n){if(e&1&&(d(0,"option",11),u(1),l()),e&2){let t=n.$implicit,r=v(3);U("value",t),p(),b(r.statusLabel(t))}}function kO(e,n){if(e&1){let t=ne();d(0,"article",21)(1,"div",22)(2,"div")(3,"p",23),u(4),l(),d(5,"h2"),u(6),l()(),d(7,"span",24),u(8),l()(),d(9,"div",25)(10,"p")(11,"strong"),u(12,"Created:"),l(),u(13),Ze(14,"date"),l(),d(15,"p")(16,"strong"),u(17,"Updated:"),l(),u(18),Ze(19,"date"),l(),j(20,AO,9,6)(21,PO,4,0,"p"),l(),d(22,"div",26)(23,"label",27),u(24,"Plan"),l(),d(25,"select",28),$("ngModelChange",function(i){let o=D(t).$implicit,s=v(2);return z(s.draft(o.tenantId).plan,i)||(s.draft(o.tenantId).plan=i),E(i)}),G(26,RO,2,2,"option",11,h_),l(),d(28,"label",27),u(29,"Status"),l(),d(30,"select",28),$("ngModelChange",function(i){let o=D(t).$implicit,s=v(2);return z(s.draft(o.tenantId).status,i)||(s.draft(o.tenantId).status=i),E(i)}),G(31,NO,2,2,"option",11,ct),l()(),d(33,"div",29)(34,"button",30),V("click",function(){let i=D(t).$implicit,o=v(2);return E(o.saveSubscription(i))}),u(35),l(),d(36,"button",31),V("click",function(){let i=D(t).$implicit,o=v(2);return E(o.setStatus(i,"suspended"))}),u(37," Suspend "),l(),d(38,"button",32),V("click",function(){let i=D(t).$implicit,o=v(2);return E(o.setStatus(i,"active"))}),u(39," Activate "),l()()()}if(e&2){let t=n.$implicit,r=v(2);p(4),b(t.tenantId),p(2),b(t.name),p(2),b(r.statusLabel(r.draft(t.tenantId).status)),p(5),S(" ",Ye(14,16,t.createdAt,"medium")),p(5),S(" ",Ye(19,19,t.updatedAt,"mediumTime")),p(2),B(t.subscription?20:21),p(3),U("for","plan-"+t.tenantId),p(2),U("id","plan-"+t.tenantId),H("ngModel",r.draft(t.tenantId).plan),p(),q(r.plans()),p(2),U("for","status-"+t.tenantId),p(2),U("id","status-"+t.tenantId),H("ngModel",r.draft(t.tenantId).status),p(),q(r.statusOptions),p(3),U("disabled",r.busySaveTenant()===t.tenantId),p(),S(" ",r.busySaveTenant()===t.tenantId?"Saving...":"Save Plan + Status"," "),p(),U("disabled",r.busySaveTenant()===t.tenantId),p(2),U("disabled",r.busySaveTenant()===t.tenantId)}}function FO(e,n){if(e&1&&(d(0,"section",20),G(1,kO,40,22,"article",21,MO),l()),e&2){let t=v();p(),q(t.tenants())}}var ru=class e{constructor(n){this.tenantApi=n}loading=P(!0);busyCreate=P(!1);busySaveTenant=P("");statusMessage=P("");errorMessage=P("");plans=P([]);tenants=P([]);tenantIdInput="";tenantNameInput="";tenantPlanInput="monthly";tenantStatusInput="trial";statusOptions=["trial","active","past_due","suspended","cancelled"];drafts={};ngOnInit(){this.loadData()}async refresh(){await this.loadData()}draft(n){if(!this.drafts[n]){let t=this.tenants().find(r=>r.tenantId===n);this.drafts[n]={plan:t?.subscription?.plan??this.tenantPlanInput,status:t?.subscription?.status??this.tenantStatusInput}}return this.drafts[n]}async createTenant(){let n=this.tenantIdInput.trim(),t=this.tenantNameInput.trim();if(!n||!t){this.errorMessage.set("Tenant ID and name are required.");return}this.busyCreate.set(!0),this.errorMessage.set(""),this.statusMessage.set("");try{let r=await this.tenantApi.createTenant({tenantId:n,name:t,plan:this.tenantPlanInput,status:this.tenantStatusInput});this.tenants.update(i=>[...i,r].sort((o,s)=>o.tenantId.localeCompare(s.tenantId))),this.drafts[r.tenantId]={plan:r.subscription?.plan??this.tenantPlanInput,status:r.subscription?.status??this.tenantStatusInput},this.tenantIdInput="",this.tenantNameInput="",this.tenantPlanInput="monthly",this.tenantStatusInput="trial",this.statusMessage.set(`Tenant ${r.tenantId} created.`)}catch(r){this.errorMessage.set(this.extractErrorMessage(r))}finally{this.busyCreate.set(!1)}}async saveSubscription(n){let t=this.draft(n.tenantId);this.busySaveTenant.set(n.tenantId),this.errorMessage.set(""),this.statusMessage.set("");try{let r=await this.tenantApi.updateTenantSubscription(n.tenantId,{plan:t.plan,status:t.status});if(!r){this.errorMessage.set("Subscription not found for this tenant.");return}this.tenants.update(i=>i.map(o=>o.tenantId===n.tenantId?F(_({},o),{subscription:r,updatedAt:Date.now()}):o)),this.statusMessage.set(`Subscription updated for ${n.tenantId}.`)}catch(r){this.errorMessage.set(this.extractErrorMessage(r))}finally{this.busySaveTenant.set("")}}async setStatus(n,t){this.busySaveTenant.set(n.tenantId),this.errorMessage.set(""),this.statusMessage.set("");try{let r=await this.tenantApi.updateTenantSubscriptionStatus(n.tenantId,{status:t});if(!r){this.errorMessage.set("Subscription not found for this tenant.");return}this.draft(n.tenantId).status=r.status,this.tenants.update(i=>i.map(o=>o.tenantId===n.tenantId?F(_({},o),{subscription:r,updatedAt:Date.now()}):o)),this.statusMessage.set(`Status updated to ${r.status} for ${n.tenantId}.`)}catch(r){this.errorMessage.set(this.extractErrorMessage(r))}finally{this.busySaveTenant.set("")}}planLabel(n){switch(n){case"monthly":return"Monthly";case"quarterly":return"Quarterly";case"yearly":return"Yearly";default:return n}}statusLabel(n){return n.replace("_"," ")}async loadData(){this.loading.set(!0),this.errorMessage.set(""),this.statusMessage.set("");try{let[n,t]=await Promise.all([this.tenantApi.listPlans(),this.tenantApi.listTenants()]);this.plans.set(n),this.tenants.set(t);for(let r of t)this.drafts[r.tenantId]={plan:r.subscription?.plan??"monthly",status:r.subscription?.status??"trial"}}catch(n){this.errorMessage.set(this.extractErrorMessage(n))}finally{this.loading.set(!1)}}extractErrorMessage(n){return n instanceof _e?typeof n.error?.message=="string"?n.error.message:`Request failed with status ${n.status}.`:n instanceof Error?n.message:"Unexpected error. Please try again."}static \u0275fac=function(t){return new(t||e)(I(to))};static \u0275cmp=ie({type:e,selectors:[["app-admin-tenants"]],decls:38,vars:9,consts:[[1,"tenant-shell"],[1,"tenant-head"],[1,"kicker"],[1,"create-card"],[1,"create-grid"],["for","tenantIdInput"],["id","tenantIdInput","type","text","placeholder","e.g. greenspoon-tenant-a",3,"ngModelChange","ngModel"],["for","tenantNameInput"],["id","tenantNameInput","type","text","placeholder","e.g. Green Spoon Tenant A",3,"ngModelChange","ngModel"],["for","tenantPlanInput"],["id","tenantPlanInput",3,"ngModelChange","ngModel"],[3,"value"],["for","tenantStatusInput"],["id","tenantStatusInput",3,"ngModelChange","ngModel"],["type","button",1,"primary-btn",3,"click","disabled"],[1,"toolbar"],["type","button",1,"refresh-btn",3,"click"],[1,"error-box"],[1,"success-box"],[1,"placeholder"],[1,"tenant-grid"],[1,"tenant-card"],[1,"card-head"],[1,"tenant-id"],[1,"status-chip"],[1,"meta-grid"],[1,"edit-grid"],[3,"for"],[3,"ngModelChange","id","ngModel"],[1,"actions"],["type","button",3,"click","disabled"],["type","button",1,"danger-btn",3,"click","disabled"],["type","button",1,"success-btn",3,"click","disabled"]],template:function(t,r){t&1&&(d(0,"main",0)(1,"section",1)(2,"p",2),u(3,"Platform Console"),l(),d(4,"h1"),u(5,"Tenant and Subscription Operations"),l(),d(6,"p"),u(7,"Create tenants, assign plans, and control operational subscription status."),l()(),d(8,"section",3)(9,"h2"),u(10,"Create Tenant"),l(),d(11,"div",4)(12,"label",5),u(13,"Tenant ID"),l(),d(14,"input",6),$("ngModelChange",function(o){return z(r.tenantIdInput,o)||(r.tenantIdInput=o),o}),l(),d(15,"label",7),u(16,"Tenant Name"),l(),d(17,"input",8),$("ngModelChange",function(o){return z(r.tenantNameInput,o)||(r.tenantNameInput=o),o}),l(),d(18,"label",9),u(19,"Plan"),l(),d(20,"select",10),$("ngModelChange",function(o){return z(r.tenantPlanInput,o)||(r.tenantPlanInput=o),o}),G(21,wO,2,3,"option",11,h_),l(),d(23,"label",12),u(24,"Initial Status"),l(),d(25,"select",13),$("ngModelChange",function(o){return z(r.tenantStatusInput,o)||(r.tenantStatusInput=o),o}),G(26,IO,2,2,"option",11,ct),l()(),d(28,"button",14),V("click",function(){return r.createTenant()}),u(29),l()(),d(30,"section",15)(31,"button",16),V("click",function(){return r.refresh()}),u(32,"Refresh"),l()(),j(33,SO,2,1,"section",17),j(34,xO,2,1,"section",18),j(35,TO,2,0,"section",19)(36,OO,2,0,"section",19)(37,FO,3,0,"section",20),l()),t&2&&(p(14),H("ngModel",r.tenantIdInput),p(3),H("ngModel",r.tenantNameInput),p(3),H("ngModel",r.tenantPlanInput),p(),q(r.plans()),p(4),H("ngModel",r.tenantStatusInput),p(),q(r.statusOptions),p(2),U("disabled",r.busyCreate()),p(),S(" ",r.busyCreate()?"Creating...":"Create Tenant"," "),p(4),B(r.errorMessage()?33:-1),p(),B(r.statusMessage()?34:-1),p(),B(r.loading()?35:r.tenants().length===0?36:37))},dependencies:[we,qt,Ji,Xi,_t,Dr,Gt,Ot,It],styles:['.tenant-shell[_ngcontent-%COMP%]{width:min(1160px,100%);margin:0 auto;padding:1.2rem 1rem 3rem;color:#1b412d}.kicker[_ngcontent-%COMP%]{margin:0 0 .35rem;font-family:Fredoka,sans-serif;font-size:.82rem;letter-spacing:.18em;color:#1f7a3f;text-transform:uppercase;font-weight:700}.tenant-head[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-family:"Baloo 2",sans-serif;font-size:clamp(1.65rem,3vw,2.5rem)}.tenant-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.45rem 0 0;font-family:Fredoka,sans-serif;color:#3e5f4d}.create-card[_ngcontent-%COMP%]{margin-top:1rem;border-radius:18px;border:1px solid rgba(31,103,58,.2);background:#fff;box-shadow:0 16px 30px #11402414;padding:1rem}.create-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 .7rem;font-family:"Baloo 2",sans-serif}.create-grid[_ngcontent-%COMP%], .edit-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:.55rem .7rem}label[_ngcontent-%COMP%]{display:block;font-family:Fredoka,sans-serif;font-weight:600;margin-bottom:.2rem}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;border:1px solid rgba(27,95,55,.24);border-radius:12px;background:#f6faf7;padding:.55rem .62rem;font-family:Fredoka,sans-serif;color:#1f4d33}.primary-btn[_ngcontent-%COMP%], .refresh-btn[_ngcontent-%COMP%], .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:.8rem;border:0;border-radius:12px;padding:.52rem .9rem;background:#1f7a3f;color:#fff;font-family:Fredoka,sans-serif;font-weight:700;cursor:pointer}.primary-btn[_ngcontent-%COMP%]:disabled, .refresh-btn[_ngcontent-%COMP%]:disabled, .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.toolbar[_ngcontent-%COMP%]{margin-top:.9rem;display:flex;justify-content:flex-end}.error-box[_ngcontent-%COMP%], .success-box[_ngcontent-%COMP%]{margin-top:.9rem;border-radius:12px;padding:.62rem .8rem;font-family:Fredoka,sans-serif}.error-box[_ngcontent-%COMP%]{border:1px solid rgba(167,42,42,.25);background:#fff1f1;color:#9f2424}.success-box[_ngcontent-%COMP%]{border:1px solid rgba(30,110,61,.2);background:#edf9ef;color:#236940}.placeholder[_ngcontent-%COMP%]{margin-top:1rem;border-radius:16px;border:1px dashed rgba(37,84,56,.25);background:#f5fbf6;min-height:120px;display:grid;place-items:center;font-family:Fredoka,sans-serif;font-weight:600}.tenant-grid[_ngcontent-%COMP%]{margin-top:1rem;display:grid;grid-template-columns:repeat(auto-fit,minmax(340px,1fr));gap:.9rem}.tenant-card[_ngcontent-%COMP%]{border-radius:18px;border:1px solid rgba(31,103,58,.2);background:#fff;box-shadow:0 16px 30px #11402414;padding:1rem}.card-head[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;gap:.7rem}.tenant-id[_ngcontent-%COMP%]{margin:0;font-family:Fredoka,sans-serif;font-size:.8rem;font-weight:700;color:#2f7a4a}.card-head[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:.24rem 0 0;font-family:"Baloo 2",sans-serif;font-size:1.2rem}.status-chip[_ngcontent-%COMP%]{border-radius:999px;padding:.22rem .65rem;font-family:Fredoka,sans-serif;font-weight:700;font-size:.78rem;background:#ecf6ed;color:#1a693a;text-transform:capitalize}.meta-grid[_ngcontent-%COMP%]{margin-top:.65rem;display:grid;gap:.28rem}.meta-grid[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-family:Fredoka,sans-serif;color:#355545}.actions[_ngcontent-%COMP%]{margin-top:.7rem;display:flex;flex-wrap:wrap;gap:.55rem}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:0}.actions[_ngcontent-%COMP%]   .danger-btn[_ngcontent-%COMP%]{background:#8f2727}.actions[_ngcontent-%COMP%]   .success-btn[_ngcontent-%COMP%]{background:#1f7a3f}@media(max-width:860px){.create-grid[_ngcontent-%COMP%], .edit-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}']})};var LO=(e,n)=>n.role,jh=(e,n)=>n.tenantId,VO=(e,n)=>n.userId,m_=(e,n)=>n.restaurantId,jO=(e,n)=>n.menuItemId;function BO(e,n){if(e&1&&(d(0,"section",4),u(1),l()),e&2){let t=v();p(),b(t.errorMessage())}}function UO(e,n){if(e&1&&(d(0,"section",5),u(1),l()),e&2){let t=v();p(),b(t.statusMessage())}}function HO(e,n){e&1&&(d(0,"section",6),u(1,"Loading master data..."),l())}function $O(e,n){if(e&1&&(d(0,"option",13),u(1),l()),e&2){let t=n.$implicit;U("value",t.role),p(),b(t.label)}}function zO(e,n){if(e&1&&(d(0,"option",13),u(1),l()),e&2){let t=n.$implicit;U("value",t.tenantId),p(),b(t.tenantId)}}function WO(e,n){if(e&1){let t=ne();d(0,"tr")(1,"td"),u(2),l(),d(3,"td"),u(4),l(),d(5,"td"),u(6),l(),d(7,"td"),u(8),l(),d(9,"td")(10,"button",29),V("click",function(){let i=D(t).$implicit,o=v(2);return E(o.deactivateUser(i.userId))}),u(11),l()()()}if(e&2){let t=n.$implicit,r=v(2);p(2),b(t.email),p(2),b(t.role),p(2),b(t.tenantId),p(2),b(t.isActive?"active":"inactive"),p(2),U("disabled",!t.isActive||r.busyActionId()==="user:"+t.userId),p(),S(" ",r.busyActionId()==="user:"+t.userId?"Saving...":"Deactivate"," ")}}function GO(e,n){if(e&1&&(d(0,"option",13),u(1),l()),e&2){let t=n.$implicit;U("value",t.tenantId),p(),b(t.tenantId)}}function qO(e,n){if(e&1){let t=ne();d(0,"tr")(1,"td"),u(2),l(),d(3,"td"),u(4),l(),d(5,"td"),u(6),l(),d(7,"td"),u(8),l(),d(9,"td"),u(10),l(),d(11,"td")(12,"button",29),V("click",function(){let i=D(t).$implicit,o=v(2);return E(o.toggleRestaurant(i))}),u(13),l()()()}if(e&2){let t=n.$implicit,r=v(2);p(2),b(t.restaurantId),p(2),b(t.name),p(2),b(t.tenantId),p(2),b(t.city),p(2),b(t.isActive?"active":"inactive"),p(2),U("disabled",r.busyActionId()==="restaurant:"+t.restaurantId),p(),S(" ",r.busyActionId()==="restaurant:"+t.restaurantId?"Saving...":t.isActive?"Deactivate":"Activate"," ")}}function ZO(e,n){if(e&1&&(d(0,"option",13),u(1),l()),e&2){let t=n.$implicit;U("value",t.tenantId),p(),b(t.tenantId)}}function YO(e,n){if(e&1&&(d(0,"option",13),u(1),l()),e&2){let t=n.$implicit;U("value",t.restaurantId),p(),b(t.name)}}function KO(e,n){if(e&1&&(d(0,"div",30),he(1,"img",31),l()),e&2){let t=v(2);p(),U("src",t.menuImage,mt)}}function QO(e,n){if(e&1){let t=ne();d(0,"tr")(1,"td"),u(2),l(),d(3,"td"),u(4),l(),d(5,"td"),u(6),l(),d(7,"td"),u(8),l(),d(9,"td"),u(10),l(),d(11,"td"),u(12),l(),d(13,"td")(14,"button",29),V("click",function(){let i=D(t).$implicit,o=v(2);return E(o.toggleMenuItem(i))}),u(15),l()()()}if(e&2){let t=n.$implicit,r=v(2);p(2),b(t.name),p(2),b(t.category),p(2),b(t.restaurantId),p(2),b(t.tenantId),p(2),S("INR ",t.price),p(2),b(t.isActive?"active":"inactive"),p(2),U("disabled",r.busyActionId()==="menu:"+t.menuItemId),p(),S(" ",r.busyActionId()==="menu:"+t.menuItemId?"Saving...":t.isActive?"Deactivate":"Activate"," ")}}function JO(e,n){if(e&1){let t=ne();d(0,"section",7)(1,"h2"),u(2,"Create User"),l(),d(3,"div",8)(4,"input",9),$("ngModelChange",function(i){D(t);let o=v();return z(o.userEmail,i)||(o.userEmail=i),E(i)}),l(),d(5,"input",10),$("ngModelChange",function(i){D(t);let o=v();return z(o.userName,i)||(o.userName=i),E(i)}),l(),d(6,"input",11),$("ngModelChange",function(i){D(t);let o=v();return z(o.userPassword,i)||(o.userPassword=i),E(i)}),l(),d(7,"select",12),$("ngModelChange",function(i){D(t);let o=v();return z(o.userRole,i)||(o.userRole=i),E(i)}),G(8,$O,2,2,"option",13,LO),l(),d(10,"select",12),$("ngModelChange",function(i){D(t);let o=v();return z(o.userTenantId,i)||(o.userTenantId=i),E(i)}),G(11,zO,2,2,"option",13,jh),l()(),d(13,"button",14),V("click",function(){D(t);let i=v();return E(i.createUser())}),u(14),l(),d(15,"div",15)(16,"table")(17,"thead")(18,"tr")(19,"th"),u(20,"Email"),l(),d(21,"th"),u(22,"Role"),l(),d(23,"th"),u(24,"Tenant"),l(),d(25,"th"),u(26,"Status"),l(),d(27,"th"),u(28,"Action"),l()()(),d(29,"tbody"),G(30,WO,12,6,"tr",null,VO),l()()()(),d(32,"section",7)(33,"h2"),u(34,"Create Restaurant"),l(),d(35,"div",8)(36,"input",16),$("ngModelChange",function(i){D(t);let o=v();return z(o.restaurantId,i)||(o.restaurantId=i),E(i)}),l(),d(37,"select",12),$("ngModelChange",function(i){D(t);let o=v();return z(o.restaurantTenantId,i)||(o.restaurantTenantId=i),E(i)}),G(38,GO,2,2,"option",13,jh),l(),d(40,"input",17),$("ngModelChange",function(i){D(t);let o=v();return z(o.restaurantName,i)||(o.restaurantName=i),E(i)}),l(),d(41,"input",18),$("ngModelChange",function(i){D(t);let o=v();return z(o.restaurantCity,i)||(o.restaurantCity=i),E(i)}),l(),d(42,"label",19)(43,"input",20),$("ngModelChange",function(i){D(t);let o=v();return z(o.restaurantActive,i)||(o.restaurantActive=i),E(i)}),l(),u(44," Active "),l()(),d(45,"button",14),V("click",function(){D(t);let i=v();return E(i.createRestaurant())}),u(46),l(),d(47,"div",15)(48,"table")(49,"thead")(50,"tr")(51,"th"),u(52,"ID"),l(),d(53,"th"),u(54,"Name"),l(),d(55,"th"),u(56,"Tenant"),l(),d(57,"th"),u(58,"City"),l(),d(59,"th"),u(60,"Status"),l(),d(61,"th"),u(62,"Action"),l()()(),d(63,"tbody"),G(64,qO,14,7,"tr",null,m_),l()()()(),d(66,"section",7)(67,"h2"),u(68,"Create Menu Item"),l(),d(69,"div",8)(70,"input",21),$("ngModelChange",function(i){D(t);let o=v();return z(o.menuItemId,i)||(o.menuItemId=i),E(i)}),l(),d(71,"select",12),$("ngModelChange",function(i){D(t);let o=v();return z(o.menuTenantId,i)||(o.menuTenantId=i),E(i)}),V("ngModelChange",function(){D(t);let i=v();return E(i.onMenuTenantChange())}),G(72,ZO,2,2,"option",13,jh),l(),d(74,"select",12),$("ngModelChange",function(i){D(t);let o=v();return z(o.menuRestaurantId,i)||(o.menuRestaurantId=i),E(i)}),G(75,YO,2,2,"option",13,m_),l(),d(77,"input",22),$("ngModelChange",function(i){D(t);let o=v();return z(o.menuName,i)||(o.menuName=i),E(i)}),l(),d(78,"input",23),$("ngModelChange",function(i){D(t);let o=v();return z(o.menuCategory,i)||(o.menuCategory=i),E(i)}),l(),d(79,"input",24),$("ngModelChange",function(i){D(t);let o=v();return z(o.menuPrice,i)||(o.menuPrice=i),E(i)}),l(),d(80,"input",25),$("ngModelChange",function(i){D(t);let o=v();return z(o.menuCalories,i)||(o.menuCalories=i),E(i)}),l(),d(81,"input",26),$("ngModelChange",function(i){D(t);let o=v();return z(o.menuImage,i)||(o.menuImage=i),E(i)}),l(),d(82,"input",27),$("ngModelChange",function(i){D(t);let o=v();return z(o.menuDescription,i)||(o.menuDescription=i),E(i)}),l(),d(83,"label",19)(84,"input",20),$("ngModelChange",function(i){D(t);let o=v();return z(o.menuIsActive,i)||(o.menuIsActive=i),E(i)}),l(),u(85," Active "),l(),d(86,"input",28),V("change",function(i){D(t);let o=v();return E(o.onMenuImageSelected(i))}),l(),d(87,"button",29),V("click",function(){D(t);let i=v();return E(i.uploadSelectedMenuImage())}),u(88),l()(),j(89,KO,2,1,"div",30),d(90,"button",14),V("click",function(){D(t);let i=v();return E(i.createMenuItem())}),u(91),l(),d(92,"div",15)(93,"table")(94,"thead")(95,"tr")(96,"th"),u(97,"Name"),l(),d(98,"th"),u(99,"Category"),l(),d(100,"th"),u(101,"Restaurant"),l(),d(102,"th"),u(103,"Tenant"),l(),d(104,"th"),u(105,"Price"),l(),d(106,"th"),u(107,"Status"),l(),d(108,"th"),u(109,"Action"),l()()(),d(110,"tbody"),G(111,QO,16,8,"tr",null,jO),l()()()()}if(e&2){let t=v();p(4),H("ngModel",t.userEmail),p(),H("ngModel",t.userName),p(),H("ngModel",t.userPassword),p(),H("ngModel",t.userRole),p(),q(t.roles()),p(2),H("ngModel",t.userTenantId),p(),q(t.tenants()),p(2),U("disabled",t.busyUserCreate()),p(),S(" ",t.busyUserCreate()?"Creating...":"Create User"," "),p(16),q(t.users()),p(6),H("ngModel",t.restaurantId),p(),H("ngModel",t.restaurantTenantId),p(),q(t.tenants()),p(2),H("ngModel",t.restaurantName),p(),H("ngModel",t.restaurantCity),p(2),H("ngModel",t.restaurantActive),p(2),U("disabled",t.busyRestaurantCreate()),p(),S(" ",t.busyRestaurantCreate()?"Creating...":"Create Restaurant"," "),p(18),q(t.restaurants()),p(6),H("ngModel",t.menuItemId),p(),H("ngModel",t.menuTenantId),p(),q(t.tenants()),p(2),H("ngModel",t.menuRestaurantId),p(),q(t.restaurantsForTenant(t.menuTenantId)),p(2),H("ngModel",t.menuName),p(),H("ngModel",t.menuCategory),p(),H("ngModel",t.menuPrice),p(),H("ngModel",t.menuCalories),p(),H("ngModel",t.menuImage),p(),H("ngModel",t.menuDescription),p(2),H("ngModel",t.menuIsActive),p(3),U("disabled",t.busyImageUpload()),p(),S(" ",t.busyImageUpload()?"Uploading...":"Upload Photo"," "),p(),B(t.menuImage?89:-1),p(),U("disabled",t.busyMenuCreate()),p(),S(" ",t.busyMenuCreate()?"Creating...":"Create Menu Item"," "),p(20),q(t.menuItems())}}var iu=class e{constructor(n,t){this.masterDataApi=n;this.tenantApi=t}loading=P(!0);statusMessage=P("");errorMessage=P("");roles=P([]);tenants=P([]);users=P([]);restaurants=P([]);menuItems=P([]);userEmail="";userPassword="";userName="";userRole="manager";userTenantId="";restaurantId="";restaurantTenantId="";restaurantName="";restaurantCity="";restaurantActive=!0;menuItemId="";menuTenantId="";menuRestaurantId="";menuName="";menuCategory="Sprouts";menuPrice=199;menuCalories="300 kcal";menuImage="images/food4.png";menuDescription="";menuIsActive=!0;selectedMenuImageFile=null;busyUserCreate=P(!1);busyRestaurantCreate=P(!1);busyMenuCreate=P(!1);busyImageUpload=P(!1);busyActionId=P("");ngOnInit(){this.loadAll()}async refresh(){await this.loadAll()}async createUser(){if(!this.userEmail.trim()||!this.userPassword.trim()||!this.userName.trim()||!this.userTenantId.trim()){this.errorMessage.set("User email, password, name and tenant are required.");return}this.busyUserCreate.set(!0),this.errorMessage.set(""),this.statusMessage.set("");try{let n=await this.masterDataApi.createUser({email:this.userEmail.trim().toLowerCase(),password:this.userPassword,name:this.userName.trim(),role:this.userRole,tenantId:this.userTenantId.trim()});this.users.update(t=>[...t,n].sort((r,i)=>r.email.localeCompare(i.email))),this.userEmail="",this.userPassword="",this.userName="",this.statusMessage.set(`User ${n.email} created.`)}catch(n){this.errorMessage.set(this.extractErrorMessage(n))}finally{this.busyUserCreate.set(!1)}}async deactivateUser(n){this.busyActionId.set(`user:${n}`),this.errorMessage.set(""),this.statusMessage.set("");try{let t=await this.masterDataApi.deactivateUser(n);this.users.update(r=>r.map(i=>i.userId===n?t:i)),this.statusMessage.set(`User ${t.email} deactivated.`)}catch(t){this.errorMessage.set(this.extractErrorMessage(t))}finally{this.busyActionId.set("")}}async createRestaurant(){if(!this.restaurantId.trim()||!this.restaurantTenantId.trim()||!this.restaurantName.trim()||!this.restaurantCity.trim()){this.errorMessage.set("Restaurant ID, tenant, name and city are required.");return}this.busyRestaurantCreate.set(!0),this.errorMessage.set(""),this.statusMessage.set("");try{let n=await this.masterDataApi.createRestaurant({restaurantId:this.restaurantId.trim(),tenantId:this.restaurantTenantId.trim(),name:this.restaurantName.trim(),city:this.restaurantCity.trim(),isActive:this.restaurantActive});this.restaurants.update(t=>[...t,n].sort((r,i)=>r.name.localeCompare(i.name))),this.restaurantId="",this.restaurantName="",this.restaurantCity="",this.statusMessage.set(`Restaurant ${n.name} created.`)}catch(n){this.errorMessage.set(this.extractErrorMessage(n))}finally{this.busyRestaurantCreate.set(!1)}}async toggleRestaurant(n){this.busyActionId.set(`restaurant:${n.restaurantId}`),this.errorMessage.set(""),this.statusMessage.set("");try{let t=await this.masterDataApi.updateRestaurant(n.restaurantId,{isActive:!n.isActive});this.restaurants.update(r=>r.map(i=>i.restaurantId===n.restaurantId?t:i)),this.statusMessage.set(`Restaurant ${t.restaurantId} updated.`)}catch(t){this.errorMessage.set(this.extractErrorMessage(t))}finally{this.busyActionId.set("")}}async createMenuItem(){if(!this.menuItemId.trim()||!this.menuTenantId.trim()||!this.menuRestaurantId.trim()||!this.menuName.trim()||!this.menuCategory.trim()||!Number.isFinite(this.menuPrice)){this.errorMessage.set("Menu item id, tenant, restaurant, name, category and price are required.");return}this.busyMenuCreate.set(!0),this.errorMessage.set(""),this.statusMessage.set("");try{let n=await this.masterDataApi.createMenuItem({menuItemId:this.menuItemId.trim(),tenantId:this.menuTenantId.trim(),restaurantId:this.menuRestaurantId.trim(),name:this.menuName.trim(),category:this.menuCategory.trim(),price:this.menuPrice,calories:this.menuCalories.trim(),image:this.menuImage.trim(),description:this.menuDescription.trim(),isActive:this.menuIsActive});this.menuItems.update(t=>[...t,n].sort((r,i)=>r.name.localeCompare(i.name))),this.menuItemId="",this.menuName="",this.menuDescription="",this.statusMessage.set(`Menu item ${n.name} created.`)}catch(n){this.errorMessage.set(this.extractErrorMessage(n))}finally{this.busyMenuCreate.set(!1)}}async toggleMenuItem(n){this.busyActionId.set(`menu:${n.menuItemId}`),this.errorMessage.set(""),this.statusMessage.set("");try{let t=await this.masterDataApi.updateMenuItem(n.menuItemId,{isActive:!n.isActive});this.menuItems.update(r=>r.map(i=>i.menuItemId===n.menuItemId?t:i)),this.statusMessage.set(`Menu item ${t.menuItemId} updated.`)}catch(t){this.errorMessage.set(this.extractErrorMessage(t))}finally{this.busyActionId.set("")}}onMenuTenantChange(){let n=this.restaurantsForTenant(this.menuTenantId)[0];this.menuRestaurantId=n?.restaurantId||""}onMenuImageSelected(n){let t=n.target;this.selectedMenuImageFile=t.files?.[0]??null}async uploadSelectedMenuImage(){if(!this.selectedMenuImageFile){this.errorMessage.set("Select an image file first.");return}this.busyImageUpload.set(!0),this.errorMessage.set(""),this.statusMessage.set("");try{let n=await this.masterDataApi.uploadMenuImage(this.selectedMenuImageFile);this.menuImage=n.url,this.statusMessage.set("Image uploaded. It will be used for new menu item."),this.selectedMenuImageFile=null}catch(n){this.errorMessage.set(this.extractErrorMessage(n))}finally{this.busyImageUpload.set(!1)}}restaurantsForTenant(n){return this.restaurants().filter(t=>t.tenantId===n).sort((t,r)=>t.name.localeCompare(r.name))}async loadAll(){this.loading.set(!0),this.errorMessage.set(""),this.statusMessage.set("");try{let[n,t,r,i,o]=await Promise.all([this.masterDataApi.listRoles(),this.tenantApi.listTenants(),this.masterDataApi.listUsers(),this.masterDataApi.listRestaurants(),this.masterDataApi.listMenuItems()]);this.roles.set(n),this.tenants.set(t),this.users.set(r),this.restaurants.set(i),this.menuItems.set(o);let s=t[0]?.tenantId||"";this.userTenantId||(this.userTenantId=s),this.restaurantTenantId||(this.restaurantTenantId=s),this.menuTenantId||(this.menuTenantId=s),this.menuRestaurantId||(this.menuRestaurantId=i.find(a=>a.tenantId===this.menuTenantId)?.restaurantId||"")}catch(n){this.errorMessage.set(this.extractErrorMessage(n))}finally{this.loading.set(!1)}}extractErrorMessage(n){return n instanceof _e?typeof n.error?.message=="string"?n.error.message:`Request failed with status ${n.status}.`:n instanceof Error?n.message:"Unexpected error. Please try again."}static \u0275fac=function(t){return new(t||e)(I(Gi),I(to))};static \u0275cmp=ie({type:e,selectors:[["app-admin-master-data"]],decls:14,vars:3,consts:[[1,"master-shell"],[1,"head"],[1,"kicker"],["type","button",1,"refresh-btn",3,"click"],[1,"error-box"],[1,"success-box"],[1,"placeholder"],[1,"card"],[1,"grid"],["type","email","placeholder","Email",3,"ngModelChange","ngModel"],["type","text","placeholder","Name",3,"ngModelChange","ngModel"],["type","password","placeholder","Password",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],[3,"value"],["type","button",1,"primary-btn",3,"click","disabled"],[1,"table-wrap"],["type","text","placeholder","Restaurant ID",3,"ngModelChange","ngModel"],["type","text","placeholder","Restaurant Name",3,"ngModelChange","ngModel"],["type","text","placeholder","City",3,"ngModelChange","ngModel"],[1,"inline-check"],["type","checkbox",3,"ngModelChange","ngModel"],["type","text","placeholder","Menu Item ID",3,"ngModelChange","ngModel"],["type","text","placeholder","Item Name",3,"ngModelChange","ngModel"],["type","text","placeholder","Category",3,"ngModelChange","ngModel"],["type","number","placeholder","Price",3,"ngModelChange","ngModel"],["type","text","placeholder","Calories",3,"ngModelChange","ngModel"],["type","text","placeholder","Image URL",3,"ngModelChange","ngModel"],["type","text","placeholder","Description",3,"ngModelChange","ngModel"],["type","file","accept","image/*",3,"change"],["type","button",3,"click","disabled"],[1,"image-preview"],["alt","Menu preview",3,"src"]],template:function(t,r){t&1&&(d(0,"main",0)(1,"section",1)(2,"p",2),u(3,"Platform Console"),l(),d(4,"h1"),u(5,"Master Data Administration"),l(),d(6,"p"),u(7,"Manage users, roles, restaurants, tenants, and menu data directly in PostgreSQL."),l(),d(8,"button",3),V("click",function(){return r.refresh()}),u(9,"Refresh"),l()(),j(10,BO,2,1,"section",4),j(11,UO,2,1,"section",5),j(12,HO,2,0,"section",6)(13,JO,113,29),l()),t&2&&(p(10),B(r.errorMessage()?10:-1),p(),B(r.statusMessage()?11:-1),p(),B(r.loading()?12:13))},dependencies:[we,qt,Ji,Xi,_t,Ls,Fs,Dr,Gt,Ot],styles:["[_nghost-%COMP%]{display:block}.master-shell[_ngcontent-%COMP%]{width:min(1200px,100% - 2rem);margin-inline:auto;padding:1.2rem 0 3rem;display:grid;gap:1rem;font-family:Fredoka,sans-serif}.head[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#0f3a28}.kicker[_ngcontent-%COMP%]{margin:0;text-transform:uppercase;letter-spacing:2px;font-size:.75rem;font-weight:700;color:#1f7a3f}.head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.25rem 0 0;color:#496457}.refresh-btn[_ngcontent-%COMP%], .primary-btn[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{border:0;border-radius:999px;padding:.45rem .9rem;font-family:inherit;font-weight:700;cursor:pointer}.refresh-btn[_ngcontent-%COMP%]{margin-top:.5rem;background:#e9f5eb;color:#124029}.primary-btn[_ngcontent-%COMP%]{margin-top:.8rem;background:linear-gradient(120deg,#1f7a3f,#7ac739);color:#fff}.card[_ngcontent-%COMP%]{background:#fff;border:1px solid rgba(16,70,38,.12);border-radius:16px;padding:1rem}.grid[_ngcontent-%COMP%]{display:grid;gap:.6rem;grid-template-columns:repeat(5,minmax(0,1fr))}.grid[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .grid[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;border:1px solid rgba(16,70,38,.2);border-radius:8px;padding:.5rem .6rem;font-family:inherit}.inline-check[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.4rem;color:#284b3a}.image-preview[_ngcontent-%COMP%]{margin-top:.6rem}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:220px;border-radius:10px;border:1px solid rgba(16,70,38,.16)}.table-wrap[_ngcontent-%COMP%]{margin-top:.9rem;overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:left;padding:.55rem .45rem;border-bottom:1px solid rgba(16,70,38,.12);font-size:.92rem}th[_ngcontent-%COMP%]{color:#1b4b32;font-size:.8rem;text-transform:uppercase;letter-spacing:.5px}td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#0f3a28;color:#fff}.error-box[_ngcontent-%COMP%], .success-box[_ngcontent-%COMP%], .placeholder[_ngcontent-%COMP%]{border-radius:10px;padding:.7rem .9rem}.error-box[_ngcontent-%COMP%]{background:#fde9e9;color:#8c1e1e;border:1px solid #f2b7b7}.success-box[_ngcontent-%COMP%]{background:#e8f7ed;color:#1f6f3b;border:1px solid #b7e3c6}.placeholder[_ngcontent-%COMP%]{background:#f4f8f5;color:#2d4d3b}@media(max-width:980px){.grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}}@media(max-width:640px){.master-shell[_ngcontent-%COMP%]{width:min(1200px,100% - 1rem)}.grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};var no=class e{blockStateSignal=P(null);blockState=this.blockStateSignal.asReadonly();setBlocked(n){this.blockStateSignal.set(F(_({},n),{detectedAt:Date.now()}))}clear(){this.blockStateSignal.set(null)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})};function eA(e,n){if(e&1&&(d(0,"p")(1,"strong"),u(2,"Period End:"),l(),u(3),Ze(4,"date"),l()),e&2){let t=v(2);p(3),S(" ",Ye(4,1,t.state().currentPeriodEnd,"medium"))}}function tA(e,n){if(e&1&&(d(0,"div",3)(1,"p")(2,"strong"),u(3,"Tenant:"),l(),u(4),l(),d(5,"p")(6,"strong"),u(7,"Status:"),l(),u(8),l(),j(9,eA,5,4,"p"),d(10,"p")(11,"strong"),u(12,"Message:"),l(),u(13),l()()),e&2){let t=v();p(4),S(" ",t.state().tenantId||"Unknown"),p(4),S(" ",t.state().subscriptionStatus||"Unknown"),p(),B(t.state().currentPeriodEnd?9:-1),p(4),S(" ",t.state().message)}}function nA(e,n){if(e&1){let t=ne();d(0,"a",8),V("click",function(){D(t);let i=v();return E(i.clearState())}),u(1,"Open Tenant Console"),l()}}function rA(e,n){if(e&1){let t=ne();d(0,"a",9),V("click",function(){D(t);let i=v();return E(i.clearState())}),u(1,"Contact Platform Support"),l()}}var ou=class e{constructor(n,t){this.subscriptionState=n;this.auth=t}state(){return this.subscriptionState.blockState()}isPlatformAdmin(){return this.auth.hasAnyRole(["platform_admin"])}clearState(){this.subscriptionState.clear()}static \u0275fac=function(t){return new(t||e)(I(no),I(bt))};static \u0275cmp=ie({type:e,selectors:[["app-subscription-blocked"]],decls:14,vars:2,consts:[[1,"blocked-shell"],[1,"blocked-card"],[1,"kicker"],[1,"details"],[1,"actions"],["routerLink","/admin/tenants"],["routerLink","/contact"],["routerLink","/",3,"click"],["routerLink","/admin/tenants",3,"click"],["routerLink","/contact",3,"click"]],template:function(t,r){t&1&&(d(0,"main",0)(1,"section",1)(2,"p",2),u(3,"Subscription Required"),l(),d(4,"h1"),u(5,"Tenant Subscription Is Not Active"),l(),d(6,"p"),u(7," Order processing is currently blocked. Renew or reactivate the subscription to continue operations. "),l(),j(8,tA,14,4,"div",3),d(9,"div",4),j(10,nA,2,0,"a",5)(11,rA,2,0,"a",6),d(12,"a",7),V("click",function(){return r.clearState()}),u(13,"Back To Home"),l()()()()),t&2&&(p(8),B(r.state()?8:-1),p(2),B(r.isPlatformAdmin()?10:11))},dependencies:[we,Ie,It],styles:['.blocked-shell[_ngcontent-%COMP%]{min-height:calc(100vh - 90px);display:grid;place-items:center;padding:1.3rem 1rem 2.2rem}.blocked-card[_ngcontent-%COMP%]{width:min(620px,100%);border-radius:22px;border:1px solid rgba(124,44,24,.28);background:#fffaf5;box-shadow:0 18px 32px #71281729;padding:1.2rem 1.05rem;color:#4f2b1f}.kicker[_ngcontent-%COMP%]{margin:0 0 .35rem;font-family:Fredoka,sans-serif;font-size:.82rem;letter-spacing:.18em;color:#a34f2e;text-transform:uppercase;font-weight:700}h1[_ngcontent-%COMP%]{margin:0;font-family:"Baloo 2",sans-serif;font-size:clamp(1.65rem,3vw,2.35rem)}p[_ngcontent-%COMP%]{font-family:Fredoka,sans-serif}.details[_ngcontent-%COMP%]{margin-top:.82rem;border-radius:14px;border:1px solid rgba(157,80,42,.22);background:#fff3e8;padding:.7rem;display:grid;gap:.25rem}.details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.actions[_ngcontent-%COMP%]{margin-top:.9rem;display:flex;gap:.55rem;flex-wrap:wrap}.actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;border-radius:10px;background:#8f4024;color:#fff;font-family:Fredoka,sans-serif;font-weight:700;padding:.45rem .75rem}']})};var g_=[{path:"",component:Pl},{path:"menu",component:Rl},{path:"cart",component:Nl},{path:"checkout",component:Yl},{path:"my-orders",component:tu},{path:"login",component:nu},{path:"subscription-blocked",component:ou},{path:"track/:orderId",component:Jl},{path:"about",component:Kl},{path:"contact",component:Ql},{path:"admin/tenants",component:ru,canActivate:[Vs],data:{roles:["platform_admin"]}},{path:"admin/master-data",component:iu,canActivate:[Vs],data:{roles:["platform_admin"]}},{path:"admin/orders",component:Xl,canActivate:[Vs],data:{roles:["platform_admin","restaurant_owner","manager"]}},{path:"admin/dispatch",component:eu,canActivate:[Vs],data:{roles:["platform_admin","restaurant_owner","manager","dispatch"]}},{path:"**",redirectTo:""}];var y_=new us(()=>!1),v_=(e,n)=>{let t=C(bt),r=C(Re),i=C(no);if(!t.shouldAttachToken(e.url))return n(e);let o=t.accessToken(),s=o?e.clone({setHeaders:{Authorization:`Bearer ${o}`}}):e;return n(s).pipe(hn(a=>{if(a instanceof _e&&a.status===402){let c=a.error?.details??{};return i.setBlocked({tenantId:c.tenantId,subscriptionStatus:c.subscriptionStatus,currentPeriodEnd:c.currentPeriodEnd??null,message:typeof a.error?.message=="string"?a.error.message:"Subscription is inactive for this tenant."}),r.navigate(["/subscription-blocked"]),Pn(()=>a)}return!(a instanceof _e)||a.status!==401||e.context.get(y_)?Pn(()=>a):pe(t.refreshAccessToken()).pipe(Qe(c=>{if(!c)return pe(t.logout()).subscribe({complete:()=>{r.navigate(["/login"],{queryParams:{reason:"session_expired",returnUrl:r.url||"/"}})}}),Pn(()=>a);let f=t.accessToken();if(!f)return Pn(()=>a);let h=e.clone({setHeaders:{Authorization:`Bearer ${f}`},context:e.context.set(y_,!0)});return n(h)}),hn(c=>(pe(t.logout()).subscribe({complete:()=>{r.navigate(["/login"],{queryParams:{reason:"session_expired",returnUrl:r.url||"/"}})}}),Pn(()=>c))))}))};var C_={providers:[Ld(),Wp(Gp([v_])),bh(g_)]};var iA=()=>({exact:!0});function oA(e,n){e&1&&(d(0,"a",8),u(1,"My Orders"),l())}function sA(e,n){e&1&&(d(0,"a",17),u(1,"Tenants"),l(),d(2,"a",18),u(3,"Master Data"),l())}function aA(e,n){e&1&&(d(0,"a",11),u(1,"Orders"),l())}function cA(e,n){e&1&&(d(0,"a",12),u(1,"Dispatch"),l())}function lA(e,n){if(e&1){let t=ne();d(0,"div",19)(1,"strong"),u(2),l(),d(3,"small"),u(4),l()(),d(5,"button",20),V("click",function(){D(t);let i=v();return E(i.logout())}),u(6,"Logout"),l()}if(e&2){let t=v();p(2),b(t.currentUserName()),p(2),b(t.currentRoleLabel())}}function uA(e,n){e&1&&(d(0,"a",14),u(1,"Login"),l())}var su=class e{constructor(n,t,r){this.cart=n;this.auth=t;this.router=r}cartCount(){return this.cart.itemCount()}isAuthenticated(){return this.auth.isAuthenticated()}canAccessAdmin(){return this.auth.hasAnyRole(["platform_admin","restaurant_owner","manager"])}canAccessTenantOps(){return this.auth.hasAnyRole(["platform_admin"])}canAccessDispatch(){return this.auth.hasAnyRole(["platform_admin","restaurant_owner","manager","dispatch"])}showMyOrders(){let n=this.auth.session();return n?n.role==="customer":!0}currentUserName(){return this.auth.session()?.name??""}currentRoleLabel(){let n=this.auth.session()?.role;return n?this.roleLabel(n):""}async logout(){await this.auth.logout(),await this.router.navigate(["/"])}roleLabel(n){switch(n){case"platform_admin":return"Platform Admin";case"restaurant_owner":return"Owner";case"manager":return"Manager";case"dispatch":return"Dispatch";case"kitchen":return"Kitchen";case"rider":return"Rider";case"customer":return"Customer";default:return n}}static \u0275fac=function(t){return new(t||e)(I(Wt),I(bt),I(Re))};static \u0275cmp=ie({type:e,selectors:[["app-header"]],decls:27,vars:8,consts:[[1,"site-header"],[1,"header-inner"],["routerLink","/","aria-label","Green Spoon Home",1,"brand"],[1,"brand-green"],[1,"brand-spoon"],["aria-label","Primary navigation",1,"main-nav"],["routerLink","/","routerLinkActive","active",3,"routerLinkActiveOptions"],["routerLink","/menu","routerLinkActive","active"],["routerLink","/my-orders","routerLinkActive","active"],["routerLink","/about","routerLinkActive","active"],["routerLink","/contact","routerLinkActive","active"],["routerLink","/admin/orders","routerLinkActive","active"],["routerLink","/admin/dispatch","routerLinkActive","active"],[1,"right-actions"],["routerLink","/login","routerLinkActive","active-auth",1,"login-link"],["routerLink","/cart","aria-label","Open cart",1,"cart-link"],[1,"cart-count"],["routerLink","/admin/tenants","routerLinkActive","active"],["routerLink","/admin/master-data","routerLinkActive","active"],["aria-label","Signed in user",1,"user-chip"],["type","button",1,"logout-btn",3,"click"]],template:function(t,r){t&1&&(d(0,"header",0)(1,"div",1)(2,"a",2)(3,"span",3),u(4,"Green"),l(),d(5,"span",4),u(6,"Spoon"),l()(),d(7,"nav",5)(8,"a",6),u(9,"Home"),l(),d(10,"a",7),u(11,"Menu"),l(),j(12,oA,2,0,"a",8),d(13,"a",9),u(14,"About"),l(),d(15,"a",10),u(16,"Contact"),l(),j(17,sA,4,0),j(18,aA,2,0,"a",11),j(19,cA,2,0,"a",12),l(),d(20,"div",13),j(21,lA,7,2)(22,uA,2,0,"a",14),d(23,"a",15),u(24," Cart "),d(25,"span",16),u(26),l()()()()()),t&2&&(p(8),U("routerLinkActiveOptions",bp(7,iA)),p(4),B(r.showMyOrders()?12:-1),p(5),B(r.canAccessTenantOps()?17:-1),p(),B(r.canAccessAdmin()?18:-1),p(),B(r.canAccessDispatch()?19:-1),p(2),B(r.isAuthenticated()?21:22),p(5),b(r.cartCount()))},dependencies:[Eh,Ie,_h],styles:[".site-header[_ngcontent-%COMP%]{position:sticky;top:0;left:0;width:100%;z-index:1200;padding:.85rem 1rem}.header-inner[_ngcontent-%COMP%]{width:min(1160px,100%);margin-inline:auto;display:flex;align-items:center;gap:1rem;padding:.55rem .75rem;border-radius:999px;border:1px solid rgba(16,70,38,.18);background:#ffffffe6;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);box-shadow:0 14px 30px #0b2f1924}.brand[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.25rem;text-decoration:none;font-family:Modak,cursive;font-size:clamp(1.5rem,3vw,2rem);line-height:1;letter-spacing:.6px;margin-left:.4rem}.brand-green[_ngcontent-%COMP%]{color:#0f4f2a}.brand-spoon[_ngcontent-%COMP%]{color:#85cd3c}.main-nav[_ngcontent-%COMP%]{margin-left:auto;margin-right:.5rem;display:flex;align-items:center;gap:.25rem}.right-actions[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.55rem}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-family:Fredoka,sans-serif;color:#234c34;font-weight:600;font-size:.92rem;padding:.45rem .8rem;border-radius:999px;transition:background-color .2s ease,color .2s ease}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#85cd3c29}.main-nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:linear-gradient(120deg,#1f7a3f,#84cd3c);color:#fff}.login-link[_ngcontent-%COMP%], .logout-btn[_ngcontent-%COMP%]{border-radius:999px;border:1px solid rgba(25,99,56,.2);text-decoration:none;font-family:Fredoka,sans-serif;font-weight:700;font-size:.86rem;padding:.4rem .78rem;color:#1b6037;background:#fff}.logout-btn[_ngcontent-%COMP%]{cursor:pointer}.active-auth[_ngcontent-%COMP%], .login-link[_ngcontent-%COMP%]:hover, .logout-btn[_ngcontent-%COMP%]:hover{background:#84cd3c2e}.user-chip[_ngcontent-%COMP%]{border-radius:12px;border:1px solid rgba(17,82,43,.2);background:#f1faf2eb;padding:.32rem .6rem;min-width:132px;display:flex;flex-direction:column;line-height:1.1}.user-chip[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .user-chip[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-family:Fredoka,sans-serif}.user-chip[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:.78rem;color:#114f2d}.user-chip[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.7rem;color:#346148}.cart-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.4rem;text-decoration:none;border-radius:999px;background:#123e28;color:#fff;font-family:Fredoka,sans-serif;font-weight:700;padding:.45rem .95rem;box-shadow:0 10px 18px #0c361d40}.cart-count[_ngcontent-%COMP%]{min-width:20px;height:20px;border-radius:999px;background:#84cd3c;color:#103623;font-size:.72rem;font-weight:800;display:inline-flex;align-items:center;justify-content:center;line-height:1}@media(max-width:780px){.site-header[_ngcontent-%COMP%]{padding-inline:.55rem}.header-inner[_ngcontent-%COMP%]{border-radius:18px;flex-wrap:wrap;justify-content:center;row-gap:.5rem}.main-nav[_ngcontent-%COMP%]{order:3;width:100%;justify-content:center;margin:0;flex-wrap:wrap;padding-bottom:.2rem}.right-actions[_ngcontent-%COMP%]{width:100%;justify-content:center;flex-wrap:wrap}.brand[_ngcontent-%COMP%]{margin-left:0}.user-chip[_ngcontent-%COMP%]{min-width:0}}"]})};var au=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=ie({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){t&1&&he(0,"app-header")(1,"router-outlet")},dependencies:[ws,su],encapsulation:2})};jp(au,C_).catch(e=>console.error(e));
